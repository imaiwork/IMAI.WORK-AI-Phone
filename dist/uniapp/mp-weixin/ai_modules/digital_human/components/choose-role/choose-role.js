"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../api/digital_human.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-tabs")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("popup-bottom"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-tabs/u-tabs.js")+(()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../../../components/popup-bottom/popup-bottom.js"))();const t=e.defineComponent({__name:"choose-role",props:{modelValue:{type:Boolean,default:!1},activeIds:{type:Array,default:[]}},emits:["update:modelValue","confirm","close"],setup(t,{emit:u}){const o=t,a=e.computed({get:()=>o.modelValue,set(e){u("update:modelValue",e)}}),r=e.ref(0),i=e.shallowRef(),l=e.ref([]),n=async(e,t)=>{var u,o;try{const{lists:o}=await(0==r.value?s.getSoraRoleList:s.getSoraRolePublicList)({page_no:e,page_size:t,status:[0,1]});null==(u=i.value)||u.complete(o)}catch(a){null==(o=i.value)||o.complete([])}},p=e=>{var s;r.value=e,null==(s=i.value)||s.reload()},c=()=>{a.value=!1,e.index.$u.route({url:"/ai_modules/digital_human/pages/sora_create_role/sora_create_role"})},m=()=>{a.value=!1,u("close")};return(s,t)=>({a:e.o(p),b:e.p({list:[{name:"我的角色",value:0},{name:"公开角色",value:1}],"bg-color":"transparent",bold:!0,current:e.unref(r)}),c:e.o(c),d:e.f(e.unref(l),((s,t,o)=>e.e({a:s.pic,b:e.t(s.name),c:0==s.status},(s.status,{}),{d:t,e:e.o((t=>(s=>{1==s.status?(m(),u("confirm",s)):e.index.$u.toast("只能选择已生成角色的视频")})(s)),t)}))),e:e.sr(i,"1ca8a3ec-2,1ca8a3ec-0",{k:"pagingRef"}),f:e.o(n),g:e.o((s=>e.isRef(l)?l.value=s:null)),h:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(l)}),i:e.o((s=>e.isRef(a)?a.value=s:null)),j:e.p({title:"请选择角色","custom-class":"bg-_hF9FAFB_","is-disabled-touch":!0,modelValue:e.unref(a)})})}});wx.createComponent(t);
