"use strict";const e=require("../../../../common/vendor.js"),t=e.defineComponent({__name:"range-slider",props:{total:{default:10},start:{default:0},end:{default:4},maxDiff:{default:10}},emits:["change"],setup(t,{emit:a}){const l=t,{proxy:u}=e.getCurrentInstance(),o=e.ref(l.start),n=e.ref(l.end),r=e.ref(0),f=e.ref(0);let v="",i=0,c=!1;let s=0,d=0;const m=()=>{e.index.createSelectorQuery().in(u).select("#sliderTrack").boundingClientRect((e=>{e&&(r.value=e.width,f.value=e.left)})).exec()},h=e=>{const t=r.value-32,a=(e-f.value-16)/t,u=Math.round(a*l.total);return Math.max(0,Math.min(l.total,u))},x=(e,t)=>{v=e,i=t.touches[0].clientX,s=o.value,d=n.value,c=!1,m()},p=e=>{if(!v||0===r.value)return;const t=e.touches[0].clientX,a=Math.abs(t-i);if(!c&&a<5)return;c=!0;const u=r.value-32;if("left"===v){const e=h(t);let a=Math.min(n.value,e);n.value-a>l.maxDiff&&(a=n.value-l.maxDiff),o.value!==a&&(o.value=a,M())}else if("right"===v){const e=h(t);let a=Math.max(o.value,e);a-o.value>l.maxDiff&&(a=o.value+l.maxDiff),a=Math.min(l.total,a),n.value!==a&&(n.value=a,M())}else if("body"===v){const e=Math.round((t-i)/u*l.total);let a=s+e,r=d+e;const f=d-s;a<0?(a=0,r=f):r>l.total&&(r=l.total,a=l.total-f),o.value===a&&n.value===r||(o.value=a,n.value=r,M())}},g=()=>{v="",c=!1},M=()=>{a("change",{start:o.value,end:n.value})};return e.onMounted((()=>e.nextTick$1(m))),(a,l)=>({a:e.t(o.value),b:e.t(n.value),c:e.t(t.total),d:e.t(n.value-o.value),e:e.t(t.maxDiff),f:n.value-o.value>=t.maxDiff?1:"",g:o.value/t.total*100+"%",h:(n.value-o.value)/t.total*100+"%",i:"16px",j:"16px",k:e.t(o.value),l:"left"===e.unref(v)?1:"",m:o.value/t.total*100+"%",n:"left"===e.unref(v)?30:10,o:e.o((e=>x("left",e))),p:e.o(p),q:e.o(g),r:e.t(n.value),s:"right"===e.unref(v)?1:"",t:n.value/t.total*100+"%",v:"right"===e.unref(v)?30:10,w:e.o((e=>x("right",e))),x:e.o(p),y:e.o(g),z:e.t("body"===e.unref(v)?"⋯":"⠿"),A:e.t("body"===e.unref(v)?"正在平移中...":"按住平移区间"),B:"body"===e.unref(v)?1:"",C:e.o((e=>x("body",e))),D:e.o(p),E:e.o(g)})}}),a=e._export_sfc(t,[["__scopeId","data-v-861c8fa6"]]);wx.createComponent(a);
