"use strict";const e=require("../../../../common/vendor.js"),l=require("../../../../hooks/useKeyboardHeight.js");if(!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const a=e.defineComponent({__name:"choose-age",props:{modelValue:{type:Boolean}},emits:["update:modelValue","close","confirm"],setup(a,{expose:o,emit:u}){const t=a,{dynamicHeight:n}=l.useKeyboardHeight(),r=e.computed({get:()=>t.modelValue,set:e=>u("update:modelValue",e)}),s=e.ref(""),i=e.ref(""),m=[{label:"不限",min:"",max:""},{label:"18-23岁",min:"18",max:"23"},{label:"24-30岁",min:"24",max:"30"},{label:"31-40岁",min:"31",max:"40"},{label:"41-50岁",min:"41",max:"50"},{label:"50岁以上",min:"50",max:"99"}],p=e=>"不限"===e.label?!s.value&&!i.value:s.value===e.min&&i.value===e.max,v=()=>{if(!s.value&&!i.value)return u("confirm","不限"),void d();const l=parseInt(s.value||"0"),a=parseInt(i.value||"100");if(s.value&&i.value&&l>a)return void e.index.$u.toast("最小年龄不能大于最大年龄");let o="";o=!s.value&&i.value?`0-${a}岁`:s.value&&!i.value?`${l}-99岁`:`${l}-${a}岁`,u("confirm",o),d()},d=()=>{r.value=!1,u("close")};return o({setFormData:e=>{if("不限"===e)s.value="",i.value="";else{const[l,a]=e.replace("岁","").split("-");s.value=l||"",i.value=a||""}}}),(l,a)=>e.e({a:e.o(d),b:e.o(v),c:e.f(m,((l,a,o)=>({a:e.t(l.label),b:a,c:e.n(p(l)?"bg-_hEBF5FF_ text-primary border-primary":"bg-_hF6F7F9_ text-gray-500 border-transparent"),d:e.o((e=>(e=>{s.value=e.min,i.value=e.max})(l)),a)}))),d:e.o((l=>e.isRef(s)?s.value=l:null)),e:e.p({type:"number",placeholder:"最小年龄","custom-style":{textAlign:"center"},"placeholder-style":"font-size: 26rpx","adjust-position":!1,modelValue:e.unref(s)}),f:e.o((l=>e.isRef(i)?i.value=l:null)),g:e.p({type:"number",placeholder:"最大年龄","custom-style":{textAlign:"center"},"placeholder-style":"font-size: 26rpx","adjust-position":!1,modelValue:e.unref(i)}),h:e.unref(n)>0?1:"",i:0===e.unref(n)},(e.unref(n),{}),{j:e.unref(n)>0?e.unref(n)+"px":"env(safe-area-inset-bottom)",k:e.o(d),l:e.o((l=>e.isRef(r)?r.value=l:null)),m:e.p({mode:"bottom","border-radius":"24","safe-area-inset-bottom":!0,"mask-close-able":!0,modelValue:e.unref(r)})})}});wx.createComponent(a);
