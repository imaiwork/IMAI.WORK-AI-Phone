"use strict";const e=require("../../../../common/vendor.js"),u=require("../../../../stores/app.js");if(require("../../../../api/app.js"),require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../config/index.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-checkbox")+e.resolveComponent("u-checkbox-group")+e.resolveComponent("empty")+e.resolveComponent("popup-bottom"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-checkbox/u-checkbox.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-checkbox-group/u-checkbox-group.js")+(()=>"../../../../components/empty/empty.js")+(()=>"../../../../components/popup-bottom/popup-bottom.js"))();const o=e.defineComponent({__name:"comment-filter",props:{modelValue:{type:Boolean}},emits:["update:modelValue","confirm","close"],setup(o,{expose:t,emit:r}){const s=o,l=e.computed({get:()=>s.modelValue,set(e){r("update:modelValue",e)}}),a=u.useAppStore(),i=e.ref([]),n=e.ref(""),c=e.computed({get:()=>0!==i.value.length&&i.value.every((e=>e.checked)),set(e){i.value.forEach((u=>{u.checked=e}))}}),p=()=>{""!==n.value.trim()?i.value.some((e=>e.value===n.value))?e.index.$u.toast("评论词已存在"):(i.value.push({value:n.value,checked:!0}),n.value=""):e.index.$u.toast("请输入评论词")},m=()=>{i.value=i.value.filter((e=>!e.checked))},v=()=>{r("confirm",i.value.filter((e=>e.checked))),d()},d=()=>{l.value=!1,r("close")};return e.watch((()=>a.getCommentFilterConfig),(e=>{e&&e.length>0&&(i.value=e.map((e=>({value:e,checked:!0}))))}),{immediate:!0}),t({setFormData:e=>{i.value.forEach((u=>{e.some((e=>e.value===u.value))?u.checked=!0:u.checked=!1}))}}),(u,o)=>e.e({a:e.o((u=>e.isRef(n)?n.value=u:null)),b:e.p({placeholder:"请输入评论词筛选",maxlength:"100",clearable:!0,modelValue:e.unref(n)}),c:e.o(p),d:e.unref(i).length>0},e.unref(i).length>0?{e:e.o((u=>e.isRef(c)?c.value=u:null)),f:e.p({"label-size":"28",modelValue:e.unref(c)}),g:e.o(m),h:e.t(e.unref(i).filter((e=>e.checked)).length),i:e.f(e.unref(i),((u,o,t)=>({a:e.t(u.value),b:"5718f9a8-5-"+t+",5718f9a8-4-"+t,c:e.o((e=>u.checked=e),o),d:e.p({"label-size":"28",modelValue:u.checked}),e:"5718f9a8-4-"+t+",5718f9a8-0",f:o})))}:{},{j:e.o(v),k:e.o(d),l:e.o((u=>e.isRef(l)?l.value=u:null)),m:e.p({title:"评论词筛选",modelValue:e.unref(l)})})}});wx.createComponent(o);
