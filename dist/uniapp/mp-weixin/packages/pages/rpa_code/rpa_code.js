"use strict";const e=require("../../../common/vendor.js"),r=require("../../../api/user.js"),s=require("../../../hooks/usePolling.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../utils/auth.js"),require("../../../enums/constantEnums.js"),require("../../../utils/cache.js"),require("../../../stores/user.js"),require("../../../hooks/useShareMessage.js"),require("../../../router/index.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../stores/app.js"),require("../../../api/app.js"),require("../../../api/chat.js"),require("../../../api/voice_chat.js"),require("../../../config/index.js"),!Array){e.resolveComponent("confirm-dialog")()}Math;const u=e.defineComponent({__name:"rpa_code",setup(u){const t=e.ref(""),i=e.ref(""),a=e.ref(!1),{start:o,end:n}=s.usePolling((async()=>{const s=await r.getRpaQrcodeStatus();1==s.status&&(n(),i.value=s.device_code,a.value=!0,e.index.showToast({title:"绑定成功",icon:"none",duration:3e3}))}),{time:4500}),c=()=>{e.index.$u.route({url:"/pages/phone/phone",type:"reLaunch"})},l=()=>{e.index.$u.route({url:"/ai_modules/device/pages/create_auto_task/create_auto_task",type:"reLaunch",params:{device_code:i.value,is_auto:1}})};return e.onMounted((()=>{(async()=>{const e=await r.getRpaQrcode();t.value=e.url,o()})()})),e.onUnload((()=>{n()})),(r,s)=>({a:e.unref(t),b:e.o(c),c:e.o(l),d:e.o((r=>e.isRef(a)?a.value=r:null)),e:e.p({center:!0,content:"<div>您已添加新的设备，是否需要为该设备设置24小时自动任务？注意：设备必须在线才能拉取账号</div>",modelValue:e.unref(a)})})}});wx.createPage(u);
