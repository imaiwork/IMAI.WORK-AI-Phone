<view class="h-screen flex flex-col"><view class="px-_26rpx_ mt-2 flex justify-between items-center gap-x-2"><view><view class="text-_40rpx_ font-bold">设备管理</view><view class="text-xs text-_h0000004d_ font-bold">{{a}}</view></view><view class="flex items-center gap-x-2"><view class="flex items-center px-_24rpx_ gap-x-2 bg-white h-_70rpx_ rounded-_20rpx_" bindtap="{{b}}"><image src="/static/images/icons/calendar.svg" class="w-_24rpx_ h-_24rpx_"></image><text class="font-bold">任务日历</text></view><view class="flex items-center px-_24rpx_ gap-x-2 bg-white h-_70rpx_ rounded-_20rpx_" bindtap="{{c}}"><image src="/static/images/icons/device.svg" class="w-_24rpx_ h-_24rpx_"></image><text class="font-bold">新增设备</text></view></view></view><view class="px-4 flex items-center gap-x-4 mt-4"><view wx:for="{{d}}" wx:for-item="item" wx:key="d" class="flex items-center gap-x-2"><view class="w-_10rpx_ h-_10rpx_ rounded-full" style="{{'background-color:' + item.a}}"></view><text class="text-_22rpx_ text-_h000000b3_ font-bold">{{item.b}} {{item.c}}</text></view></view><view class="grow min-h-0 mt-5"><z-paging wx:if="{{l}}" class="r" u-s="{{['empty','d']}}" u-r="pagingRef" bindquery="{{j}}" u-i="610be236-0" bind:__l="__l" bindupdateModelValue="{{k}}" u-p="{{l}}"><view class="px-_26rpx_"><view class="flex flex-col gap-y-_20rpx_"><view wx:for="{{e}}" wx:for-item="item" wx:key="Y" class="bg-white rounded-_20rpx_ px-5 py-_28rpx_ relative" bindtap="{{item.Z}}"><view class="absolute right-2 top-1 p-2" catchtap="{{item.c}}"><switch style="transform:scale(0.7)" color="#0065FB" checked="{{item.a}}" bindchange="{{item.b}}"></switch></view><view class="flex items-center gap-x-_30rpx_"><view class="w-_80rpx_ h-_80rpx_ rounded-_20rpx_ flex items-center justify-center flex-shrink-0" style="{{'background-color:' + item.g}}"><view class="w-_40rpx_ h-_40rpx_"><image wx:if="{{item.d}}" src="/static/images/icons/device_error.svg" class="w-full h-full"></image><image wx:if="{{item.e}}" src="/static/images/icons/device_success.svg" class="w-full h-full"></image><image wx:if="{{item.f}}" src="/static/images/icons/device_primary.svg" class="w-full h-full"></image></view></view><view class="mr-4"><view class="line-clamp-1 text-_30rpx_ font-bold break-all">{{item.h}}</view><view class="flex items-center gap-x-2"><view class="text-xs font-bold text-_h000000b3_">{{item.i}}</view><view class="flex items-center gap-x-1 mt-_4rpx_"><view class="w-_10rpx_ h-_10rpx_ rounded-full" style="{{'background-color:' + item.j}}"></view><view class="font-bold" style="{{'color:' + item.l}}">{{item.k}}</view></view></view></view></view><block wx:if="{{item.m}}"><view class="mt-_34rpx_ flex items-center border-_0_ border-b-_2rpx_ border-solid border-_h0000000d_ pb-4"><view class="font-bold">账号：</view><view wx:if="{{item.n}}" class="flex flex-wrap items-center gap-1"><image wx:for="{{item.o}}" wx:for-item="account" wx:key="b" src="{{account.a}}" class="w-_40rpx_ h-_40rpx_"></image></view><view wx:else class="text-_hff2442_ font-bold"> 未获取社媒账号 </view></view><view class="mt-_26rpx_"><view wx:if="{{item.p}}" class="flex items-center gap-x-2 mt-_24rpx_ font-bold" style="{{'color:' + item.q}}"> 设备已离线，请检查 </view><view wx:elif="{{item.r}}" class="h-_80rpx_ flex items-center justify-center gap-x-1 bg-_hff2442_ rounded-_10rpx_ text-white font-bold" catchtap="{{item.v}}"> 去获取<u-icon wx:if="{{item.t}}" u-i="{{item.s}}" bind:__l="__l" u-p="{{item.t}}"></u-icon></view><view wx:elif="{{item.w}}"><view class="font-bold">当前任务（{{item.x}}）</view><view wx:if="{{item.y}}" class="flex gap-x-10 items-center"><view class="flex-1"><view wx:for="{{item.z}}" wx:for-item="task" wx:key="k" class="{{['flex', 'items-center', 'gap-x-2', 'mt-_20rpx_', task.g && 'text-_hFF2442_', task.h && 'text-primary', task.i && 'text-_h0000004d_', task.j && 'text-_h00C08E_']}}"><view class="line-clamp-1 text-xs w-_60p_"><text>•</text> {{task.a}}</view><view class="{{['text-xs', 'flex-shrink-0', task.c && 'text-_hFF2442_', task.d && 'text-primary', task.e && 'text-_h0000004d_', task.f && 'text-_h00C08E_']}}">{{task.b}}</view></view></view><view class="flex-shrink-0"><circle-progress wx:if="{{item.B}}" u-i="{{item.A}}" bind:__l="__l" u-p="{{item.B}}"></circle-progress></view></view></view><view wx:if="{{item.C}}" class="h-_80rpx_ flex items-center justify-center gap-x-1 border border-solid border-_h0065fb33_ rounded-_10rpx_ mt-_30rpx_" catchtap="{{item.F}}"><u-icon wx:if="{{item.E}}" u-i="{{item.D}}" bind:__l="__l" u-p="{{item.E}}"></u-icon><text class="text-xs text-primary font-bold">创建新任务</text></view></view></block><block wx:else><view class="mt-_34rpx_"><view class="flex items-center justify-between"><block wx:if="{{item.G}}"><view class="text-_hFF2442_ font-bold" catchtap="{{item.H}}">请先完善设置</view></block><block wx:elif="{{item.I}}"><view class="text-primary font-bold">{{item.J}}</view><view class="text-primary font-bold">{{item.K}}% </view></block><block wx:else><view class="text-_h0000004d_ font-bold">等待执行</view></block></view><view class="mt-_4rpx_"><u-line-progress wx:if="{{item.M}}" u-i="{{item.L}}" bind:__l="__l" u-p="{{item.M}}"></u-line-progress></view></view><view class="flex gap-x-_14rpx_ mt-_36rpx_"><block wx:if="{{item.N}}"><view class="flex-1 h-_80rpx_ border border-solid border-_hff244233_ rounded-_16rpx_ flex items-center justify-center gap-x-2"><text class="text-_hFF2442_ font-bold">设备已离线</text></view></block><block wx:else><view wx:if="{{item.O}}" class="flex-1 h-_80rpx_ bg-_hFF2442_ rounded-_16rpx_ flex items-center justify-center gap-x-2" catchtap="{{item.R}}"><text class="text-white font-bold">去设置</text><u-icon wx:if="{{item.Q}}" u-i="{{item.P}}" bind:__l="__l" u-p="{{item.Q}}"></u-icon></view><view wx:else class="flex-1 h-_80rpx_ flex items-center justify-center bg-_h0065fb0d_ rounded-_16rpx_ font-bold" style="{{'color:' + item.T + ';' + ('background-color:' + item.U)}}">{{item.S}}</view></block><block wx:if="{{item.V}}"><view class="h-_80rpx_ w-_144rpx_ border border-solid border-_h0000001a_ rounded-_16rpx_ flex items-center justify-center gap-x-2" catchtap="{{item.W}}"><image src="/static/images/icons/statement.svg" class="w-_28rpx_ h-_28rpx_"></image><text class="font-bold">报表</text></view><view class="h-_80rpx_ w-_144rpx_ border border-solid border-_h0000001a_ rounded-_16rpx_ flex items-center justify-center gap-x-2" catchtap="{{item.X}}"><image src="/static/images/icons/setting2.svg" class="w-_28rpx_ h-_28rpx_"></image><text class="font-bold">配置</text></view></block></view></block></view></view></view><view class="w-full h-full pt-10 flex flex-col items-center" slot="empty"><image src="{{f}}" class="w-_442rpx_ h-_492rpx_ mx-auto"></image><view class="mx-auto mt-4 w-_300rpx_ h-_84rpx_ rounded-_16rpx_ bg-black flex items-center justify-center gap-x-1 text-white font-bold text-_30rpx_" bindtap="{{h}}"> 即刻新增设备<u-icon wx:if="{{g}}" u-i="610be236-6,610be236-0" bind:__l="__l" u-p="{{g}}"></u-icon></view></view></z-paging></view><tabbar u-i="610be236-7" bind:__l="__l"/></view><confirm-dialog wx:if="{{o}}" bindconfirm="{{m}}" u-i="610be236-8" bind:__l="__l" bindupdateModelValue="{{n}}" u-p="{{o}}"/><popup-bottom wx:if="{{s}}" u-s="{{['content']}}" bindclose="{{q}}" u-i="610be236-9" bind:__l="__l" bindupdateModelValue="{{r}}" u-p="{{s}}"><view class="h-full bg-_hF7F7F7_ flex flex-col" slot="content"><view class="grow min-h-0 bg-white flex flex-col justify-center py-2"><view wx:for="{{p}}" wx:for-item="item" wx:key="c" class="{{['text-center', 'flex-1', 'flex', 'items-center', 'justify-center', 'gap-x-2', 'relative', 'text-_30rpx_', 'font-bold', item.d && 'text-primary', item.e && 'border-_0_ border-b-_1rpx_ border-solid border-_h00000008_']}}" catchtap="{{item.f}}"><image wx:if="{{item.a}}" src="/static/images/icons/success.svg" class="w-_32rpx_ h-_32rpx_"></image> {{item.b}}</view></view><view class="py-4 text-center mt-2 bg-white text-_30rpx_ font-bold">取消</view></view></popup-bottom>