"use strict";const e=require("../../../../common/vendor.js"),i=require("../../../../api/agent.js"),t=require("../../../../api/device.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("empty")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const r=e.defineComponent({__name:"setting_private_take",setup(r){const a=e.ref(!0),s=e.ref(""),n=e.ref([]),o=e.ref(null),u=e.ref(),d=async(e,t)=>{try{const{lists:r}=await i.getAgentList({page_no:e,page_size:t});o.value.complete(r)}catch(r){o.value.complete([])}},c=async()=>{if(u.value){e.index.showLoading({title:"保存中...",mask:!0});try{await t.createAutoTaskPrivateTakeConfig({device_code:s.value,robot_id:u.value}),e.index.hideLoading(),e.index.showToast({title:"保存成功",icon:"none",duration:3e3}),e.index.navigateBack()}catch(i){e.index.hideLoading(),e.index.showToast({title:i||"保存失败",icon:"none",duration:3e3})}}else e.index.$u.toast("请选择智能体")};return e.onLoad((i=>{s.value=i.device_code,(async()=>{e.index.showLoading({title:"加载中...",mask:!0});try{const e=await t.getAutoTaskPrivateTakeConfigDetail({device_code:s.value});u.value=e.robot_id}finally{e.index.hideLoading(),a.value=!1}})()})),(i,t)=>e.e({a:!e.unref(a)},e.unref(a)?{}:{b:e.f(e.unref(n),((i,t,r)=>e.e({a:i.image,b:e.t(i.name),c:e.t(i.intro),d:e.t(i.source_text),e:e.unref(u)==i.id},(e.unref(u),i.id,{}),{f:t,g:e.n(e.unref(u)==i.id?"shadow-_0_0_0_2rpx_h0065FB_ bg-_hdeecffb3_":"bg-white"),h:e.o((e=>u.value=i.id),t)}))),c:e.sr(o,"782c089e-0",{k:"pagingRef"}),d:e.o(d),e:e.o((i=>e.isRef(n)?n.value=i:null)),f:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(n)}),g:e.o(c)})}});wx.createPage(r);
