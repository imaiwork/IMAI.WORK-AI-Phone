"use strict";const e=require("../../common/vendor.js"),s=require("../../api/device.js"),t=require("../../enums/appEnums.js"),r=require("../../common/assets.js");if(require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../utils/auth.js"),require("../../enums/constantEnums.js"),require("../../utils/cache.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../hooks/useShareMessage.js"),require("../../router/index.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../stores/app.js"),require("../../api/app.js"),require("../../api/chat.js"),require("../../api/voice_chat.js"),require("../../config/index.js"),!Array){(e.resolveComponent("circle-progress")+e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("tabbar")+e.resolveComponent("confirm-dialog"))()}Math||((()=>"../../components/circle-progress/circle-progress.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../components/empty/empty.js")+(()=>"../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../components/tabbar/tabbar.js")+(()=>"../../components/confirm-dialog/confirm-dialog.js"))();const a=e.defineComponent({__name:"phone",setup(a){const n=e.ref([]),o=e.shallowRef(),u=e.ref(!1),i=e.computed(()=>{const e=new Date,s=e.getDay(),t=e.getMonth()+1;return`${{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"}[s]}，${t}月${e.getDate()}日`}),c=async(e,t)=>{var r,a;try{const{lists:a}=await s.getDeviceList({page_no:e,page_size:t});null==(r=o.value)||r.complete(a)}catch(n){null==(a=o.value)||a.complete([])}},l=e=>{switch(e){case t.AppTypeEnum.WECHAT:return r.wechatWechatActiveIcon;case t.AppTypeEnum.XHS:return r.redbookActiveIcon;case t.AppTypeEnum.DOUYIN:return r.douyinActiveIcon;case t.AppTypeEnum.KUAISHOU:return r.kuaishouActiveIcon}},p=e=>{switch(e){case 0:return"text-_hFF2442_ bg-_rgba_255b36b66b0d1__";case 1:return"text-_h00C08E_ bg-_rgba_0b192b142b0d1__";default:return"text-primary bg-primary-light-9"}},d=e=>{switch(e){case 0:return"等待中";case 1:return"执行中";case 2:return"执行完成";case 3:return"执行失败";case 4:return"中断";default:return"-"}},m=e=>{const{task_count:s,task_complete:t}=e;return 0==s?0:Math.round(t/s*100)},g=()=>{console.log("handleConfirm")},f=s=>{e.index.navigateTo({url:s})};return e.onShow(async()=>{var s;await e.nextTick$1(),null==(s=o.value)||s.reload()}),(s,t)=>({a:e.t(e.unref(i)),b:e.o(e=>f("/ai_modules/device/pages/task_calendar/task_calendar")),c:e.o(e=>f("/packages/pages/rpa_code/rpa_code")),d:e.f(e.unref(n),(s,t,r)=>{var a,n;return e.e({a:e.t(s.device_name||"-"),b:e.t(0===s.status?"离线":1===s.status?"在线":"工作中"),c:e.n(p(s.status)),d:e.f(s.accounts,(e,s,t)=>({a:l(e.type),b:s})),e:e.t(s.task_count),f:(null==(a=s.tasks)?void 0:a.length)>0},(null==(n=s.tasks)?void 0:n.length)>0?{g:e.f(s.tasks,(s,t,r)=>({a:e.t(s.task_name),b:e.t(d(s.status)),c:[3,4].includes(s.status)?1:"",d:[1].includes(s.status)?1:"",e:[0].includes(s.status)?1:"",f:[2].includes(s.status)?1:"",g:[3,4].includes(s.status)?1:"",h:[1].includes(s.status)?1:"",i:[0].includes(s.status)?1:"",j:[2].includes(s.status)?1:"",k:s.id})),h:"8606aff0-1-"+r+",8606aff0-0",i:e.p({percent:m(s),borderWidth:"10rpx",width:"136rpx",progressColor:"#467EF9",notProgressColor:"#F1F1F1"})}:{},{j:"8606aff0-2-"+r+",8606aff0-0",k:t,l:e.o(t=>(s=>{e.index.navigateTo({url:`/ai_modules/device/pages/detail/detail?device_code=${s.device_code}`})})(s),t)})}),e:e.p({name:"arrow-right",color:"#B2B2B2"}),f:e.sr(o,"8606aff0-0",{k:"pagingRef"}),g:e.o(c),h:e.o(s=>e.isRef(n)?n.value=s:null),i:e.p({fixed:!1,auto:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(n)}),j:e.o(g),k:e.o(s=>e.isRef(u)?u.value=s:null),l:e.p({title:"提示",content:"您还未完成自动任务的初次配置，是否立即进行配置",modelValue:e.unref(u)})})}});wx.createPage(a);
