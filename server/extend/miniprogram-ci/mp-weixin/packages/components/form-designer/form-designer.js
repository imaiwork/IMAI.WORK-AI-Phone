"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("u-form-item")+e.resolveComponent("u-form"))()}Math||(a+o+t+r+(()=>"../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-form/u-form.js"))();const a=()=>"./widgets/input.js",o=()=>"./widgets/textarea.js",t=()=>"./widgets/select.js",r=()=>"./widgets/file.js",l=e.defineComponent({__name:"form-designer",props:{formLists:{default:()=>[]},modelValue:null,labelPosition:{default:"top"},borderBottom:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{expose:o,emit:t}){const r=a,l=e.shallowRef(),i=e.computed({get:()=>r.modelValue,set(e){t("update:modelValue",e)}}),p=e.ref({});return e.watch(()=>r.formLists,a=>{p.value=null==a?void 0:a.reduce((e,a)=>(a.props.isRequired&&(e[a.props.field]=[{type:"any",required:!0,message:`${a.props.title}不能为空`,trigger:"blur,change"}]),e),{}),e.nextTick$1(()=>{var e;null==(e=l.value)||e.setRules(p.value)})},{immediate:!0}),o({validate:async()=>new Promise((e,a)=>{var o;null==(o=l.value)||o.validate(o=>{o?e(!0):a()})})}),(o,t)=>({a:e.f(a.formLists,(o,t,r)=>e.e({a:"WidgetInput"===o.name},"WidgetInput"===o.name?{b:"5afaa6f0-2-"+r+",5afaa6f0-1-"+r,c:e.o(a=>e.unref(i)[o.props.field]=a,o.id),d:e.p({...o.props,modelValue:e.unref(i)[o.props.field]})}:"WidgetTextarea"===o.name?{f:"5afaa6f0-3-"+r+",5afaa6f0-1-"+r,g:e.o(a=>e.unref(i)[o.props.field]=a,o.id),h:e.p({...o.props,modelValue:e.unref(i)[o.props.field]})}:["WidgetSelect","WidgetMultiple"].includes(o.name)?{j:"5afaa6f0-4-"+r+",5afaa6f0-1-"+r,k:e.o(a=>e.unref(i)[o.props.field]=a,o.id),l:e.p({...o.props,multiple:"WidgetMultiple"===o.name,modelValue:e.unref(i)[o.props.field]})}:"WidgetFile"===o.name?{n:"5afaa6f0-5-"+r+",5afaa6f0-1-"+r,o:e.o(a=>e.unref(i)[o.props.field]=a,o.id),p:e.p({...o.props,modelValue:e.unref(i)[o.props.field]})}:{},{e:"WidgetTextarea"===o.name,i:["WidgetSelect","WidgetMultiple"].includes(o.name),m:"WidgetFile"===o.name,q:o.id,r:"5afaa6f0-1-"+r+",5afaa6f0-0",s:e.p({prop:o.props.field,label:o.props.title,borderBottom:a.borderBottom})})),b:e.sr(l,"5afaa6f0-0",{k:"formRef"}),c:e.p({model:e.unref(i),...{...o.$attrs,...r},"error-type":["toast"]})})}});wx.createComponent(l);
