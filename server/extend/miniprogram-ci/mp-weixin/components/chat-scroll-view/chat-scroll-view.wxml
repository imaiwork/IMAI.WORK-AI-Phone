<view class="h-full flex flex-col min-h-0 data-v-d6735c65"><view wx:if="{{a}}" class="flex flex-col flex-1 min-h-0 py-4 relative data-v-d6735c65"><view class="scroll-view-content flex-1 flex min-h-0 data-v-d6735c65"><scroll-view class="data-v-d6735c65" scroll-y ref="contentRef" scroll-top="{{d}}"><view wx:if="{{b}}" class="content-box data-v-d6735c65"><view wx:for="{{c}}" wx:for-item="item" wx:key="c" class="data-v-d6735c65"><view class="pb-4 data-v-d6735c65"><chat-record-item wx:if="{{item.b}}" class="data-v-d6735c65" u-i="{{item.a}}" bind:__l="__l" u-p="{{item.b}}"></chat-record-item></view></view></view><slot wx:else name="empty"></slot></scroll-view></view><view wx:if="{{e}}" class="w-full flex justify-center mb-2 absolute bottom-0 data-v-d6735c65"><view class="flex items-center justify-center rounded-full px-_16rpx_ h-_76rpx_ w-_228rpx_ border border-solid border-_hEDEDEE_ data-v-d6735c65" bindtap="{{f}}"><text class="text-xs text-_h989898_ data-v-d6735c65">开启全新对话</text></view></view></view><view wx:if="{{g}}" class="grow min-h-0 relative data-v-d6735c65"><scroll-view class="h-full w-full data-v-d6735c65" scroll-y><slot name="content"></slot></scroll-view><view wx:if="{{h}}" class="absolute bottom-_-40rpx_ left-0 right-0 h-20 z-10 pointer-events-none data-v-d6735c65" style="background:linear-gradient(360deg, #eef0f6, transparent)"></view></view><view class="{{['px-_20rpx_', 'pt-1', 'mb-_20rpx_', 'relative', 'flex-shrink-0', 'data-v-d6735c65', aa]}}"><view class="relative z-_79_ chat-bottom-box data-v-d6735c65"><view class="flex flex-col data-v-d6735c65"><scroll-view wx:if="{{i}}" scroll-x class="mb-1 data-v-d6735c65"><view class="flex items-center gap-x-2 whitespace-nowrap pt-1 data-v-d6735c65"><view wx:if="{{j}}" class="text-xs bg-white rounded-_16rpx_ px-2 h-_60rpx_ inline-flex items-center gap-x-1 data-v-d6735c65" bindtap="{{n}}"><image src="{{k}}" class="w-_28rpx_ h-_28rpx_ rounded-full data-v-d6735c65"></image><text class="whitespace-nowrap data-v-d6735c65">{{l}}</text><view class="ml-1 inline-block data-v-d6735c65"><u-icon wx:if="{{m}}" class="data-v-d6735c65" u-i="d6735c65-1" bind:__l="__l" u-p="{{m}}"></u-icon></view></view><view wx:if="{{o}}" class="bg-white rounded-_16rpx_ px-2 h-_60rpx_ gap-x-1 border border-solid border-_hE9EBEC_ inline-flex items-center relative data-v-d6735c65" bindtap="{{t}}"><image src="{{p}}" class="w-_28rpx_ h-_28rpx_ rounded-_24rpx_ data-v-d6735c65" mode="aspectFill"/><text class="max-w-_200rpx_ text-ellipsis overflow-hidden whitespace-nowrap text-xs data-v-d6735c65">{{q}}</text><view class="absolute right-_-10rpx_ top-_-10rpx_ flex items-center justify-center w-_32rpx_ h-_32rpx_ rounded-full bg-_h0000004C_ data-v-d6735c65" catchtap="{{s}}"><u-icon wx:if="{{r}}" class="data-v-d6735c65" u-i="d6735c65-2" bind:__l="__l" u-p="{{r}}"></u-icon></view></view><view class="{{['flex-shrink-0', 'flex', 'items-center', 'justify-center', 'gap-x-1', 'text-xs', 'bg-white', 'rounded-_16rpx_', 'h-_60rpx_', 'px-2', 'data-v-d6735c65', y && 'ibg-primary itext-white']}}" bindtap="{{z}}"><u-icon wx:if="{{v}}" class="data-v-d6735c65" u-i="d6735c65-3" bind:__l="__l" u-p="{{w}}"></u-icon><u-icon wx:else class="data-v-d6735c65" u-i="d6735c65-4" bind:__l="__l" u-p="{{x||''}}"></u-icon><text class="text-xs data-v-d6735c65">联网搜索</text></view><view class="flex-shrink-0 flex items-center justify-center gap-x-1 text-xs bg-white rounded-_16rpx_ h-_60rpx_ px-2 data-v-d6735c65" bindtap="{{B}}"><u-icon wx:if="{{A}}" class="data-v-d6735c65" u-i="d6735c65-5" bind:__l="__l" u-p="{{A}}"></u-icon><text class="text-xs data-v-d6735c65">历史对话</text></view><view class="flex-shrink-0 leading-_0_ h-_60rpx_ w-_60rpx_ flex items-center justify-center rounded-full bg-white data-v-d6735c65" bindtap="{{D}}"><u-icon wx:if="{{C}}" class="data-v-d6735c65" u-i="d6735c65-6" bind:__l="__l" u-p="{{C}}"></u-icon></view></view></scroll-view><view wx:if="{{E}}" class="mb-2 data-v-d6735c65"><slot name="chatAreaTop"></slot></view><view class="flex-1 flex gap-x-2 items-center data-v-d6735c65"><slot wx:if="{{F}}" name="sendLeft"></slot><view class="flex-1 bg-white rounded-_48rpx_ rounded-tr-_48rpx_ border border-solid border-_hF1F1F2_ overflow-hidden relative py-_6rpx_ data-v-d6735c65"><view wx:if="{{G}}" class="p-2 flex data-v-d6735c65"><view wx:for="{{H}}" wx:for-item="item" wx:key="d" class="data-v-d6735c65"><file-item wx:if="{{item.c}}" class="data-v-d6735c65" bindonDelete="{{item.a}}" u-i="{{item.b}}" bind:__l="__l" u-p="{{item.c}}"/></view></view><view class="flex data-v-d6735c65"><view wx:if="{{I}}" class="ml-3 mb-2 mt-2 flex flex-col justify-center data-v-d6735c65"><view class="flex-shrink-0 w-_44rpx_ h-_44rpx_ flex items-center justify-center data-v-d6735c65" bindtap="{{J}}"><image src="/static/images/icons/add2.svg" class="w-full h-full data-v-d6735c65"></image></view></view><block wx:if="{{r0}}"><textarea class="iw-full max-h-_300rpx_ overflow-y-auto text-_26rpx_ px-2 py-_24rpx_ data-v-d6735c65" ref="textareaRef" confirm-type="done" maxlength="-1" hold-keyboard placeholder-style="color: rgba(0, 0, 0, 0.2); font-size: 26rpx;" auto-height focus="{{K}}" adjust-position="{{false}}" placeholder="{{L}}" show-confirm-bar="{{false}}" disable-default-padding="{{true}}" bindfocus="{{M}}" bindblur="{{N}}" bindinput="{{O}}" value="{{P}}"></textarea></block><view class="flex-shrink-0 flex items-end gap-2d5 mr-3 mb-1 data-v-d6735c65"><view wx:if="{{Q}}" class="send-btn bg-primary-light-9 data-v-d6735c65" bindtap="{{S}}"><u-icon wx:if="{{R}}" class="data-v-d6735c65" u-i="d6735c65-8" bind:__l="__l" u-p="{{R}}"></u-icon></view><view wx:else class="{{['send-btn', 'data-v-d6735c65', W]}}" catchtap="{{X}}"><u-icon wx:if="{{T}}" class="data-v-d6735c65" u-i="d6735c65-9" bind:__l="__l" u-p="{{U}}"></u-icon><u-icon wx:else class="data-v-d6735c65" u-i="d6735c65-10" bind:__l="__l" u-p="{{V||''}}"></u-icon></view></view></view></view></view><view wx:if="{{Y}}" class="flex justify-center mt-_20rpx_ data-v-d6735c65"><view class="flex items-center rounded-full bg-_h00000008_ gap-x-1d5 p-_6rpx_ data-v-d6735c65"><u-icon wx:if="{{Z}}" class="data-v-d6735c65" u-i="d6735c65-11" bind:__l="__l" u-p="{{Z}}"></u-icon><view class="text-_rgba_0b0b0b0d3__ text-xs data-v-d6735c65"> 免责声明：内容由AI大模型生成，请仔细甄别。 </view></view></view></view></view></view><view class="flex-shrink-0 data-v-d6735c65" style="{{'height:' + ab}}"></view></view><popup-bottom wx:if="{{aL}}" class="data-v-d6735c65" u-s="{{['content']}}" u-i="d6735c65-12" bind:__l="__l" bindupdateShow="{{aK}}" u-p="{{aL}}"><view class="h-_85p_ p-4 flex flex-col gap-y-4 data-v-d6735c65" slot="content"><view class="grow min-h-0 data-v-d6735c65"><scroll-view scroll-y class="h-full data-v-d6735c65"><view class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">上下文数</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{ac}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{5}}" bindchange="{{ad}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{ae}}条</view></view></view><view wx:if="{{af}}" class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">词汇多样性</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{ag}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{1}}" step="{{0.1}}" bindchange="{{ah}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{ai}}</view></view></view><view wx:if="{{aj}}" class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">重复词频率</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{ak}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{al}}" max="{{2}}" step="{{0.1}}" bindchange="{{am}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{an}}</view></view></view><view wx:if="{{ao}}" class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">特定词重复率</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{ap}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{1}}" step="{{0.1}}" bindchange="{{aq}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{ar}}</view></view></view><view class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">结果相似性</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{as}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{at}}" step="{{0.1}}" bindchange="{{av}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{aw}}</view></view></view><view wx:if="{{ax}}" class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">显示前几个候选词对数概率</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{ay}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{1}}" step="{{0.1}}" bindchange="{{az}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{aA}}</view></view></view><view class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">返回长度</view><view class="flex items-center gap-x-2 data-v-d6735c65"><view class="flex-1 data-v-d6735c65"><slider class="data-v-d6735c65" value="{{aB}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{1}}" max="{{aC}}" step="{{1}}" bindchange="{{aD}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-d6735c65">{{aE}}</view></view></view><view wx:if="{{aF}}" class="data-v-d6735c65"><view class="mb-4 data-v-d6735c65">显示候选词</view><view class="flex items-center gap-x-2 data-v-d6735c65"><u-switch wx:if="{{aH}}" class="data-v-d6735c65" u-i="d6735c65-13,d6735c65-12" bind:__l="__l" bindupdateModelValue="{{aG}}" u-p="{{aH}}"/></view></view></scroll-view></view><view class="mt-4 flex-shrink-0 data-v-d6735c65"><u-button wx:if="{{aJ}}" class="data-v-d6735c65" u-s="{{['d']}}" bindclick="{{aI}}" u-i="d6735c65-14,d6735c65-12" bind:__l="__l" u-p="{{aJ}}">保存设置</u-button></view></view></popup-bottom><popup-bottom wx:if="{{aO}}" class="data-v-d6735c65" u-s="{{['content']}}" u-i="d6735c65-15" bind:__l="__l" bindupdateShow="{{aN}}" u-p="{{aO}}"><scroll-view scroll-y class="h-full data-v-d6735c65" slot="content"><view class="pb-_150rpx_ data-v-d6735c65"><view class="p-4 flex flex-col gap-y-4 data-v-d6735c65"><view wx:for="{{aM}}" wx:for-item="item" wx:key="c" class="{{['border', 'border-solid', 'border-_hE9EBEC_', 'rounded-_10rpx_', 'px-4', 'py-3', 'flex', 'items-center', 'gap-x-2', 'data-v-d6735c65', item.d && 'iborder-primary text-primary font-bold']}}" bindtap="{{item.e}}"><image src="{{item.a}}" class="w-_48rpx_ h-_48rpx_ rounded-_12rpx_ data-v-d6735c65" mode="aspectFill"></image><text class="text-xs line-clamp-1 data-v-d6735c65">{{item.b}}</text></view></view></view></scroll-view></popup-bottom><popup-bottom wx:if="{{aV}}" class="data-v-d6735c65" u-s="{{['content']}}" u-i="d6735c65-16" bind:__l="__l" bindupdateShow="{{aU}}" u-p="{{aV}}"><view class="h-full data-v-d6735c65" slot="content"><z-paging wx:if="{{aT}}" class="r data-v-d6735c65" u-s="{{['empty','d']}}" u-r="agentPagingRef" bindquery="{{aR}}" u-i="d6735c65-17,d6735c65-16" bind:__l="__l" bindupdateModelValue="{{aS}}" u-p="{{aT}}"><view class="flex flex-col gap-4 px-_32rpx_ mt-4 data-v-d6735c65"><view wx:for="{{aP}}" wx:for-item="item" wx:key="e" class="{{['agent-item', 'data-v-d6735c65', item.d && 'active']}}" bindtap="{{item.f}}"><view class="flex-shrink-0 data-v-d6735c65"><image src="{{item.a}}" class="w-_108rpx_ h-_108rpx_ rounded-_24rpx_ data-v-d6735c65" mode="aspectFill"></image></view><view class="flex-1 overflow-hidden data-v-d6735c65"><view class="text-_28rpx_ text-ellipsis overflow-hidden whitespace-nowrap data-v-d6735c65">{{item.b}}</view><view class="text-_h9C9C9E_ text-_20rpx_ mt-2 line-clamp-2 data-v-d6735c65">{{item.c}}</view></view></view></view><empty class="data-v-d6735c65" u-i="d6735c65-18,d6735c65-17" bind:__l="__l" slot="empty"/></z-paging></view></popup-bottom>