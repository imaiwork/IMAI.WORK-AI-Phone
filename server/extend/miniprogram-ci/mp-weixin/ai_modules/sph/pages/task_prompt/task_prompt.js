"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../api/app.js"),t=require("../../../../hooks/useEventBusManager.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-button"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const s=e.defineComponent({__name:"task_prompt",setup(s){const{emit:u}=t.useEventBusManager(),i=e.reactive({private_message_prompt:"",add_friends_prompt:""}),o=e.ref("private_message_prompt"),a=()=>{var e,r;"private_message_prompt"==o.value?i.private_message_prompt=null==(e=p.value.find((e=>21==e.id)))?void 0:e.prompt_text:i.add_friends_prompt=null==(r=p.value.find((e=>22==e.id)))?void 0:r.prompt_text},n=()=>{u("save",{type:o.value,prompt:i[o.value]}),e.index.navigateBack()},p=e.ref([]);return e.onLoad((({type:e,prompt:t})=>{o.value=e,t&&(i[e]=decodeURIComponent(JSON.parse(t))),(async()=>{const e=await r.getScenePrompt();p.value=e})()})),(r,t)=>({a:e.o((r=>e.unref(i)[e.unref(o)]=r)),b:e.p({type:"textarea",placeholder:"请输入AI提示词","placeholder-style":"font-size:26rpx;color:rgba(0,0,0,0.2)",height:800,"auto-height":!1,maxlength:1e3,modelValue:e.unref(i)[e.unref(o)]}),c:e.t(e.unref(i)[e.unref(o)].length),d:e.o(a),e:e.o(n),f:e.p({type:"primary",shape:"circle","custom-style":{flex:1,height:"100rpx",boxShadow:"0 6px 12px 0 rgba(0, 101, 251, 0.20)",fontSize:"26rpx"}})})}});wx.createPage(s);
