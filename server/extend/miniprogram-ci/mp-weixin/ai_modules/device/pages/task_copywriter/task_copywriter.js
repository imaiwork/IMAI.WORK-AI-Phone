"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../common/assets.js"),t=require("../../enums/index.js"),n=require("../../../../hooks/useEventBusManager.js");if(!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-input")+e.resolveComponent("u-icon")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const u=e.defineComponent({__name:"task_copywriter",setup(u){const{emit:r}=n.useEventBusManager(),a=e.reactive({title:"",content:"",topic:[]}),i=e.ref(!1),l=e.ref(""),s=e.ref(-1),c=()=>{s.value=-1,i.value=!0},p=()=>{l.value?(-1===s.value?a.topic.push(l.value):a.topic[s.value]=l.value,i.value=!1,l.value=""):e.index.$u.toast("请输入标签")},d=()=>{i.value=!1,l.value=""},v=()=>{a.title?(e.index.navigateBack(),r("confirm",{type:t.ListenerTypeEnum.TASK_COPYWRITER,data:a.title?[a]:[]})):e.index.$u.toast("请输入标题")};return e.onLoad((e=>{if(e.copywriter){const o=JSON.parse(e.copywriter);a.title=o.title,a.content=o.content,a.topic=o.topic}})),(t,n)=>({a:e.p({"border-bottom":!1,"is-custom-back-icon":!0,"custom-back":v,background:{background:"transparent"}}),b:e.o((o=>e.unref(a).title=o)),c:e.p({placeholder:"点击此输入标题",height:"120",maxlength:"30","placeholder-style":"font-size: 32rpx; font-weight: 600; color: ##838383;",modelValue:e.unref(a).title}),d:e.o((o=>e.unref(a).content=o)),e:e.p({placeholder:"请输入或粘贴文本内容",type:"textarea",height:"400",maxlength:2e3,"placeholder-style":"color: #C0C3C4;","auto-height":!1,modelValue:e.unref(a).content}),f:e.t(e.unref(a).content.length),g:e.t(2e3),h:o._imports_1$19,i:e.o(c),j:e.f(e.unref(a).topic,((o,t,n)=>({a:e.t(o),b:"f2db2bdb-3-"+n,c:e.o((e=>(e=>{a.topic.splice(e,1)})(t)),t),d:t,e:e.o((e=>(e=>{s.value=e,i.value=!0,l.value=a.topic[e]})(t)),t)}))),k:e.p({name:"close",size:"16",color:"#ffffff"}),l:e.t(-1===e.unref(s)?"新增":"编辑"),m:e.o((o=>e.isRef(l)?l.value=o:null)),n:e.p({placeholder:"请输入标签",maxlength:"20","placeholder-style":"color: #0000004d; font-size: 26rpx;",modelValue:e.unref(l)}),o:e.o(d),p:e.o(p),q:e.o((o=>e.isRef(i)?i.value=o:null)),r:e.p({mode:"center",width:"90%","border-radius":20,modelValue:e.unref(i)})})}}),r=e._export_sfc(u,[["__scopeId","data-v-f2db2bdb"]]);wx.createPage(r);
