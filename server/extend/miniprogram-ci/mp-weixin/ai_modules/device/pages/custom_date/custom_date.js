"use strict";const e=require("../../../../common/vendor.js"),t=require("../../enums/index.js"),a=require("../../../../hooks/useEventBusManager.js");if(!Array){e.resolveComponent("u-button")()}Math||(n+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const n=()=>"../../components/calendar/calendar.js",r=e.defineComponent({__name:"custom_date",setup(n){const{emit:r}=a.useEventBusManager(),o=e.ref([]),u=e.ref(),s=e.ref([]),d=e=>{const t=new Date;return e.getTime()<t.getTime()-864e5},i=e=>{o.value=e},l=()=>{let a=30,n=[-1,-1];for(let e=0;e<o.value.length;e++)for(let t=e+1;t<o.value.length;t++){const r=new Date(o.value[e]),u=new Date(o.value[t]),s=Math.abs((r.getTime()-u.getTime())/864e5);s>30&&s>a&&(a=s,n=[e,t])}const u=-1!==n[0];s.value=n,u?e.index.$u.toast("不能选择时间间隔超过30天的时间"):(r("confirm",{type:t.ListenerTypeEnum.CHOOSE_DATE,data:o.value}),e.index.navigateBack())};return e.onLoad(e=>{e.date&&(o.value=JSON.parse(e.date))}),(t,a)=>({a:e.sr(u,"dee38a83-0",{k:"calendarRef"}),b:e.o(i),c:e.p({"multi-select":!0,"is-today":!1,"selected-dates":e.unref(o),"disabled-date-method":d}),d:e.t(e.unref(o).length),e:e.f(e.unref(o),(t,a,n)=>{return{a:e.t((r=t,e.index.$u.timeFormat(new Date(r),"mm月dd日"))),b:a,c:e.unref(s).includes(a)?1:"",d:e.o(e=>(e=>{var t;null==(t=u.value)||t.locateToDate(e)})(t),a)};var r}),f:e.o(l),g:e.p({type:"primary","custom-style":{height:"100rpx",borderRadius:"16rpx",fontWeight:"bold"}})})}}),o=e._export_sfc(r,[["__scopeId","data-v-dee38a83"]]);wx.createPage(o);
