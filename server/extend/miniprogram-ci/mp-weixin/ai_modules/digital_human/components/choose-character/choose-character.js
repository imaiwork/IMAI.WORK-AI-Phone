"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../api/digital_human.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("popup-bottom"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../../../components/popup-bottom/popup-bottom.js"))();const o=e.defineComponent({__name:"choose-character",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","select"],setup(o,{emit:t}){const r=o,u=e.computed({get:()=>r.modelValue,set(e){t("update:modelValue",e)}}),n=e.ref([]),a=e.ref(null),i=async(e,o)=>{var t;try{const{lists:r}=await s.getShanjianPersonList({page_no:e,page_size:o});null==(t=a.value)||t.complete(r)}catch(r){console.error("查询历史记录失败:",r)}};return e.watch((()=>u.value),(async()=>{var s;u.value&&(await e.nextTick$1(),null==(s=a.value)||s.reload())})),(o,r)=>({a:e.f(e.unref(n),((o,r,u)=>({a:e.t(o.name),b:e.t(o.introduced),c:"2680e672-2-"+u+",2680e672-1",d:e.o((e=>(async e=>{var o;await s.deleteShanjianPerson({id:e}),null==(o=a.value)||o.reload()})(o.id)),r),e:r,f:e.o((e=>t("select",o)),r)}))),b:e.p({name:"close",color:"#ffffff",size:"16"}),c:e.sr(a,"2680e672-1,2680e672-0",{k:"pagingRef"}),d:e.o(i),e:e.o((s=>e.isRef(n)?n.value=s:null)),f:e.p({auto:!1,fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(n)}),g:e.o((s=>e.isRef(u)?u.value=s:null)),h:e.p({title:"历史人设","show-close-btn":!0,"is-disabled-touch":!0,"custom-class":"bg-_hF9FAFB_",show:e.unref(u)})})}});wx.createComponent(o);
