"use strict";const e=require("../../../../common/vendor.js"),t=require("../../enums/index.js"),n=require("../../../../hooks/useEventBusManager.js");if(!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-input"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js"))();const o=e.defineComponent({__name:"montage_copywriter",setup(o){const{emit:a}=n.useEventBusManager(),r=e.reactive({title:"",content:""}),u=e.ref(Array.from({length:5},()=>"")),i=e.ref(),l=e.computed(()=>i.value==t.MontageTypeEnum.NEWS_BODY),s=()=>{if(l.value){if(u.value.every(e=>""===e.trim()))return void e.index.$u.toast("所有标题不能为空");a("confirm",{type:t.ListenerTypeEnum.MONTAGE_COPYWRITER,data:[u.value]})}else{if(!r.title&&!r.content)return void e.index.navigateBack();if(!r.title)return void e.index.$u.toast("请输入标题");if(!r.content)return void e.index.$u.toast("请输入口播内容");a("confirm",{type:t.ListenerTypeEnum.MONTAGE_COPYWRITER,data:[r]})}e.index.navigateBack()};return e.onLoad(e=>{if(e.montageType){if(i.value=parseInt(e.montageType),e.data){const t=JSON.parse(e.data);u.value=t}}else if(e.data){const t=JSON.parse(e.data);r.title=t.title,r.content=t.content}}),(t,n)=>{var o;return e.e({a:e.p({"is-fixed":!1,"border-bottom":!1,"is-custom-back-icon":!0,"custom-back":s}),b:!e.unref(l)},e.unref(l)?{h:e.f(e.unref(u),(t,n,o)=>({a:e.t(n+1),b:"3dce7266-3-"+o,c:e.o(t=>e.unref(u)[n]=t,n),d:e.p({"placeholder-style":"color: #7C7E80; ",maxlength:"100",modelValue:e.unref(u)[n]}),e:n,f:n<e.unref(u).length-1?1:""}))}:{c:e.o(t=>e.unref(r).title=t),d:e.p({placeholder:"点击此输入标题",height:"120",maxlength:"50","placeholder-style":"font-size: 32rpx; font-weight: 600; color: ##838383;",modelValue:e.unref(r).title}),e:e.o(t=>e.unref(r).content=t),f:e.p({placeholder:"粘贴你的口播文案或者输入内容",type:"textarea",height:"600",maxlength:"500","placeholder-style":"color: #C0C3C4;","auto-height":!1,modelValue:e.unref(r).content}),g:e.t(null==(o=e.unref(r).content)?void 0:o.length)})}}});wx.createPage(o);
