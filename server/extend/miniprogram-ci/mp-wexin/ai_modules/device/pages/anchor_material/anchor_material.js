"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../common/assets.js"),r=require("../../stores/material.js");if(!Array){(e.resolveComponent("u-icon")+e.resolveComponent("u-button")+e.resolveComponent("video-preview"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+n+(()=>"../../../../components/video-preview/video-preview.js"))();const n=()=>"../../components/choose-anchor/choose-anchor.js",u=e.defineComponent({__name:"anchor_material",setup(n){const u=r.useMaterialStore(),{anchorList:s}=e.storeToRefs(u),t=e.shallowRef(),i=e.ref(JSON.parse(JSON.stringify(s.value))),a=e.ref(!1),l=e.ref(!1),c=e.ref({url:"",pic:""}),p=e=>{i.value.push(...e)},v=()=>{0!==i.value.length?(u.setList("anchorList",i.value),e.index.navigateBack()):e.index.$u.toast("请至少选择一个数字人形象")};return e.onShow((()=>{var e;null==(e=t.value)||e.queryList()})),(r,n)=>({a:e.t(e.unref(i).length),b:o._imports_0$39,c:e.o((e=>a.value=!0)),d:e.f(e.unref(i),((o,r,n)=>({a:o.pic,b:"81ca537c-0-"+n,c:e.o((e=>(e=>{i.value.splice(e,1)})(r)),r),d:e.o((e=>(e=>{c.value={url:e.url,pic:e.pic},l.value=!0})(o)),r),e:r}))),e:e.p({name:"close",color:"#ffffff",size:"16"}),f:e.o(v),g:e.p({type:"primary","custom-style":{height:"100rpx",borderRadius:"16rpx",fontWeight:"bold"}}),h:e.sr(t,"81ca537c-2",{k:"chooseAnchorRef"}),i:e.o(p),j:e.o((o=>e.isRef(a)?a.value=o:null)),k:e.p({modelValue:e.unref(a)}),l:e.o((o=>e.isRef(l)?l.value=o:null)),m:e.p({"video-url":e.unref(c).url,poster:e.unref(c).pic,modelValue:e.unref(l)})})}});wx.createPage(u);
