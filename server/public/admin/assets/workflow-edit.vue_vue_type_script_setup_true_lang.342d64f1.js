import{C as h,D as E,F as v,w as g}from"./element-plus.e618cff3.js";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang.f1e56b7e.js";import{_ as I}from"./index.5d69a1c3.js";import{s as R,f}from"./index.1486aa3f.js";import{d as T,r as F,Y as q,o as N,G as U,H as l,a as n,Q as e,u as a,M as D}from"./@vue.fa3e2f74.js";const A=n("div",{class:"text-2xl font-bold mb-5"},"\u5DE5\u4F5C\u6D41",-1),G={class:"flex"},j=T({__name:"workflow-edit",emits:["close","success"],setup(H,{expose:k,emit:w}){const i=w,_=F(),m=F(),o=q({workflow_id:"",bot_id:"",app_id:"",api_token:""}),x={workflow_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41ID"}],bot_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u667A\u80FD\u4F53ID"}],api_token:[{required:!0,message:"\u8BF7\u8F93\u5165\u6388\u6743Token"}]},b=()=>{var u;(u=_.value)==null||u.open()},r=()=>{i("close")},B=async()=>{var u;await((u=m.value)==null?void 0:u.validate());try{r(),i("success",o),f.msgSuccess("\u4FDD\u5B58\u6210\u529F")}catch(t){f.msgError(t||"\u4FDD\u5B58\u5931\u8D25")}};return k({open:b,setFormData:u=>R(u,o)}),(u,t)=>{const V=y,p=h,d=E,C=v,c=g;return N(),U(I,{ref_key:"popupRef",ref:_,async:"",width:"550px","confirm-button-text":"","cancel-button-text":"","header-class":"!p-0","show-close":!1},{default:l(()=>[n("div",null,[n("div",{class:"absolute w-6 h-6 right-4 top-4 cursor-pointer",onClick:r},[e(V)]),A,e(C,{ref_key:"formRef",ref:m,model:a(o),rules:x,"label-position":"top"},{default:l(()=>[e(d,{label:"\u5DE5\u4F5C\u6D41ID",prop:"workflow_id"},{default:l(()=>[e(p,{modelValue:a(o).workflow_id,"onUpdate:modelValue":t[0]||(t[0]=s=>a(o).workflow_id=s),placeholder:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41ID"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u6388\u6743Token",prop:"api_token"},{default:l(()=>[e(p,{modelValue:a(o).api_token,"onUpdate:modelValue":t[1]||(t[1]=s=>a(o).api_token=s),placeholder:"\u8BF7\u8F93\u5165\u6388\u6743Token"},null,8,["modelValue"])]),_:1}),e(d,{label:"appid",prop:"app_id"},{default:l(()=>[e(p,{modelValue:a(o).app_id,"onUpdate:modelValue":t[2]||(t[2]=s=>a(o).app_id=s),placeholder:"\u8BF7\u8F93\u5165appid"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("div",G,[e(c,{class:"!rounded-full flex-1 !h-[50px]",onClick:r},{default:l(()=>[D("\u53D6\u6D88")]),_:1}),e(c,{type:"primary",class:"!rounded-full flex-1 !h-[50px]",onClick:B},{default:l(()=>[D(" \u4FDD\u5B58 ")]),_:1})])])]),_:1},512)}}});export{j as _};
