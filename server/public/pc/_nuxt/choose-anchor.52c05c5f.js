import{d as $,r as b,aG as j,k as a,I as z,s as y,m as s,q as t,Z as n,$ as N,v as P,aI as S,l as c,J as q,K as F,cX as R,y as D,av as G,ay as J,_ as T}from"./entry.563c232b.js";import{_ as U}from"./index.vue.96af9406.js";import{E as X}from"./el-empty.92ad44f2.js";import{u as Z}from"./usePaging.4417e13f.js";import{e as H}from"./digital_human.299b9036.js";import M from"./video-item.ed74fc8b.js";import{E as O}from"./index.4640bbe0.js";import"./index.c6e60302.js";import"./index.vue.30be4301.js";import"./index.vue.ff9e1552.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./throttle.4081a158.js";import"./debounce.cf3b8bee.js";import"./toNumber.590accd9.js";const Q={class:""},W={class:"flex items-center justify-between h-[50px] px-4"},Y={class:"flex items-center gap-x-2"},ee={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[rgba(255,255,255,0.1)]"},oe={class:"px-4 my-4"},se={class:"flex items-center rounded-full h-[50px] border border-[#2a2a2a] px-[5px]"},te=["infinite-scroll-disabled"],ne={key:0,class:"grid grid-cols-3 gap-2 p-2"},re=["onClick"],ae={class:"cursor-pointer bg-black rounded-lg w-full relative h-[210px] flex flex-col"},le={class:"absolute top-2 right-2 z-[1000] w-6 h-6 rounded-full"},ce={key:1,class:"h-full flex items-center justify-center"},ie=$({__name:"choose-anchor",emits:["close","confirm"],setup(de,{expose:g,emit:w}){const _=w,u=b(),i=j({name:"",status:1,page_no:1,type:0}),{pager:d,getLists:f,resetPage:m}=Z({fetchFun:H,params:i,isScroll:!0}),l=b({}),h=o=>l.value.id===o,k=o=>{h(o.id)||!o.is_vanish&&o.status!=1?l.value={}:l.value=o,v()},C=o=>{l.value=o},E=async()=>{i.page_no+=1,await f()},v=()=>{_("confirm",l.value),p()},I=()=>{var o;(o=u.value)==null||o.open(),f()},p=()=>{_("close")};return g({open:I,setChooseAnchor:C}),(o,r)=>{const x=D,V=U,A=G,B=J,K=X,L=O;return a(),z(R,{ref_key:"popupRef",ref:u,width:"528px",class:"choose-anchor-popup",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"confirm-button-text":"","cancel-button-text":"","show-close":!1,onClose:p,onConfirm:v},{default:y(()=>[s("div",Q,[s("div",W,[s("div",Y,[s("div",ee,[t(x,{name:"local-icon-windows",size:14})]),r[1]||(r[1]=s("div",{class:"text-[20px] text-white font-bold"},"从创建的历史形象中选择",-1))]),s("div",{class:"w-6 h-6",onClick:p},[t(V)])]),s("div",oe,[s("div",se,[t(A,{modelValue:n(i).name,"onUpdate:modelValue":r[0]||(r[0]=e=>n(i).name=e),class:"flex-1 search-input","prefix-icon":"el-icon-Search",clearable:"",placeholder:"请输入形象名称","input-style":"color: #ffffff",onClear:n(m),onKeyup:N(n(m),["enter"])},null,8,["modelValue","onClear","onKeyup"]),t(B,{type:"primary",class:"!text-white !rounded-full !w-[116px] !h-10"},{default:y(()=>[...r[2]||(r[2]=[P("搜索",-1)])]),_:1})])]),S((a(),c("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(d).isLoad,"infinite-scroll-distance":10},[n(d).lists.length>0?(a(),c("div",ne,[(a(!0),c(q,null,F(n(d).lists,e=>(a(),c("div",{key:e.id,onClick:pe=>k(e)},[s("div",ae,[t(M,{item:{id:e.id,name:e.name,pic:e.pic,status:e.status,video_url:e.url,model_version:e.model_version,remark:e.remark,create_time:e.create_time}},null,8,["item"]),s("div",le,[t(x,{name:"local-icon-success_fill",size:20,color:h(e.id)?"var(--color-primary)":"#ffffff1a"},null,8,["color"])])])],8,re))),128))])):(a(),c("div",ce,[t(K,{description:"暂无数据"})]))],8,te)),[[L,E]])])]),_:1},512)}}});const Ve=T(ie,[["__scopeId","data-v-dbb12b9a"]]);export{Ve as default};
