import{aY as Pe,aZ as B,ex as le,d as F,W as D,k,I as te,s as L,H,am as Ve,Z as S,bi as He,aa as ye,cP as ae,cR as be,cQ as Ge,c as h,ey as Je,Q as Ie,S as Y,b3 as ee,ab as ce,N as de,r as E,b4 as Ye,cs as Ke,aS as Be,aG as me,D as ue,aj as xe,o as fe,b as ze,e as C,aq as K,a1 as Ae,ba as Le,aI as Re,aJ as Ze,J as Z,aE as Se,ez as ke,ai as je,eA as Qe,U as Xe,eB as et,aW as tt,aA as nt,bf as st,aD as ot,P as Te,dS as at,O as We,cN as lt,ah as ut,ak as it,l as R,m as P,Y as pe,v as rt,t as ie,an as ct,bg as Ce,bP as dt,a as pt,z as vt,aH as mt,au as ft,q as Oe,K as _e,L as Ne,ew as ht,_ as bt}from"./entry.8705b591.js";import{E as _t}from"./index.2be79eb2.js";import{C as Mt}from"./index.f9213b2f.js";import{E as gt}from"./index.d5b2ab73.js";/* empty css                     */let xt=class{constructor(n,u){this.parent=n,this.domNode=u,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,u=>{u.addEventListener("keydown",t=>{const r=Pe(t);let d=!1;switch(r){case B.down:{this.gotoSubIndex(this.subIndex+1),d=!0;break}case B.up:{this.gotoSubIndex(this.subIndex-1),d=!0;break}case B.tab:{le(n,"mouseleave");break}case B.enter:case B.numpadEnter:case B.space:{d=!0,t.currentTarget.click();break}}return d&&(t.preventDefault(),t.stopPropagation()),!1})})}},yt=class{constructor(n,u){this.domNode=n,this.submenu=null,this.submenu=null,this.init(u)}init(n){this.domNode.setAttribute("tabindex","0");const u=this.domNode.querySelector(`.${n}-menu`);u&&(this.submenu=new xt(this,u)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{const u=Pe(n);let t=!1;switch(u){case B.down:{le(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case B.up:{le(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case B.tab:{le(n.currentTarget,"mouseleave");break}case B.enter:case B.numpadEnter:case B.space:{t=!0,n.currentTarget.click();break}}t&&n.preventDefault()})}},It=class{constructor(n,u){this.domNode=n,this.init(u)}init(n){const u=this.domNode.childNodes;Array.from(u).forEach(t=>{t.nodeType===1&&new yt(t,n)})}};const St=F({name:"ElMenuCollapseTransition"}),Ct=F({...St,setup(e){const n=D("menu"),u={onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,r){ae(t,`${n.namespace.value}-opacity-transition`),t.style.opacity="1",r()},onAfterEnter(t){be(t,`${n.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),Ge(t,n.m("collapse"))?(be(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ae(t,n.m("collapse"))):(ae(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),be(t,n.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){ae(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}};return(t,r)=>(k(),te(He,Ve({mode:"out-in"},S(u)),{default:L(()=>[H(t.$slots,"default")]),_:3},16))}});var Et=ye(Ct,[["__file","menu-collapse-transition.vue"]]);function qe(e,n){const u=h(()=>{let r=e.parent;const d=[n.value];for(;r.type.name!=="ElMenu";)r.props.index&&d.unshift(r.props.index),r=r.parent;return d});return{parentMenu:h(()=>{let r=e.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:u}}function wt(e){return h(()=>{const u=e.backgroundColor;return u?new Je(u).shade(20).toString():""})}const De=(e,n)=>{const u=D("menu");return h(()=>u.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":wt(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},Ee="rootMenu",ve="subMenu:",kt=Ie({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:Y([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ee},expandOpenIcon:{type:ee},collapseCloseIcon:{type:ee},collapseOpenIcon:{type:ee}}),Me="ElSubMenu";var we=F({name:Me,props:kt,setup(e,{slots:n,expose:u}){const t=Se(),{indexPath:r,parentMenu:d}=qe(t,h(()=>e.index)),p=D("menu"),g=D("sub-menu"),a=ce(Ee);a||de(Me,"can not inject root menu");const f=ce(`${ve}${d.value.uid}`);f||de(Me,"can not inject sub menu");const T=E({}),y=E({});let c;const I=E(!1),_=E(),x=E(),w=h(()=>f.level===0),O=h(()=>W.value==="horizontal"&&w.value?"bottom-start":"right-start"),N=h(()=>W.value==="horizontal"&&w.value||W.value==="vertical"&&!a.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?z.value?e.expandOpenIcon:e.expandCloseIcon:Ye:e.collapseCloseIcon&&e.collapseOpenIcon?z.value?e.collapseOpenIcon:e.collapseCloseIcon:Ke),U=h(()=>{const o=e.teleported;return Be(o)?w.value:o}),G=h(()=>a.props.collapse?`${p.namespace.value}-zoom-in-left`:`${p.namespace.value}-zoom-in-top`),j=h(()=>W.value==="horizontal"&&w.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),z=h(()=>a.openedMenus.includes(e.index)),$=h(()=>[...Object.values(T.value),...Object.values(y.value)].some(({active:o})=>o)),W=h(()=>a.props.mode),q=h(()=>a.props.persistent),V=me({index:e.index,indexPath:r,active:$}),ne=De(a.props,f.level+1),se=h(()=>{var o;return(o=e.popperOffset)!=null?o:a.props.popperOffset}),Q=h(()=>{var o;return(o=e.popperClass)!=null?o:a.props.popperClass}),X=h(()=>{var o;return(o=e.popperStyle)!=null?o:a.props.popperStyle}),oe=h(()=>{var o;return(o=e.showTimeout)!=null?o:a.props.showTimeout}),he=h(()=>{var o;return(o=e.hideTimeout)!=null?o:a.props.hideTimeout}),s=()=>{var o,m,b;return(b=(m=(o=x.value)==null?void 0:o.popperRef)==null?void 0:m.popperInstanceRef)==null?void 0:b.destroy()},l=o=>{o||s()},i=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||e.disabled||a.handleSubMenuClick({index:e.index,indexPath:r.value,active:$.value})},v=(o,m=oe.value)=>{var b;if(o.type!=="focus"){if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||e.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,c==null||c(),{stop:c}=ke(()=>{a.openMenu(e.index,r.value)},m),U.value&&((b=d.value.vnode.el)==null||b.dispatchEvent(new MouseEvent("mouseenter"))),o.type==="mouseenter"&&o.target&&je(()=>{Qe(o.target,{preventScroll:!0})})}},M=(o=!1)=>{var m;if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"){f.mouseInChild.value=!1;return}c==null||c(),f.mouseInChild.value=!1,{stop:c}=ke(()=>!I.value&&a.closeMenu(e.index,r.value),he.value),U.value&&o&&((m=f.handleMouseleave)==null||m.call(f,!0))};ue(()=>a.props.collapse,o=>l(!!o));{const o=b=>{y.value[b.index]=b},m=b=>{delete y.value[b.index]};xe(`${ve}${t.uid}`,{addSubMenu:o,removeSubMenu:m,handleMouseleave:M,mouseInChild:I,level:f.level+1})}return u({opened:z}),fe(()=>{a.addSubMenu(V),f.addSubMenu(V)}),ze(()=>{f.removeSubMenu(V),a.removeSubMenu(V)}),()=>{var o;const m=[(o=n.title)==null?void 0:o.call(n),C(Ae,{class:g.e("icon-arrow"),style:{transform:z.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>K(N.value)?C(t.appContext.components[N.value]):C(N.value)})],b=a.isMenuPopup?C(Le,{ref:x,visible:z.value,effect:"light",pure:!0,offset:se.value,showArrow:!1,persistent:q.value,popperClass:Q.value,popperStyle:X.value,placement:O.value,teleported:U.value,fallbackPlacements:j.value,transition:G.value,gpuAcceleration:!1},{content:()=>{var A;return C("div",{class:[p.m(W.value),p.m("popup-container"),Q.value],onMouseenter:J=>v(J,100),onMouseleave:()=>M(!0),onFocus:J=>v(J,100)},[C("ul",{class:[p.b(),p.m("popup"),p.m(`popup-${O.value}`)],style:ne.value},[(A=n.default)==null?void 0:A.call(n)])])},default:()=>C("div",{class:g.e("title"),onClick:i},m)}):C(Z,{},[C("div",{class:g.e("title"),ref:_,onClick:i},m),C(_t,{},{default:()=>{var A;return Re(C("ul",{role:"menu",class:[p.b(),p.m("inline")],style:ne.value},[(A=n.default)==null?void 0:A.call(n)]),[[Ze,z.value]])}})]);return C("li",{class:[g.b(),g.is("active",$.value),g.is("opened",z.value),g.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:z.value,onMouseenter:v,onMouseleave:()=>M(),onFocus:v},[b])}}});const Tt=Ie({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Y(Array),default:()=>Xe([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ee,default:()=>et},popperEffect:{type:Y(String),default:"dark"},popperClass:String,popperStyle:{type:Y([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),ge=e=>We(e)&&e.every(n=>K(n)),Ot={close:(e,n)=>K(e)&&ge(n),open:(e,n)=>K(e)&&ge(n),select:(e,n,u,t)=>K(e)&&ge(n)&&ot(u)&&(Be(t)||t instanceof Promise)},$e=64;var Nt=F({name:"ElMenu",props:Tt,emits:Ot,setup(e,{emit:n,slots:u,expose:t}){const r=Se(),d=r.appContext.config.globalProperties.$router,p=E(),g=E(),a=D("menu"),f=D("sub-menu");let T=$e;const y=E(-1),c=E(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),I=E(e.defaultActive),_=E({}),x=E({}),w=h(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),O=()=>{const s=I.value&&_.value[I.value];if(!s||e.mode==="horizontal"||e.collapse)return;s.indexPath.forEach(i=>{const v=x.value[i];v&&N(i,v.indexPath)})},N=(s,l)=>{c.value.includes(s)||(e.uniqueOpened&&(c.value=c.value.filter(i=>l.includes(i))),c.value.push(s),n("open",s,l))},U=s=>{const l=c.value.indexOf(s);l!==-1&&c.value.splice(l,1)},G=(s,l)=>{U(s),n("close",s,l)},j=({index:s,indexPath:l})=>{c.value.includes(s)?G(s,l):N(s,l)},z=s=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:l,indexPath:i}=s;if(!(Te(l)||Te(i)))if(e.router&&d){const v=s.route||l,M=d.push(v).then(o=>(o||(I.value=l),o));n("select",l,i,{index:l,indexPath:i,route:v},M)}else I.value=l,n("select",l,i,{index:l,indexPath:i})},$=s=>{var l;const i=_.value,v=i[s]||I.value&&i[I.value]||i[e.defaultActive];I.value=(l=v==null?void 0:v.index)!=null?l:s},W=s=>{const l=getComputedStyle(s),i=Number.parseInt(l.marginLeft,10),v=Number.parseInt(l.marginRight,10);return s.offsetWidth+i+v||0},q=()=>{if(!p.value)return-1;const s=Array.from(p.value.childNodes).filter(b=>b.nodeName!=="#comment"&&(b.nodeName!=="#text"||b.nodeValue)),l=getComputedStyle(p.value),i=Number.parseInt(l.paddingLeft,10),v=Number.parseInt(l.paddingRight,10),M=p.value.clientWidth-i-v;let o=0,m=0;return s.forEach((b,A)=>{o+=W(b),o<=M-T&&(m=A+1)}),m===s.length?-1:m},V=s=>x.value[s].indexPath,ne=(s,l=33.34)=>{let i;return()=>{i&&clearTimeout(i),i=setTimeout(()=>{s()},l)}};let se=!0;const Q=()=>{const s=at(g);if(s&&(T=W(s)||$e),y.value===q())return;const l=()=>{y.value=-1,je(()=>{y.value=q()})};se?l():ne(l)(),se=!1};ue(()=>e.defaultActive,s=>{_.value[s]||(I.value=""),$(s)}),ue(()=>e.collapse,s=>{s&&(c.value=[])}),ue(_.value,O);let X;tt(()=>{e.mode==="horizontal"&&e.ellipsis?X=nt(p,Q).stop:X==null||X()});const oe=E(!1);{const s=M=>{x.value[M.index]=M},l=M=>{delete x.value[M.index]};xe(Ee,me({props:e,openedMenus:c,items:_,subMenus:x,activeIndex:I,isMenuPopup:w,addMenuItem:M=>{_.value[M.index]=M},removeMenuItem:M=>{delete _.value[M.index]},addSubMenu:s,removeSubMenu:l,openMenu:N,closeMenu:G,handleMenuItemClick:z,handleSubMenuClick:j})),xe(`${ve}${r.uid}`,{addSubMenu:s,removeSubMenu:l,mouseInChild:oe,level:0})}fe(()=>{e.mode==="horizontal"&&new It(r.vnode.el,a.namespace.value)}),t({open:l=>{const{indexPath:i}=x.value[l];i.forEach(v=>N(v,i))},close:U,updateActiveIndex:$,handleResize:Q});const he=De(e,0);return()=>{var s,l;let i=(l=(s=u.default)==null?void 0:s.call(u))!=null?l:[];const v=[];if(e.mode==="horizontal"&&p.value){const m=st(i).filter(J=>(J==null?void 0:J.shapeFlag)!==8),b=y.value===-1?m:m.slice(0,y.value),A=y.value===-1?[]:m.slice(y.value);A!=null&&A.length&&e.ellipsis&&(i=b,v.push(C(we,{ref:g,index:"sub-menu-more",class:f.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>C(Ae,{class:f.e("icon-more")},{default:()=>C(e.ellipsisIcon)}),default:()=>A})))}const M=e.closeOnClickOutside?[[Mt,()=>{c.value.length&&(oe.value||(c.value.forEach(m=>n("close",m,V(m))),c.value=[]))}]]:[],o=Re(C("ul",{key:String(e.collapse),role:"menubar",ref:p,style:he.value,class:{[a.b()]:!0,[a.m(e.mode)]:!0,[a.m("collapse")]:e.collapse}},[...i,...v]),M);return e.collapseTransition&&e.mode==="vertical"?C(Et,()=>o):o}}});const $t=Ie({index:{type:Y([String,null]),default:null},route:{type:Y([String,Object])},disabled:Boolean}),Pt={click:e=>K(e.index)&&We(e.indexPath)},re="ElMenuItem",Bt=F({name:re}),zt=F({...Bt,props:$t,emits:Pt,setup(e,{expose:n,emit:u}){const t=e;lt(t.index)&&ut(re,'Missing required prop: "index"');const r=Se(),d=ce(Ee),p=D("menu"),g=D("menu-item");d||de(re,"can not inject root menu");const{parentMenu:a,indexPath:f}=qe(r,it(t,"index")),T=ce(`${ve}${a.value.uid}`);T||de(re,"can not inject sub menu");const y=h(()=>t.index===d.activeIndex),c=me({index:t.index,indexPath:f,active:y}),I=()=>{t.disabled||(d.handleMenuItemClick({index:t.index,indexPath:f.value,route:t.route}),u("click",c))};return fe(()=>{T.addSubMenu(c),d.addMenuItem(c)}),ze(()=>{T.removeSubMenu(c),d.removeMenuItem(c)}),n({parentMenu:a,rootMenu:d,active:y,nsMenu:p,nsMenuItem:g,handleClick:I}),(_,x)=>(k(),R("li",{class:pe([S(g).b(),S(g).is("active",S(y)),S(g).is("disabled",_.disabled)]),role:"menuitem",tabindex:"-1",onClick:I},[S(a).type.name==="ElMenu"&&S(d).props.collapse&&_.$slots.title?(k(),te(S(Le),{key:0,effect:S(d).props.popperEffect,placement:"right","fallback-placements":["left"],"popper-class":S(d).props.popperClass,"popper-style":S(d).props.popperStyle,persistent:S(d).props.persistent,"focus-on-target":""},{content:L(()=>[H(_.$slots,"title")]),default:L(()=>[P("div",{class:pe(S(p).be("tooltip","trigger"))},[H(_.$slots,"default")],2)]),_:3},8,["effect","popper-class","popper-style","persistent"])):(k(),R(Z,{key:1},[H(_.$slots,"default"),H(_.$slots,"title")],64))],2))}});var Fe=ye(zt,[["__file","menu-item.vue"]]);const At={title:String},Lt=F({name:"ElMenuItemGroup"}),Rt=F({...Lt,props:At,setup(e){const n=D("menu-item-group");return(u,t)=>(k(),R("li",{class:pe(S(n).b())},[P("div",{class:pe(S(n).e("title"))},[u.$slots.title?H(u.$slots,"title",{key:1}):(k(),R(Z,{key:0},[rt(ie(u.title),1)],64))],2),P("ul",null,[H(u.$slots,"default")])],2))}});var Ue=ye(Rt,[["__file","menu-item-group.vue"]]);const jt=ct(Nt,{MenuItem:Fe,MenuItemGroup:Ue,SubMenu:we}),Wt=Ce(Fe);Ce(Ue);const qt=Ce(we);const Dt={class:"h-full flex gap-x-4"},Ft={class:"w-[210px] bg-white border-r border-r-[#e5e5e5] py-2 flex-shrink-0"},Ut={class:"flex gap-2 items-center"},Vt={class:"w-6 h-6 flex-shrink-0 flex items-center justify-center"},Ht=["src"],Gt={class:"text-base"},Jt={class:"flex gap-2 items-center overflow-hidden"},Yt={class:"text-ellipsis whitespace-nowrap overflow-hidden text-base"},Kt={class:"flex gap-2 items-center overflow-hidden"},Zt={class:"w-6 h-6 flex-shrink-0 flex items-center justify-center"},Qt=["src"],Xt={class:"text-ellipsis whitespace-nowrap overflow-hidden text-base"},en=F({__name:"sidebar",props:{formList:{default:()=>[]},detail:{default:()=>({name:"",logo:"",description:""})},isLock:{type:Boolean,default:!1}},emits:["success","change-scene"],setup(e,{emit:n}){const u=n,t=dt(),r=pt(),d=vt();mt(d);const{menuList:p}=ft(),g=E(""),a=me({type:3,page_size:9999}),f=E(""),T=E(""),y=()=>{g.value=`${t.query.ppid}-${t.query.pid}-${t.query.id}`,T.value=t.query.pid,f.value=t.query.ppid,_()},c=x=>{if(x.indexOf("-")>-1){const[w,O]=x.split("-");T.value=O,f.value=w,_()}},I=x=>{const[w,O,N]=x.split("-");a.ppid=w,a.assistant_id=N,a.scene_id=O,r.replace({query:{ppid:w,pid:O,id:N}}),u("change-scene",a)},_=async()=>{if(!T.value)return;const{lists:x}=await ht({...a,scene_id:T.value});p.forEach(w=>{w.id==f.value&&w.sub_list.forEach(O=>{O.id==T.value&&(O.sub_list=x)})})};return fe(()=>{y()}),(x,w)=>{const O=Wt,N=qt,U=jt,G=gt;return k(),R("div",Dt,[P("div",Ft,[Oe(G,null,{default:L(()=>[Oe(U,{collapse:"","default-active":S(g),onSelect:I,onOpen:c},{default:L(()=>[(k(!0),R(Z,null,_e(S(p),(j,z)=>(k(),te(N,{index:`${j.id}`},{title:L(()=>[P("div",Ut,[P("div",Vt,[j.logo?(k(),R("img",{key:0,src:j.logo,class:"w-[24px] h-[24px] rounded-full object-cover"},null,8,Ht)):Ne("",!0)]),P("span",Gt,ie(j.name),1)])]),default:L(()=>[(k(!0),R(Z,null,_e(j.sub_list,($,W)=>(k(),te(N,{title:$.name,index:`${$.pid}-${$.id}`},{title:L(()=>[P("div",Jt,[P("div",Yt,ie($.name),1)])]),default:L(()=>[(k(!0),R(Z,null,_e($.sub_list,(q,V)=>(k(),te(O,{index:`${$.pid}-${$.id}-${q.id}`},{title:L(()=>[P("div",Kt,[P("div",Zt,[q.logo?(k(),R("img",{key:0,src:q.logo,class:"w-[24px] h-[24px] rounded-full object-cover"},null,8,Qt)):Ne("",!0)]),P("div",Xt,ie(q.name),1)])]),_:2},1032,["index"]))),256))]),_:2},1032,["title","index"]))),256))]),_:2},1032,["index"]))),256))]),_:1},8,["default-active"])]),_:1})])])}}});const cn=bt(en,[["__scopeId","data-v-78cd8bc4"]]);export{cn as default};
