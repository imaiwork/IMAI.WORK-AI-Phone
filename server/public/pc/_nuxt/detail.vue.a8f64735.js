import{d as F,dH as S,r as q,aG as I,o as R,k as o,l as i,m as e,q as a,t as f,Z as n,J as u,K as W,aI as G,I as P,s as r,v as c,Y,L as _,bM as z,u as H,G as k,y as J,ay as K,cY as O}from"./entry.556496e9.js";import{E as Q,a as U}from"./index.e8affe9d.js";import{E as Z}from"./el-empty.5e752bd7.js";import{_ as X}from"./index.vue.ba665940.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as ee}from"./usePaging.cb2ddca4.js";import{h as te,i as se,j as ae}from"./sph.d6d2831a.js";const oe={class:"h-full flex flex-col gap-[10px]"},ne={class:"bg-app-bg-2 rounded-[20px] p-[18px]"},le={class:"flex items-center justify-between mb-4"},ie={class:"flex justify-between gap-x-4"},re={class:"flex flex-col gap-y-3"},ce={class:"text-[#ffffffcc]"},de={class:"text-[#ffffffcc]"},fe={class:"flex"},pe={class:"flex flex-wrap gap-2"},me={class:"grow min-h-0 bg-app-bg-2 rounded-[20px] flex flex-col"},ue={class:"grow min-h-0"},_e={class:"flex items-center justify-center gap-x-2"},ge={class:"flex justify-center items-center h-full"},he={class:"flex justify-center p-4"},De=F({__name:"detail",emits:["back"],setup(xe,{emit:E}){const C=E,h=S(),p=q({}),B=I({id:h.id}),{pager:m,getLists:g}=ee({fetchFun:te,params:B}),j=d=>({0:"bg-danger",2:"bg-[#FFBC50]",1:"bg-[#3BB840]",4:"bg-primary"})[d],V=async d=>{H().$confirm({message:"确定删除该记录吗？",theme:"dark",onConfirm:async()=>{try{await se({id:d}),k.msgSuccess("删除成功"),g()}catch(t){k.msgError(t||"删除失败")}}})},T=async()=>{const d=await ae({id:h.id});p.value=d};return R(async()=>{await T(),await g()}),(d,t)=>{var x,y,v,w,b;const A=J,l=Q,D=K,L=Z,M=U,N=X,$=O;return o(),i("div",oe,[e("div",ne,[e("div",le,[e("div",{class:"flex items-center gap-2 cursor-pointer",onClick:t[0]||(t[0]=s=>C("back"))},[a(A,{name:"el-icon-ArrowLeft",color:"#ffffff"}),t[2]||(t[2]=e("div",{class:"text-white"},"返回",-1))])]),e("div",ie,[e("div",re,[e("div",null,[t[3]||(t[3]=e("span",{class:"text-[#ffffff80]"},"添加频率：",-1)),e("span",ce,"相隔"+f((x=n(p))==null?void 0:x.add_interval_time)+"分钟添加"+f((y=n(p))==null?void 0:y.add_number)+"个微信号",1)]),e("div",null,[t[4]||(t[4]=e("span",{class:"text-[#ffffff80]"},"微信数量：",-1)),e("span",de,"共有"+f(((w=(v=n(p))==null?void 0:v.wechat_id)==null?void 0:w.length)||0)+"个微信执行该任务",1)]),e("div",fe,[t[5]||(t[5]=e("span",{class:"text-[#ffffff80] flex-shrink-0"},"申请备注：",-1)),e("span",pe,[(o(!0),i(u,null,W((b=n(p))==null?void 0:b.remarks,s=>(o(),i("span",{class:"px-[10px] py-[4px] rounded-md text-[#ffffffcc] shadow-[0_0_0_1px_var(--app-border-color-2)]",key:s},f(s),1))),128))])])])])]),e("div",me,[e("div",ue,[G((o(),P(M,{height:"100%",data:n(m).lists,"header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:r(()=>[e("div",ge,[a(L,{description:"暂无数据"})])]),default:r(()=>[a(l,{prop:"clue_wechat",label:"线索","min-width":"120","show-overflow-tooltip":""}),a(l,{prop:"wechat_no",label:"执行账号","min-width":"140"},{default:r(({row:s})=>[c(f(s.wechat_no||"-"),1)]),_:1}),a(l,{label:"申请备注词","min-width":"200","show-overflow-tooltip":""},{default:r(({row:s})=>[c(f(s.remark||"-"),1)]),_:1}),a(l,{label:"任务状态",width:"160",align:"center"},{default:r(({row:s})=>[e("div",_e,[e("div",{class:Y(["w-[6px] h-[6px] rounded-full",j(s.status)])},null,2),e("span",null,[s.status==0?(o(),i(u,{key:0},[c("添加失败")],64)):_("",!0),s.status==1?(o(),i(u,{key:1},[c("添加成功")],64)):_("",!0),s.status==2?(o(),i(u,{key:2},[c("执行中")],64)):_("",!0),s.status==4?(o(),i(u,{key:3},[c("等待添加")],64)):_("",!0)])])]),_:1}),a(l,{prop:"result",label:"加好友结果","min-width":"120","show-overflow-tooltip":""}),a(l,{prop:"exec_time",label:"执行时间",width:"180"}),a(l,{label:"操作",width:"80",fixed:"right",align:"right"},{default:r(({row:s})=>[a(D,{type:"danger",link:"",onClick:ve=>V(s.id)},{default:r(()=>[...t[6]||(t[6]=[c("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[$,n(m).loading]])]),e("div",he,[a(N,{modelValue:n(m),"onUpdate:modelValue":t[1]||(t[1]=s=>z(m)?m.value=s:null),layout:"prev, pager, next",onChange:n(g)},null,8,["modelValue","onChange"])])])])}}});export{De as _};
