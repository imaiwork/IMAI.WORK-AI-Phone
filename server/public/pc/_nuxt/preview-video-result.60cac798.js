import{d as H,r as d,aG as N,dO as T,A as q,k as t,l as i,q as c,s as z,m as n,Z as s,cZ as G,aI as y,J as g,K,L as x,cX as X,I as b,ai as k,G as Z,y as J,cY as O,_ as U}from"./entry.8705b591.js";import{_ as W}from"./index.vue.3f013733.js";import{E as Y}from"./el-empty.a2e85def.js";import{_ as M}from"./index.vue.f28f8d8c.js";import{u as Q}from"./usePaging.0c251ebb.js";import{b as ee,n as te}from"./matrix.418b34fe.js";import oe from"./dh-video-card.002ed42f.js";import se from"./edit.3bc9ad02.js";import{E as ie}from"./index.cac1152c.js";import"./index.vue.a44fb124.js";import"./handle-menu.vue.1d3608c7.js";import"./index.656bf02e.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./throttle.2aefc6f7.js";import"./debounce.4efe57e2.js";import"./toNumber.9701a4c1.js";const ne={class:"rounded-xl overflow-hidden flex flex-col -my-2"},ae={class:"flex items-center justify-between h-[50px] px-4"},le={class:"flex items-center gap-x-2"},re={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[#ffffff1a]"},ce=["infinite-scroll-disabled"],de={class:"h-full p-4"},pe={key:0},fe={class:"grid grid-cols-3 gap-2 p-2"},_e={class:"cursor-pointer bg-black w-full relative h-[248px] flex flex-col overflow-hidden rounded-xl group"},me={key:0,class:"text-white text-center text-xs w-full py-4"},ue={key:1,class:"h-full flex items-center justify-center"},ve=H({__name:"preview-video-result",emits:["close"],setup(xe,{expose:E,emit:V}){const P=V,w=d(),p=N({type:T.XHS,page_no:1,page_size:20,video_setting_id:""}),{pager:a,getLists:h,resetPage:R}=Q({fetchFun:ee,params:p,isScroll:!0}),C=async()=>{p.page_no+=1,await h()},D=async o=>{var e;(e=w.value)==null||e.open(),p.video_setting_id=o,h()},f=()=>{P("close")},_=d(!1),m=d(),I=async o=>{_.value=!0,await k(),m.value.open(),m.value.setFormData(o)},L=async({id:o})=>{try{await te({id:o});const e=a.lists.findIndex(l=>l.id===o);a.lists.splice(e,1)}catch(e){Z.msgWarning(e)}},u=d(!1),v=q(),$=async o=>{var e,l;u.value=!0,await k(),(e=v.value)==null||e.open(),(l=v.value)==null||l.setUrl(o)};return E({open:D,close:f}),(o,e)=>{const l=J,B=W,S=Y,j=M,A=O,F=ie;return t(),i(g,null,[c(X,{ref_key:"popupRef",ref:w,width:"628px",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"cancel-button-text":"","confirm-button-text":"","show-close":!1,onClose:f},{default:z(()=>[n("div",ne,[n("div",ae,[n("div",le,[n("div",re,[c(l,{name:"local-icon-windows",size:14})]),e[3]||(e[3]=n("div",{class:"text-[20px] text-white font-bold"},"视频列表",-1))]),n("div",{class:"w-6 h-6",onClick:f},[c(B,{theme:s(G).DARK},null,8,["theme"])])]),y((t(),i("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!s(a).isLoad,"infinite-scroll-distance":10},[y((t(),i("div",de,[s(a).lists.length>0?(t(),i("div",pe,[n("div",fe,[(t(!0),i(g,null,K(s(a).lists,r=>(t(),i("div",{key:r.id},[n("div",_e,[c(oe,{item:r,onEdit:I,onDelete:L,onPreview:$},null,8,["item"])])]))),128))]),s(a).isLoad?x("",!0):(t(),i("div",me,"暂无更多了~"))])):(t(),i("div",ue,[c(S,{description:"暂无数据"})]))])),[[A,s(a).loading]])],8,ce)),[[F,C]])])]),_:1},512),s(_)?(t(),b(se,{key:0,ref_key:"editPopupRef",ref:m,onClose:e[0]||(e[0]=r=>_.value=!1),onSuccess:e[1]||(e[1]=r=>s(R)())},null,512)):x("",!0),s(u)?(t(),b(j,{key:1,ref_key:"previewVideoRef",ref:v,onClose:e[2]||(e[2]=r=>u.value=!1)},null,512)):x("",!0)],64)}}});const je=U(ve,[["__scopeId","data-v-ee1dfab8"]]);export{je as default};
