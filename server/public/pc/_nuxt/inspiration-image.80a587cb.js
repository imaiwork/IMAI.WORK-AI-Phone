import{_ as j}from"./index.vue.83bf2a64.js";import{E as F}from"./index.4bb9b943.js";import{E as S,a as K}from"./el-tabs.8ece84b9.js";import{d as Z,A as q,r as h,c as z,k as n,I as u,s as r,m as e,q as c,Z as a,cZ as J,l as d,K as y,J as f,Y as M,t as E,bM as O,v as Q,y as U,ay as X,cX as Y,_ as G}from"./entry.556496e9.js";import{E as H}from"./el-empty.5e752bd7.js";/* empty css                     */import{u as W}from"./useDictOptions.8bb858a6.js";import{e as ee}from"./drawing.7058a163.js";import"./raf.a745d528.js";import"./strings.09a7c832.js";import"./clamp.b3f2460d.js";import"./toNumber.844d22bd.js";import"./index.74b3694e.js";const te={class:"py-[18px] -my-4"},se={class:"mt-3"},oe={class:"h-[26rem]"},le={class:"grid grid-cols-3 gap-2 px-4 py-1"},ne=["onClick"],ae=["src"],ie={class:"absolute bottom-2 left-0 w-full flex justify-center"},re={class:"line-clamp-1 title-text"},ce={class:"mt-5 px-4"},pe={class:"bg-app-bg-3 border border-app-border-2 rounded-lg px-4 py-2 min-h-[40px] relative mt-4"},me={class:"text-white text-xs"},de={class:"flex justify-center mt-4"},_e=Z({__name:"inspiration-image",emits:["close","use-assemble"],setup(ue,{expose:k,emit:w}){const b=w,_=q(),p=h(),o=h([]),{optionsData:v}=W({assembleLists:{api:ee,transformData:s=>(s.length&&(p.value=s[0].id),s)}}),x=z(()=>o.value.map(s=>s.title)),I=s=>o.value.some(t=>t.id==s.id),C=s=>{o.value.some(i=>i.id==s.id)?o.value=o.value.filter(i=>i.id!=s.id):o.value.push(s)},V=()=>{b("use-assemble",x.value),g()},B=()=>{_.value.open()},g=()=>{b("close"),_.value.close()};return k({open:B}),(s,t)=>{const i=j,D=F,T=S,$=K,A=U,L=X,R=H,N=Y;return n(),u(N,{ref_key:"inspirationImageRef",ref:_,width:"476px","confirm-button-text":"","cancel-button-text":"","show-close":!1,style:{padding:"0","background-color":"var(--app-bg-color-1)"}},{default:r(()=>[e("div",te,[e("div",{class:"absolute top-[18px] right-[18px] w-6 h-6",onClick:g},[c(i,{theme:a(J).DARK},null,8,["theme"])]),t[4]||(t[4]=e("div",{class:"font-bold text-[20px] text-white px-[18px]"},"图片灵感库",-1)),e("div",se,[c($,{modelValue:a(p),"onUpdate:modelValue":t[0]||(t[0]=l=>O(p)?p.value=l:null),type:"card"},{default:r(()=>[(n(!0),d(f,null,y(a(v).assembleLists,(l,fe)=>(n(),u(T,{name:l.id,label:l.title},{default:r(()=>[e("div",oe,[c(D,null,{default:r(()=>[e("div",le,[(n(!0),d(f,null,y(l.subs,(m,P)=>(n(),d("div",{class:M(["relative overflow-hidden cursor-pointer rounded-lg hover:",[I(m)?"shadow-[0_0_0_1px_var(--color-primary)]":""]]),key:P,onClick:be=>C(m)},[e("img",{src:m.pic,class:"w-full h-full object-cover"},null,8,ae),e("div",ie,[e("div",re,E(m.title),1)])],10,ne))),128))])]),_:2},1024)])]),_:2},1032,["name","label"]))),256))]),_:1},8,["modelValue"])]),e("div",ce,[a(v).assembleLists.length>0?(n(),d(f,{key:0},[e("div",pe,[e("div",me,E(`${a(x)}`),1),e("div",{class:"absolute bottom-1.5 right-2 cursor-pointer",onClick:t[1]||(t[1]=l=>o.value=[])},[c(A,{name:"el-icon-Delete",color:"#FF5733"})])]),e("div",de,[c(L,{class:"w-[318px] !rounded-full !h-[50px]",type:"primary",disabled:a(o).length==0,onClick:t[2]||(t[2]=l=>V())},{default:r(()=>[...t[3]||(t[3]=[Q("使用此描述",-1)])]),_:1},8,["disabled"])])],64)):(n(),u(R,{key:1}))])])]),_:1},512)}}});const Te=G(_e,[["__scopeId","data-v-fe058065"]]);export{Te as default};
