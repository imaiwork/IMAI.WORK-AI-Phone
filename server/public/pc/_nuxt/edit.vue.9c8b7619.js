import{_ as y}from"./index.vue.3f013733.js";import{d as v,r as E,aG as C,cy as V,G as c,bK as B,k as D,I as F,s as r,m as s,q as n,Z as t,cZ as I,v as u,av as N,ay as R,cX as T}from"./entry.8705b591.js";import{u as G}from"./sph.d6d2831a.js";const K={class:"-my-4"},L={class:"mt-4"},Z={class:"mt-4 flex gap-2"},U=v({__name:"edit",emits:["close","success"],setup(q,{expose:i,emit:f}){const p=f,d=E(),e=C({id:"",name:""}),_=()=>{d.value.open()},l=()=>{p("close")},{lockFn:x,isLock:b}=V(async()=>{if(!e.name){c.msgError("请输入任务名称");return}try{await G(e),c.msgSuccess("修改成功"),p("success"),l()}catch(a){c.msgError(a)}});return i({open:_,setFormData:a=>B(a,e)}),(a,o)=>{const k=y,h=N,m=R,g=T;return D(),F(g,{ref_key:"popupRef",ref:d,async:"",width:"448px","confirm-button-text":"","cancel-button-text":"",style:{padding:"18px","border-radius":"20px","background-color":"var(--app-bg-color-3)","box-shadow":"0 0 0 1px #2a2a2a"},"append-to-body":!1,"show-close":!1},{default:r(()=>[s("div",K,[s("div",{class:"absolute w-6 h-6 top-[18px] right-[18px] z-[22]",onClick:l},[n(k,{theme:t(I).DARK},null,8,["theme"])]),o[3]||(o[3]=s("div",{class:"text-[15px] text-white font-bold"},"任务名称设置",-1)),s("div",L,[n(h,{modelValue:t(e).name,"onUpdate:modelValue":o[0]||(o[0]=w=>t(e).name=w),class:"!h-[50px]",placeholder:"请输入任务名称",clearable:"",maxlength:"30","show-word-limit":""},null,8,["modelValue"])]),s("div",Z,[n(m,{color:"#181818",class:"!rounded-full w-full !h-[50px] !border-app-border-1",onClick:l},{default:r(()=>[...o[1]||(o[1]=[u("取消",-1)])]),_:1}),n(m,{type:"primary",class:"!rounded-full w-full !h-[50px]",loading:t(b),onClick:t(x)},{default:r(()=>[...o[2]||(o[2]=[u("立即保存",-1)])]),_:1},8,["loading","onClick"])])])]),_:1},512)}}});export{U as _};
