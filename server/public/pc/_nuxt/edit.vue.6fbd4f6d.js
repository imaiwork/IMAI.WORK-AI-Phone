import{d as F,r as c,c as h,aG as I,cy as C,G as g,bK as G,k as T,I as U,s as l,q as a,Z as o,v as r,az as q,cX as D,d0 as z,d1 as B,aw as L,av as N}from"./entry.556496e9.js";import{a5 as A,a6 as K}from"./person_wechat.703f63bb.js";const j=F({__name:"edit",emits:["close","success"],setup(S,{expose:k,emit:v}){const _=v,u=c("add"),V=h(()=>u.value=="add"?"新增标签":"编辑标签"),i=c(),t=I({id:"",match_type:0,match_mode:0,match_keywords:"",tag_name:"",wechat_id:""}),w={match_keywords:[{required:!0,message:"请输入匹配关键词"}],tag_name:[{required:!0,message:"请输入匹配标签"}]},p=c(),{lockFn:x,isLock:E}=C(async()=>{var s,e;await((s=i.value)==null?void 0:s.validate());try{u.value=="add"?await A(t):await K(t),(e=p.value)==null||e.close(),g.msgSuccess("操作成功"),_("success")}catch(m){g.msgError(m)}}),R=(s="add")=>{var e;u.value=s,(e=p.value)==null||e.open()},b=()=>{_("close")};return k({open:R,setFormData:s=>G(s,t)}),(s,e)=>{const m=z,f=B,n=L,y=N;return T(),U(D,{ref_key:"popupRef",ref:p,title:o(V),width:"610px",async:"","confirm-loading":o(E),onClose:b,onConfirm:o(x)},{default:l(()=>[a(o(q),{ref_key:"formRef",ref:i,model:o(t),rules:w,"label-position":"top"},{default:l(()=>[a(n,{label:"匹配模式",prop:"match_type"},{default:l(()=>[a(f,{modelValue:o(t).match_type,"onUpdate:modelValue":e[0]||(e[0]=d=>o(t).match_type=d)},{default:l(()=>[a(m,{value:0},{default:l(()=>[...e[4]||(e[4]=[r("模糊匹配",-1)])]),_:1}),a(m,{value:1},{default:l(()=>[...e[5]||(e[5]=[r("精确匹配",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"匹配对象",prop:"match_mode"},{default:l(()=>[a(f,{modelValue:o(t).match_mode,"onUpdate:modelValue":e[1]||(e[1]=d=>o(t).match_mode=d)},{default:l(()=>[a(m,{value:0},{default:l(()=>[...e[6]||(e[6]=[r("AI回复",-1)])]),_:1}),a(m,{value:1},{default:l(()=>[...e[7]||(e[7]=[r("客户回复",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"匹配关键词",prop:"match_keywords"},{default:l(()=>[a(y,{modelValue:o(t).match_keywords,"onUpdate:modelValue":e[2]||(e[2]=d=>o(t).match_keywords=d),type:"textarea",resize:"none",placeholder:"请输入匹配关键词",maxlength:"500",rows:4},null,8,["modelValue"])]),_:1}),a(n,{label:"匹配标签",prop:"tag_name"},{default:l(()=>[a(y,{modelValue:o(t).tag_name,"onUpdate:modelValue":e[3]||(e[3]=d=>o(t).tag_name=d),placeholder:"请输入匹配标签",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","confirm-loading","onConfirm"])}}});export{j as _};
