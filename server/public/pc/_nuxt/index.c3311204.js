import{d as T,a as Z,aF as G,r as g,A as J,ek as K,Z as i,k as r,l as n,m as e,q as a,s as y,v as Q,aI as O,J as $,K as U,t as u,bC as W,Y as X,L as B,I as R,aH as S,G as A,ax as ee,y as te,u as oe}from"./entry.062f432e.js";import{E as se}from"./el-image.95dc6784.js";import{E as ie}from"./index.24c52925.js";import{E as re}from"./el-empty.f71775a4.js";import"./el-image-viewer.78bb4aee.js";/* empty css                   */import{u as ne}from"./usePaging.8d013439.js";import{Y as ae,Z as le}from"./person_wechat.703f63bb.js";import{_ as pe}from"./edit.vue.a764a8e2.js";import{_ as ce}from"./manage.vue.02d34822.js";import{E as me}from"./index.51d8c0b0.js";import"./throttle.78a6b94c.js";import"./debounce.ea0eb2e3.js";import"./toNumber.c46fba7d.js";import"./index.cd458299.js";import"./index.cf337782.js";import"./index.d50bd4d3.js";import"./cloneDeep.fcebcf93.js";/* empty css                  *//* empty css                    *//* empty css                  */import"./index.a6d01468.js";import"./index.9217f5dd.js";import"./index.a7371e30.js";import"./strings.21d5dbba.js";import"./_baseIteratee.64c51a6a.js";import"./clamp.ae7e1fa1.js";import"./index.27037b00.js";import"./index.8ea9a68c.js";/* empty css                  *//* empty css               *//* empty css                     *//* empty css                  */import"./useDictOptions.b2767fda.js";import"./knowledge_base.519704cc.js";import"./el-breadcrumb.815c24c6.js";import"./el-tabs.80898acc.js";import"./raf.b9a1b517.js";import"./index.77032a68.js";import"./keywords.vue.e3bcffd3.js";import"./index.b74e9e2b.js";import"./index.vue.5e1ffdab.js";import"./index.vue.f7b69569.js";import"./index.vue.b6c9e4fc.js";/* empty css                        *//* empty css                 */import"./index.cf59f1a8.js";import"./keywords-edit.vue.faa1ff56.js";import"./add-content.431e6a21.js";import"./el-alert.46be68b7.js";import"./arrow_down.70a5466c.js";import"./dom.7f5b5a10.js";import"./emoji.vue.7aab2083.js";import"./useHandle.1586da0e.js";import"./mini-program-card.vue.b34d25cf.js";import"./material-picker.vue.628a1b3b.js";import"./index.vue.86e69ecb.js";import"./sidebar.36aff9e8.js";import"./useMaterial.dd2e14eb.js";import"./container.aaa9f586.js";import"./upload.ec2901c6.js";import"./preview.vue.e4a2fc57.js";import"./link-card.vue.f1285504.js";import"./file-card.vue.1cbf166e.js";import"./import-data.vue.c7db1e63.js";import"./el-steps.a6261c39.js";const de={key:0,class:"h-full flex flex-col"},ue={class:"bg-white rounded-xl h-[107px] flex justify-between items-center px-[30px] flex-shrink-0"},fe=["infinite-scroll-disabled"],_e={class:"grid grid-cols-3 gap-6 pb-4"},ve=["onClick"],xe={class:"flex items-center gap-4"},ge={class:"text-lg"},ye={class:"grow"},he={class:"line-clamp-3 text-xs text-[#524B6B] mt-3 leading-5"},we={class:"text-[10px] flex items-center justify-between text-[#AAA6B9] mt-3"},ke={class:"rotate-90 origin-center p-1"},be={class:"flex flex-col gap-2"},Ee=["onClick"],Ce=["onClick"],$e={key:0,class:"text-center py-4 text-gray-500"},Be={key:1,class:"grow flex items-center justify-center bg-white rounded-xl"},Vt=T({__name:"index",async setup(Re){let h,w;const f=Z(),D=oe(),k=G({page_no:1}),{pager:l,getLists:b,resetPage:P}=ne({fetchFun:ae,params:k,isScroll:!0}),_=g(),E=(s,t)=>{s?_.value=t:_.value=void 0},p=g(!1),c=J(),I=async()=>{p.value=!0,await S(),c.value.open()},L=async s=>{p.value=!0,await S(),c.value.open("edit"),c.value.getDetail(s)},M=(s,t)=>{D.$confirm({message:"确定删除吗？",onConfirm:async()=>{try{await le({id:s}),l.lists.splice(t,1),A.msgSuccess("删除成功")}catch(v){A.msgError(v||"删除失败")}}})},m=g(!1),Y=s=>{m.value=!0,f.replace({query:{type:1,id:s}})},q=()=>{m.value=!1,f.replace({query:{type:1}})},N=()=>{const{type:s,id:t}=f.currentRoute.value.query;t&&(m.value=!0)},j=async()=>{k.page_no+=1,await b()};return[h,w]=K(()=>b()),await h,w(),N(),(s,t)=>{const v=ee,F=se,x=te,V=ie,z=re,H=me;return i(m)?(r(),R(ce,{key:1,onClose:q})):(r(),n("div",de,[e("div",ue,[t[2]||(t[2]=e("div",null,[e("div",{class:"text-2xl"},"机器人列表"),e("div",{class:"text-[#74798C] mt-1"},"创建你的机器人，接替对应的客服岗位")],-1)),e("div",null,[a(v,{type:"primary",onClick:I},{default:y(()=>[...t[1]||(t[1]=[Q("创建机器人",-1)])]),_:1})])]),O((r(),n("div",{class:"grow min-h-0 flex flex-col mt-4 overflow-y-auto","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!i(l).isLoad,"infinite-scroll-distance":10},[i(l).lists.length>0?(r(),n($,{key:0},[e("div",_e,[(r(!0),n($,null,U(i(l).lists,(o,C)=>(r(),n("div",{key:C,class:"h-[168px] rounded-xl bg-white px-6 py-4 group relative cursor-pointer flex flex-col",onClick:d=>Y(o.id)},[e("div",xe,[a(F,{src:o.logo,lazy:"",fit:"cover",class:"w-10 h-10 rounded-[5px]"},null,8,["src"]),e("span",ge,u(o.name),1)]),e("div",ye,[e("div",he,u(o.description),1)]),e("div",we,[e("div",null,u(i(W)(o.create_time).format("YYYY/MM/DD"))+" 创建 ",1),e("div",null,"绑定微信数："+u(o.wechat_count||0),1)]),e("div",{class:X(["absolute right-2 top-2 z-[1000] invisible group-hover:visible",[i(_)==o.id?"!visible":""]])},[a(V,{"show-arrow":!1,"popper-class":"!w-[130px] !min-w-[130px] !p-[6px] !rounded-xl",onShow:d=>E(!0,o.id),onHide:d=>E(!1,o.id)},{reference:y(()=>[e("div",ke,[a(x,{name:"el-icon-MoreFilled"})])]),default:y(()=>[e("div",be,[e("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:d=>L(o.id)},[a(x,{name:"el-icon-Edit"}),t[3]||(t[3]=e("span",null,"编辑机器人",-1))],8,Ee),e("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:d=>M(o.id,C)},[a(x,{name:"el-icon-Delete"}),t[4]||(t[4]=e("span",null,"删除",-1))],8,Ce)])]),_:2},1032,["onShow","onHide"])],2)],8,ve))),128))]),i(l).isLoad?B("",!0):(r(),n("div",$e,"暂无更多了"))],64)):(r(),n("div",Be,[a(z,{description:"暂无数据"})]))],8,fe)),[[H,j]]),i(p)?(r(),R(pe,{key:0,ref_key:"editPopRef",ref:c,onClose:t[0]||(t[0]=o=>p.value=!1),onSuccess:i(P)},null,8,["onSuccess"])):B("",!0)]))}}});export{Vt as default};
