import{_ as y}from"./index.vue.96af9406.js";import{d as h,r as C,aG as E,cy as V,G as c,bK as B,k as D,I as F,s as r,m as s,q as a,Z as n,v as m,av as I,ay as N,cX as G}from"./entry.563c232b.js";import{u as L}from"./device.b8ac970d.js";const R={class:"-my-4"},T={class:"mt-4"},q={class:"mt-4 flex gap-2"},U=h({__name:"edit",emits:["close","success"],setup(z,{expose:u,emit:f}){const p=f,d=C(),e=E({id:"",name:""}),_=()=>{d.value.open()},l=()=>{p("close")},{lockFn:x,isLock:b}=V(async()=>{if(!e.name){c.msgError("请输入任务名称");return}try{await L(e),c.msgSuccess("修改成功"),p("success"),l()}catch(t){c.msgError(t)}});return u({open:_,setFormData:t=>B(t,e)}),(t,o)=>{const k=y,g=I,i=N,v=G;return D(),F(v,{ref_key:"popupRef",ref:d,async:"",width:"448px","confirm-button-text":"","cancel-button-text":"",style:{padding:"18px","border-radius":"20px","background-color":"var(--app-bg-color-3)","box-shadow":"0 0 0 1px #2a2a2a"},"append-to-body":!1,"show-close":!1},{default:r(()=>[s("div",R,[s("div",{class:"absolute w-6 h-6 top-[18px] right-[18px] z-[22]",onClick:l},[a(k)]),o[3]||(o[3]=s("div",{class:"text-[15px] text-white font-bold"},"任务名称设置",-1)),s("div",T,[a(g,{modelValue:n(e).name,"onUpdate:modelValue":o[0]||(o[0]=w=>n(e).name=w),class:"!h-[50px]",placeholder:"请输入任务名称",clearable:"",maxlength:"30","show-word-limit":""},null,8,["modelValue"])]),s("div",q,[a(i,{color:"#181818",class:"!rounded-full w-full !h-[50px] !border-app-border-1",onClick:l},{default:r(()=>[...o[1]||(o[1]=[m("取消",-1)])]),_:1}),a(i,{type:"primary",class:"!rounded-full w-full !h-[50px]",loading:n(b),onClick:n(x)},{default:r(()=>[...o[2]||(o[2]=[m("立即保存",-1)])]),_:1},8,["loading","onClick"])])])]),_:1},512)}}});export{U as _};
