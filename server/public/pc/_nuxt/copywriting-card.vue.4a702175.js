import{d as Z,at as z,x as q,c as j,k as c,l as d,m as e,t as l,Z as u,I as J,s as _,v as y,q as p,L as v,J as V,K as k,Y as B,cZ as U,u as A,y as Y,ba as G,ay as H,av as O}from"./entry.8705b591.js";import{_ as P}from"./index.vue.3f013733.js";import{E as Q}from"./index.d5b2ab73.js";/* empty css                     */const W={class:"h-full flex flex-col"},X={class:"flex justify-between gap-x-2 px-[14px]"},ee={class:"text-white text-[11px]"},te={class:"flex items-center gap-x-2 mt-2"},le={class:"text-[#ffffff80] text-[11px]"},oe={class:"w-4 h-4 rounded-full flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.2)] cursor-pointer"},se={class:"text-[#ffffff80] text-[11px] leading-6 w-[212px]"},ae={class:"grow min-h-0 mt-[14px]"},ne={class:"flex flex-col gap-y-2 px-[14px]"},ce={class:"flex-1"},de=["onClick"],ue={class:"flex justify-between gap-x-2"},pe=["onClick"],ie={class:"mt-2"},re={key:0,class:"relative mt-4 flex gap-x-2 items-end"},me={key:0,class:"flex-1 flex flex-wrap gap-2"},fe=["onClick"],he={key:1,class:""},be=Z({__name:"copywriting-card",props:z({type:{},modelValue:{},publishTypeName:{},showTopic:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:z(["update:modelValue"],["update:modelValue"]),setup(n,{emit:D}){const b=n,m=D,t=q(n,"modelValue"),I=j(()=>t.value.filter(o=>o.content).length),r=j(()=>({1:"标题",2:"正文描述",3:"口播文案"})[b.type]),F=()=>{b.type==2?t.value.push({content:"",topic:[]}):t.value.push({content:""}),m("update:modelValue",t.value)},C=o=>{A().$confirm({message:`确定要删除该${b.type==1?"标题":"描述"}吗？`,theme:"dark",onConfirm:()=>{t.value.splice(o,1),m("update:modelValue",t.value)}})},T=o=>{m("update:modelValue",t.value)},K=o=>{t.value[o].topic||(t.value[o].topic=[]),t.value[o].topic.push(""),m("update:modelValue",t.value)},L=(o,i)=>{A().$confirm({message:"确定要删除该话题吗？",theme:"dark",onConfirm:()=>{t.value[o].topic.splice(i,1),m("update:modelValue",t.value)}})},M=(o,i)=>{m("update:modelValue",t.value)};return(o,i)=>{const N=Y,S=G,$=H,g=O,E=P,R=Q;return c(),d("div",W,[e("div",X,[e("div",null,[e("div",ee,l(u(r)),1),e("div",te,[e("span",le," 共"+l(t.value.length)+"个"+l(u(r))+"，已配置"+l(u(I))+"个 ",1),n.publishTypeName?(c(),J(S,{key:0,placement:"top","popper-class":"!rounded-xl !bg-app-bg-2 !border-app-border-2 !p-2","show-arrow":!1},{content:_(()=>[e("div",se,[y(" 1.如配置"+l(u(r))+"数量等于"+l(n.publishTypeName)+"数量，将按"+l(n.publishTypeName)+"顺序匹配"+l(u(r))+"。 ",1),i[0]||(i[0]=e("br",null,null,-1)),y(" 2.如配置"+l(u(r))+"数量不等于"+l(n.publishTypeName)+"数量，将"+l(u(r))+"随机匹配给各"+l(n.publishTypeName)+"。 ",1)])]),default:_(()=>[e("div",oe,[p(N,{name:"local-icon-tips2",color:"#ffffff",size:16})])]),_:1})):v("",!0)])]),e("div",null,[p($,{class:"!h-10 w-[106px] !border-[#ffffff1a]",color:"#262626",onClick:F},{default:_(()=>[y("添加"+l(u(r)),1)]),_:1})])]),e("div",ae,[p(R,null,{default:_(()=>[e("div",ne,[n.type==1?(c(!0),d(V,{key:0},k(t.value,(s,a)=>(c(),d("div",{class:"flex items-center gap-x-2 border border-app-border-2 px-3 h-11 rounded-md",key:a},[e("div",{class:B(["rounded-[100px] text-white min-w-[32px] h-5 flex items-center justify-center",[s.content?"bg-[#3BB840]":"shadow-[0_0_0_1px_var(--app-border-color-2)]"]])},l(a+1),3),e("div",ce,[p(g,{modelValue:s.content,"onUpdate:modelValue":f=>s.content=f,class:"!h-10",maxlength:"20","show-word-limit":"","input-style":"font-size: 11px",placeholder:"-",onBlur:f=>T(a)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),i[1]||(i[1]=e("div",{class:"w-[1px] h-[12px] bg-[#ffffff1a]"},null,-1)),e("div",null,[e("div",{class:"w-4 h-4",onClick:f=>C(a)},[p(E,{"icon-size":10,theme:u(U).DARK},null,8,["theme"])],8,de)])]))),128)):v("",!0),n.type==2||n.type==3?(c(!0),d(V,{key:1},k(t.value,(s,a)=>{var f;return c(),d("div",{class:"border border-app-border-2 p-3 rounded-md h-fit",key:a},[e("div",ue,[e("div",{class:B(["rounded-[100px] text-white min-w-[32px] h-5 flex items-center justify-center",[s.content?"bg-[#3BB840]":"shadow-[0_0_0_1px_var(--app-border-color-2)]"]])},l(a+1),3),e("div",null,[e("div",{class:"w-4 h-4",onClick:h=>C(a)},[p(E,{"icon-size":10,theme:u(U).DARK},null,8,["theme"])],8,pe)])]),e("div",ie,[p(g,{modelValue:s.content,"onUpdate:modelValue":h=>s.content=h,maxlength:"800","show-word-limit":"",placeholder:"请输入内容",type:"textarea",resize:"none","input-style":"font-size: 11px",rows:6,onBlur:h=>T(a)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),n.showTopic?(c(),d("div",re,[s.topic&&s.topic.length?(c(),d("div",me,[(c(!0),d(V,null,k(s.topic,(h,x)=>(c(),d("div",{key:x,class:B(["relative text-[11px] rounded-md shadow-[0_0_0_1px_rgba(255,255,255,0.1)]",{"bg-app-bg-4":h}])},[p(g,{modelValue:s.topic[x],"onUpdate:modelValue":w=>s.topic[x]=w,class:"h-[26px] !w-[78px]",placeholder:"#请输入话题","input-style":"font-size: 11px;height: 100%",onBlur:w=>M(a,x)},null,8,["modelValue","onUpdate:modelValue","onBlur"]),e("div",{class:"absolute -top-2 -right-2 w-4 h-4 rounded-full flex items-center justify-center bg-[#FF3C26] cursor-pointer",onClick:w=>L(a,x)},[p(N,{name:"local-icon-close",color:"#ffffff"})],8,fe)],2))),128))])):v("",!0),((f=s.topic)==null?void 0:f.length)<5?(c(),d("div",he,[p($,{type:"primary",class:"!h-[26px]",onClick:h=>K(a)},{default:_(()=>[...i[2]||(i[2]=[y("添加话题",-1)])]),_:1},8,["onClick"])])):v("",!0)])):v("",!0)])}),128)):v("",!0)])]),_:1})])])}}});export{be as _};
