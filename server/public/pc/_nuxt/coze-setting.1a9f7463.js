import{_ as y}from"./index.vue.83bf2a64.js";import{d as C,A as w,aG as z,cy as h,G as a,bK as B,k as V,I as E,s as d,m as o,q as c,Z as n,v as F,av as I,ay as D,cX as N,_ as R}from"./entry.556496e9.js";import{_ as S}from"./coze_bg.a1872e5f.js";import{l as T,m as A}from"./agent.4a5bb123.js";const G={class:"box rounded-[32px] overflow-hidden"},L={class:"px-[38px] pb-5"},U={class:"mt-4"},j={class:"mt-6"},q=C({__name:"coze-setting",emits:["close","success"],setup(K,{expose:i,emit:_}){const l=_,r=w(),s=z({id:"",secret_token:""}),m=async()=>{r.value.open()},p=()=>{l("close")},{lockFn:u,isLock:f}=h(async()=>{if(!s.secret_token){a.msgWarning("请输入Coze令牌");return}try{s.id?await T(s):await A(s),p(),l("success"),a.msgSuccess("保存成功")}catch(t){a.msgError(t)}});return i({open:m,setFormData:t=>B(t,s)}),(t,e)=>{const x=y,k=I,v=D,g=N;return V(),E(g,{ref_key:"popupRef",ref:r,width:"370px",async:"","show-close":!1,"cancel-button-text":"","confirm-button-text":"","header-class":"!p-0","footer-class":"!p-0",style:{padding:"0","border-radius":"32px"}},{default:d(()=>[o("div",G,[o("div",{class:"absolute w-6 h-6 right-4 top-4 z-20 cursor-pointer",onClick:p},[c(x)]),e[4]||(e[4]=o("div",{class:"bg"},[o("img",{src:S,class:"h-[200px] w-full object-cover"})],-1)),o("div",L,[e[2]||(e[2]=o("div",{class:"text-[20px]"},"Coze令牌配置",-1)),e[3]||(e[3]=o("div",{class:"text-xs text-[#0000004d] mt-4"}," 用于与 Coze 服务进行鉴权的 Bearer Token，请确保令牌具有所需的权限范围，粘贴后系统会进行格式校验。 ",-1)),o("div",U,[c(k,{modelValue:n(s).secret_token,"onUpdate:modelValue":e[0]||(e[0]=b=>n(s).secret_token=b),class:"!h-[50px]",placeholder:"请输入Coze的Token",clearable:""},null,8,["modelValue"])]),o("div",j,[c(v,{type:"primary",class:"w-full !h-[50px] !rounded-full shadow-[0_6px_12px_0_#0065fb33]",loading:n(f),onClick:n(u)},{default:d(()=>[...e[1]||(e[1]=[F(" 立即保存 ",-1)])]),_:1},8,["loading","onClick"])])])])]),_:1},512)}}});const H=R(q,[["__scopeId","data-v-86fdcb0f"]]);export{H as default};
