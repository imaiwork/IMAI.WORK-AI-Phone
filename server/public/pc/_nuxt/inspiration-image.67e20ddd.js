import{_ as j}from"./index.vue.96af9406.js";import{E as F}from"./index.9ed38239.js";import{E as S,a as q}from"./el-tabs.a314917a.js";import{d as z,A as J,r as h,c as K,k as n,I as u,s as i,m as e,q as r,l as d,K as y,J as f,Y as M,t as E,Z as c,bM as O,v as Q,y as U,ay as X,cX as Y,_ as Z}from"./entry.563c232b.js";import{E as G}from"./el-empty.92ad44f2.js";/* empty css                     */import{u as H}from"./useDictOptions.c0bd6b2d.js";import{e as W}from"./drawing.7058a163.js";import"./raf.af29001c.js";import"./strings.0730af8d.js";import"./clamp.43011008.js";import"./toNumber.590accd9.js";import"./index.bd937a87.js";const ee={class:"py-[18px] -my-4"},te={class:"mt-3"},se={class:"h-[26rem]"},oe={class:"grid grid-cols-3 gap-2 px-4 py-1"},le=["onClick"],ne=["src"],ae={class:"absolute bottom-2 left-0 w-full flex justify-center"},ie={class:"line-clamp-1 title-text"},re={class:"mt-5 px-4"},ce={class:"bg-app-bg-3 border border-app-border-2 rounded-lg px-4 py-2 min-h-[40px] relative mt-4"},pe={class:"text-white text-xs"},me={class:"flex justify-center mt-4"},de=z({__name:"inspiration-image",emits:["close","use-assemble"],setup(_e,{expose:k,emit:w}){const b=w,_=J(),p=h(),o=h([]),{optionsData:v}=H({assembleLists:{api:W,transformData:s=>(s.length&&(p.value=s[0].id),s)}}),x=K(()=>o.value.map(s=>s.title)),I=s=>o.value.some(t=>t.id==s.id),C=s=>{o.value.some(a=>a.id==s.id)?o.value=o.value.filter(a=>a.id!=s.id):o.value.push(s)},V=()=>{b("use-assemble",x.value),g()},B=()=>{_.value.open()},g=()=>{b("close"),_.value.close()};return k({open:B}),(s,t)=>{const a=j,$=F,D=S,L=q,T=U,A=X,N=G,P=Y;return n(),u(P,{ref_key:"inspirationImageRef",ref:_,width:"476px","confirm-button-text":"","cancel-button-text":"","show-close":!1,style:{padding:"0","background-color":"var(--app-bg-color-1)"}},{default:i(()=>[e("div",ee,[e("div",{class:"absolute top-[18px] right-[18px] w-6 h-6",onClick:g},[r(a)]),t[4]||(t[4]=e("div",{class:"font-bold text-[20px] text-white px-[18px]"},"图片灵感库",-1)),e("div",te,[r(L,{modelValue:c(p),"onUpdate:modelValue":t[0]||(t[0]=l=>O(p)?p.value=l:null),type:"card"},{default:i(()=>[(n(!0),d(f,null,y(c(v).assembleLists,(l,ue)=>(n(),u(D,{name:l.id,label:l.title},{default:i(()=>[e("div",se,[r($,null,{default:i(()=>[e("div",oe,[(n(!0),d(f,null,y(l.subs,(m,R)=>(n(),d("div",{class:M(["relative overflow-hidden cursor-pointer rounded-lg hover:",[I(m)?"shadow-[0_0_0_1px_var(--color-primary)]":""]]),key:R,onClick:fe=>C(m)},[e("img",{src:m.pic,class:"w-full h-full object-cover"},null,8,ne),e("div",ae,[e("div",ie,E(m.title),1)])],10,le))),128))])]),_:2},1024)])]),_:2},1032,["name","label"]))),256))]),_:1},8,["modelValue"])]),e("div",re,[c(v).assembleLists.length>0?(n(),d(f,{key:0},[e("div",ce,[e("div",pe,E(`${c(x)}`),1),e("div",{class:"absolute bottom-1.5 right-2 cursor-pointer",onClick:t[1]||(t[1]=l=>o.value=[])},[r(T,{name:"el-icon-Delete",color:"#FF5733"})])]),e("div",me,[r(A,{class:"w-[318px] !rounded-full !h-[50px]",type:"primary",disabled:c(o).length==0,onClick:t[2]||(t[2]=l=>V())},{default:i(()=>[...t[3]||(t[3]=[Q("使用此描述",-1)])]),_:1},8,["disabled"])])],64)):(n(),u(N,{key:1}))])])]),_:1},512)}}});const $e=Z(de,[["__scopeId","data-v-3c4256d9"]]);export{$e as default};
