import{Q as Y,dz as O,dA as X,dB as j,c as v,co as J,r as p,D as Q,bh as $,b as Z,bj as G,d as N,c9 as K,cW as _,W as x,V as ee,dC as ae,k as h,I as se,s as E,q as S,bi as te,Z as e,aI as oe,dD as le,cq as re,m as H,am as ne,a0 as ie,Y as u,l as R,H as F,t as de,L as w,a1 as ue,a6 as ce,a3 as fe,aJ as ve,cw as pe,aa as be,an as me}from"./entry.45b56a4a.js";const he=Y({...O,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),we={...X,"resize-start":(t,l)=>t instanceof MouseEvent&&typeof l=="number",resize:(t,l)=>t instanceof MouseEvent&&typeof l=="number","resize-end":(t,l)=>t instanceof MouseEvent&&typeof l=="number"};function ye(t,l,y){const{width:b,height:P}=j(),n=v(()=>["ltr","rtl"].includes(t.direction)),A=v(()=>["ltr","ttb"].includes(t.direction)?1:-1),B=v(()=>n.value?b.value:P.value),s=v(()=>J(i.value+A.value*c.value,4,B.value)),i=p(0),c=p(0),f=p(!1),m=p(!1);let d=[],g=[];const z=()=>{var o;const r=(o=l.value)==null?void 0:o.closest('[aria-modal="true"]');return r?n.value?r.offsetWidth:r.offsetHeight:100};Q(()=>[t.size,t.resizable],()=>{m.value=!1,i.value=0,c.value=0,k()});const D=o=>{t.resizable&&(m.value||(i.value=z(),m.value=!0),d=[o.pageX,o.pageY],f.value=!0,y("resize-start",o,i.value),g.push($(window,"mouseup",k),$(window,"mousemove",L)))},L=o=>{const{pageX:r,pageY:I}=o,C=r-d[0],M=I-d[1];c.value=n.value?C:M,y("resize",o,s.value)},k=o=>{f.value&&(d=[],i.value=s.value,c.value=0,f.value=!1,g.forEach(r=>r==null?void 0:r()),g=[],o&&y("resize-end",o,i.value))},T=$(l,"mousedown",D);return Z(()=>{T(),k()}),{size:v(()=>m.value?`${s.value}px`:G(t.size)),isResizing:f,isHorizontal:n}}const ge=N({name:"ElDrawer",inheritAttrs:!1}),ze=N({...ge,props:he,emits:we,setup(t,{expose:l,emit:y}){const b=t,P=K();_({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},v(()=>!!P.title));const n=p(),A=p(),B=p(),s=x("drawer"),{t:i}=ee(),{afterEnter:c,afterLeave:f,beforeLeave:m,visible:d,rendered:g,titleId:z,bodyId:D,zIndex:L,onModalClick:k,onOpenAutoFocus:T,onCloseAutoFocus:o,onFocusoutPrevented:r,onCloseRequested:I,handleClose:C}=ae(b,n),{isHorizontal:M,size:U,isResizing:V}=ye(b,B,y),W=v(()=>b.modalPenetrable&&!b.modal);return l({handleClose:C,afterEnter:c,afterLeave:f}),(a,Ce)=>(h(),se(e(pe),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:E(()=>[S(te,{name:e(s).b("fade"),onAfterEnter:e(c),onAfterLeave:e(f),onBeforeLeave:e(m),persisted:""},{default:E(()=>{var q;return[oe(S(e(le),{mask:a.modal,"overlay-class":[e(s).is("drawer"),(q=a.modalClass)!=null?q:"",`${e(s).namespace.value}-modal-drawer`,e(s).is("penetrable",e(W))],"z-index":e(L),onClick:e(k)},{default:E(()=>[S(e(re),{loop:"",trapped:e(d),"focus-trap-el":n.value,"focus-start-el":A.value,onFocusAfterTrapped:e(T),onFocusAfterReleased:e(o),onFocusoutPrevented:e(r),onReleaseRequested:e(I)},{default:E(()=>[H("div",ne({ref_key:"drawerRef",ref:n,"aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(z),"aria-describedby":e(D)},a.$attrs,{class:[e(s).b(),a.direction,e(d)&&"open",e(s).is("dragging",e(V))],style:{[e(M)?"width":"height"]:e(U)},role:"dialog",onClick:ie(()=>{},["stop"])}),[H("span",{ref_key:"focusStartRef",ref:A,class:u(e(s).e("sr-focus")),tabindex:"-1"},null,2),a.withHeader?(h(),R("header",{key:0,class:u([e(s).e("header"),a.headerClass])},[a.$slots.title?F(a.$slots,"title",{key:1},()=>[w(" DEPRECATED SLOT ")]):F(a.$slots,"header",{key:0,close:e(C),titleId:e(z),titleClass:e(s).e("title")},()=>[H("span",{id:e(z),role:"heading","aria-level":a.headerAriaLevel,class:u(e(s).e("title"))},de(a.title),11,["id","aria-level"])]),a.showClose?(h(),R("button",{key:2,"aria-label":e(i)("el.drawer.close"),class:u(e(s).e("close-btn")),type:"button",onClick:e(C)},[S(e(ue),{class:u(e(s).e("close"))},{default:E(()=>[S(e(ce))]),_:1},8,["class"])],10,["aria-label","onClick"])):w("v-if",!0)],2)):w("v-if",!0),e(g)?(h(),R("div",{key:1,id:e(D),class:u([e(s).e("body"),a.bodyClass])},[F(a.$slots,"default")],10,["id"])):w("v-if",!0),a.$slots.footer?(h(),R("div",{key:2,class:u([e(s).e("footer"),a.footerClass])},[F(a.$slots,"footer")],2)):w("v-if",!0),a.resizable?(h(),R("div",{key:3,ref_key:"draggerRef",ref:B,style:fe({zIndex:e(L)}),class:u(e(s).e("dragger"))},null,6)):w("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ve,e(d)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var ke=be(ze,[["__file","drawer.vue"]]);const Se=me(ke);export{Se as E};
