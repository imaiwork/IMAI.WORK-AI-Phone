import{Q as U,aa as Y,d as O,ab as te,W as ae,N as oe,r as f,c as L,b as re,bh as D,ak as X,k as R,I as $,s as le,aI as ne,m as j,Y as P,Z as z,a0 as ie,a3 as I,aJ as ce,bi as ue,aU as ve,l as se,q,J as fe,S as de,b7 as me,aV as N,bj as G,D as J,aA as F,ai as Q,aj as pe,aG as he,bk as be,o as ge,bl as ye,H as Se,ar as we,L as ze,aD as _e,ah as Z,an as Ee}from"./entry.8705b591.js";const k=4,He={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Te=({move:p,size:d,bar:o})=>({[o.size]:d,transform:`translate${o.axis}(${p}%)`}),V=Symbol("scrollbarContextKey"),ke=U({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Ce=O({__name:"thumb",props:ke,setup(p){const d=p,o=te(V),a=ae("scrollbar");o||oe(Le,"can not inject scrollbar context");const c=f(),m=f(),y=f({}),h=f(!1);let r=!1,n=!1,v=0,S=0,l=ve?document.onselectstart:null;const e=L(()=>He[d.vertical?"vertical":"horizontal"]),b=L(()=>Te({size:d.size,move:d.move,bar:e.value})),g=L(()=>c.value[e.value.offset]**2/o.wrapElement[e.value.scrollSize]/d.ratio/m.value[e.value.offset]),T=i=>{var w;if(i.stopPropagation(),i.ctrlKey||[1,2].includes(i.button))return;(w=window.getSelection())==null||w.removeAllRanges(),H(i);const u=i.currentTarget;u&&(y.value[e.value.axis]=u[e.value.offset]-(i[e.value.client]-u.getBoundingClientRect()[e.value.direction]))},E=i=>{if(!m.value||!c.value||!o.wrapElement)return;const w=Math.abs(i.target.getBoundingClientRect()[e.value.direction]-i[e.value.client]),u=m.value[e.value.offset]/2,t=(w-u)*100*g.value/c.value[e.value.offset];o.wrapElement[e.value.scroll]=t*o.wrapElement[e.value.scrollSize]/100},H=i=>{i.stopImmediatePropagation(),r=!0,v=o.wrapElement.scrollHeight,S=o.wrapElement.scrollWidth,document.addEventListener("mousemove",B),document.addEventListener("mouseup",C),l=document.onselectstart,document.onselectstart=()=>!1},B=i=>{if(!c.value||!m.value||r===!1)return;const w=y.value[e.value.axis];if(!w)return;const u=(c.value.getBoundingClientRect()[e.value.direction]-i[e.value.client])*-1,t=m.value[e.value.offset]-w,s=(u-t)*100*g.value/c.value[e.value.offset];e.value.scroll==="scrollLeft"?o.wrapElement[e.value.scroll]=s*S/100:o.wrapElement[e.value.scroll]=s*v/100},C=()=>{r=!1,y.value[e.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",C),x(),n&&(h.value=!1)},M=()=>{n=!1,h.value=!!d.size},W=()=>{n=!0,h.value=r};re(()=>{x(),document.removeEventListener("mouseup",C)});const x=()=>{document.onselectstart!==l&&(document.onselectstart=l)};return D(X(o,"scrollbarElement"),"mousemove",M),D(X(o,"scrollbarElement"),"mouseleave",W),(i,w)=>(R(),$(ue,{name:z(a).b("fade"),persisted:""},{default:le(()=>[ne(j("div",{ref_key:"instance",ref:c,class:P([z(a).e("bar"),z(a).is(z(e).key)]),onMousedown:E,onClick:ie(()=>{},["stop"])},[j("div",{ref_key:"thumb",ref:m,class:P(z(a).e("thumb")),style:I(z(b)),onMousedown:T},null,38)],42,["onClick"]),[[ce,i.always||h.value]])]),_:1},8,["name"]))}});var ee=Y(Ce,[["__file","thumb.vue"]]);const Ne=U({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Re=O({__name:"bar",props:Ne,setup(p,{expose:d}){const o=p,a=te(V),c=f(0),m=f(0),y=f(""),h=f(""),r=f(1),n=f(1);return d({handleScroll:l=>{if(l){const e=l.offsetHeight-k,b=l.offsetWidth-k;m.value=l.scrollTop*100/e*r.value,c.value=l.scrollLeft*100/b*n.value}},update:()=>{const l=a==null?void 0:a.wrapElement;if(!l)return;const e=l.offsetHeight-k,b=l.offsetWidth-k,g=e**2/l.scrollHeight,T=b**2/l.scrollWidth,E=Math.max(g,o.minSize),H=Math.max(T,o.minSize);r.value=g/(e-g)/(E/(e-E)),n.value=T/(b-T)/(H/(b-H)),h.value=E+k<e?`${E}px`:"",y.value=H+k<b?`${H}px`:""}}),(l,e)=>(R(),se(fe,null,[q(ee,{move:c.value,ratio:n.value,size:y.value,always:l.always},null,8,["move","ratio","size","always"]),q(ee,{move:m.value,ratio:r.value,size:h.value,vertical:"",always:l.always},null,8,["move","ratio","size","always"])],64))}});var Pe=Y(Re,[["__file","bar.vue"]]);const Be=U({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:de([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...me(["ariaLabel","ariaOrientation"])}),We={"end-reached":p=>["left","right","top","bottom"].includes(p),scroll:({scrollTop:p,scrollLeft:d})=>[p,d].every(N)},K="ElScrollbar",xe=O({name:K}),Ae=O({...xe,props:Be,emits:We,setup(p,{expose:d,emit:o}){const a=p,c=ae("scrollbar");let m,y,h,r=0,n=0,v="";const S={bottom:!1,top:!1,right:!1,left:!1},l=f(),e=f(),b=f(),g=f(),T=L(()=>{const t={},s=G(a.height),_=G(a.maxHeight);return s&&(t.height=s),_&&(t.maxHeight=_),[a.wrapStyle,t]}),E=L(()=>[a.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!a.native}]),H=L(()=>[c.e("view"),a.viewClass]),B=t=>{var s;return(s=S[t])!=null?s:!1},C={top:"bottom",bottom:"top",left:"right",right:"left"},M=t=>{const s=C[v];if(!s)return;const _=t[v],A=t[s];_&&!S[v]&&(S[v]=!0),!A&&S[s]&&(S[s]=!1)},W=()=>{var t;if(e.value){(t=g.value)==null||t.handleScroll(e.value);const s=r,_=n;r=e.value.scrollTop,n=e.value.scrollLeft;const A={bottom:r+e.value.clientHeight>=e.value.scrollHeight-a.distance,top:r<=a.distance&&s!==0,right:n+e.value.clientWidth>=e.value.scrollWidth-a.distance&&_!==n,left:n<=a.distance&&_!==0};if(o("scroll",{scrollTop:r,scrollLeft:n}),s!==r&&(v=r>s?"bottom":"top"),_!==n&&(v=n>_?"right":"left"),a.distance>0){if(B(v))return;M(A)}A[v]&&o("end-reached",v)}};function x(t,s){_e(t)?e.value.scrollTo(t):N(t)&&N(s)&&e.value.scrollTo(t,s)}const i=t=>{if(!N(t)){Z(K,"value must be a number");return}e.value.scrollTop=t},w=t=>{if(!N(t)){Z(K,"value must be a number");return}e.value.scrollLeft=t},u=()=>{var t;(t=g.value)==null||t.update(),S[v]=!1};return J(()=>a.noresize,t=>{t?(m==null||m(),y==null||y(),h==null||h()):({stop:m}=F(b,u),{stop:y}=F(e,u),h=D("resize",u))},{immediate:!0}),J(()=>[a.maxHeight,a.height],()=>{a.native||Q(()=>{var t;u(),e.value&&((t=g.value)==null||t.handleScroll(e.value))})}),pe(V,he({scrollbarElement:l,wrapElement:e})),be(()=>{e.value&&(e.value.scrollTop=r,e.value.scrollLeft=n)}),ge(()=>{a.native||Q(()=>{u()})}),ye(()=>u()),d({wrapRef:e,update:u,scrollTo:x,setScrollTop:i,setScrollLeft:w,handleScroll:W}),(t,s)=>(R(),se("div",{ref_key:"scrollbarRef",ref:l,class:P(z(c).b())},[j("div",{ref_key:"wrapRef",ref:e,class:P(z(E)),style:I(z(T)),tabindex:t.tabindex,onScroll:W},[(R(),$(we(t.tag),{id:t.id,ref_key:"resizeRef",ref:b,class:P(z(H)),style:I(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:le(()=>[Se(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?ze("v-if",!0):(R(),$(Pe,{key:0,ref_key:"barRef",ref:g,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var Oe=Y(Ae,[["__file","scrollbar.vue"]]);const De=Ee(Oe);export{De as E,We as s};
