import{d as P,ab as te,dE as re,bj as U,W as le,aI as Q,e as q,P as ce,Q as G,S as de,Z as t,k as d,l as v,m as c,J as C,K as B,I as F,q as s,aa as se,b1 as ue,aQ as pe,c9 as fe,aj as _e,c as me,Y as V,H as Z,v as w,t as x,L as T,bf as be,an as ve,bg as ye,A as ge,r as X,aG as he,cy as we,cz as ke,s as o,bM as xe,ay as Se,y as De,_ as Ne}from"./entry.8705b591.js";import{_ as Ee}from"./index.vue.030f2d17.js";import{E as Ce}from"./el-card.f55b5742.js";import{E as $e}from"./index.92324cf0.js";/* empty css                  */import{u as Ie}from"./useAudio.da3953ed.js";import{i as ze}from"./interview.fea9f1a0.js";import"./debounce.4efe57e2.js";import"./toNumber.9701a4c1.js";import"./index.3864ff87.js";import"./katex.21fbbe07.js";const H=Symbol("elDescriptions");var M=P({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:te(H,{})}},render(){var I,S,_,z;const i=re(this.cell),m=(((I=this.cell)==null?void 0:I.dirs)||[]).map(h=>{const{dir:n,arg:e,modifiers:K,value:f}=h;return[n,f,e,K]}),{border:r,direction:L}=this.descriptions,a=L==="vertical",D=()=>{var h,n,e;return((e=(n=(h=this.cell)==null?void 0:h.children)==null?void 0:n.label)==null?void 0:e.call(n))||i.label},y=()=>{var h,n,e;return(e=(n=(h=this.cell)==null?void 0:h.children)==null?void 0:n.default)==null?void 0:e.call(n)},p=i.span,E=i.rowspan,b=i.align?`is-${i.align}`:"",g=i.labelAlign?`is-${i.labelAlign}`:b,N=i.className,A=i.labelClassName,R=this.type==="label"&&(_=(S=i.labelWidth)!=null?S:this.descriptions.labelWidth)!=null?_:i.width,$={width:U(R),minWidth:U(i.minWidth)},u=le("descriptions");switch(this.type){case"label":return Q(q(this.tag,{style:$,class:[u.e("cell"),u.e("label"),u.is("bordered-label",r),u.is("vertical-label",a),g,A],colSpan:a?p:1,rowspan:a?1:E},D()),m);case"content":return Q(q(this.tag,{style:$,class:[u.e("cell"),u.e("content"),u.is("bordered-content",r),u.is("vertical-content",a),b,N],colSpan:a?p:p*2-1,rowspan:a?E*2-1:E},y()),m);default:{const h=D(),n={},e=U((z=i.labelWidth)!=null?z:this.descriptions.labelWidth);return e&&(n.width=e,n.display="inline-block"),Q(q("td",{style:$,class:[u.e("cell"),b],colSpan:p,rowspan:E},[ce(h)?void 0:q("span",{style:n,class:[u.e("label"),A]},h),q("span",{class:[u.e("content"),N]},y())]),m)}}}});const Ae=G({row:{type:de(Array),default:()=>[]}}),Re=P({name:"ElDescriptionsRow"}),je=P({...Re,props:Ae,setup(I){const S=te(H,{});return(_,z)=>t(S).direction==="vertical"?(d(),v(C,{key:0},[c("tr",null,[(d(!0),v(C,null,B(_.row,(i,m)=>(d(),F(t(M),{key:`tr1-${m}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),c("tr",null,[(d(!0),v(C,null,B(_.row,(i,m)=>(d(),F(t(M),{key:`tr2-${m}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(d(),v("tr",{key:1},[(d(!0),v(C,null,B(_.row,(i,m)=>(d(),v(C,{key:`tr3-${m}`},[t(S).border?(d(),v(C,{key:0},[s(t(M),{cell:i,tag:"td",type:"label"},null,8,["cell"]),s(t(M),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(d(),F(t(M),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Pe=se(je,[["__file","descriptions-row.vue"]]);const We=G({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ue,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number]}}),ne="ElDescriptionsItem",Ve=P({name:"ElDescriptions"}),Be=P({...Ve,props:We,setup(I){const S=I,_=le("descriptions"),z=pe(),i=fe();_e(H,S);const m=me(()=>[_.b(),_.m(z.value)]),r=(a,D,y,p=!1)=>(a.props||(a.props={}),D>y&&(a.props.span=y),p&&(a.props.span=D),a),L=()=>{if(!i.default)return[];const a=be(i.default()).filter(g=>{var N;return((N=g==null?void 0:g.type)==null?void 0:N.name)===ne}),D=[];let y=[],p=S.column,E=0;const b=[];return a.forEach((g,N)=>{var A,R,$;const u=((A=g.props)==null?void 0:A.span)||1,h=((R=g.props)==null?void 0:R.rowspan)||1,n=D.length;if(b[n]||(b[n]=0),h>1)for(let e=1;e<h;e++)b[$=n+e]||(b[$]=0),b[n+e]++,E++;if(b[n]>0&&(p-=b[n],b[n]=0),N<a.length-1&&(E+=u>p?p:u),N===a.length-1){const e=S.column-E%S.column;y.push(r(g,e,p,!0)),D.push(y);return}u<p?(p-=u,y.push(g)):(y.push(r(g,u,p)),D.push(y),p=S.column,y=[])}),D};return(a,D)=>(d(),v("div",{class:V(t(m))},[a.title||a.extra||a.$slots.title||a.$slots.extra?(d(),v("div",{key:0,class:V(t(_).e("header"))},[c("div",{class:V(t(_).e("title"))},[Z(a.$slots,"title",{},()=>[w(x(a.title),1)])],2),c("div",{class:V(t(_).e("extra"))},[Z(a.$slots,"extra",{},()=>[w(x(a.extra),1)])],2)],2)):T("v-if",!0),c("div",{class:V(t(_).e("body"))},[c("table",{class:V([t(_).e("table"),t(_).is("bordered",a.border)])},[c("tbody",null,[(d(!0),v(C,null,B(L(),(y,p)=>(d(),F(Pe,{key:p,row:y},null,8,["row"]))),128))])],2)],2)],2))}});var Fe=se(Be,[["__file","description.vue"]]);const ee=["left","center","right"],Le=G({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number]},align:{type:String,values:ee,default:"left"},labelAlign:{type:String,values:ee},className:{type:String,default:""},labelClassName:{type:String,default:""}}),oe=P({name:ne,props:Le}),qe=ve(Fe,{DescriptionsItem:oe}),Me=ye(oe);const Te={class:"pb-10"},Ke={class:"flex items-center justify-between"},Oe={key:0},Ue={class:"text-xl font-bold"},Qe={class:"flex flex-col gap-4"},Ge={class:"flex flex-col gap-4"},He={class:"flex gap-2"},Je={class:"bg-gray-100 p-2 rounded-lg"},Ye={key:0,class:"flex-shrink-0"},Ze={class:"bg-gray-100 p-2 rounded-lg"},Xe=["onClick"],et={key:0,class:"flex flex-row-reverse gap-2"},tt={class:"bg-primary-light-7 p-2 rounded-lg"},lt={key:0,class:"flex-shrink-0"},st={class:"bg-primary-light-7 p-2 rounded-lg"},nt=["onClick"],ot={class:"absolute bottom-0 left-0 right-0 p-3 bg-white border-t border-gray-200"},at={class:"flex justify-end"},it=P({__name:"detail",emits:["success","close"],setup(I,{expose:S,emit:_}){const z=_,i=ge(),m=X(!1),r=he({cv:{},ai:{},dialogs:[],start_time:0,end_time:0,score:0}),{lockFn:L,isLock:a}=we(async n=>{await ke(n)}),{play:D,pause:y,pauseAll:p,setUrl:E,isPlaying:b}=Ie(),g=X(),N=(n,e)=>{b.value&&g.value!==e&&p(),b.value?y():(g.value!==e&&E(n),D(),g.value=e)},A=()=>{m.value=!0},R=()=>{m.value=!1,z("close")},$=async n=>{const e=await ze({id:n});u(e)},u=async n=>{for(const e in r)n[e]!=null&&n[e]!=null&&(r[e]=n[e])},h=n=>n?n.replace(/^\["|"\]$/g,"").replace(/","/g,"<br/>"):"";return S({open:A,getDetail:$,setFormData:u}),(n,e)=>{const K=Se,f=Me,W=qe,j=Ee,O=Ce,J=De,ae=$e;return d(),F(ae,{modelValue:t(m),"onUpdate:modelValue":e[1]||(e[1]=l=>xe(m)?m.value=l:null),title:"面试记录详情",ref_key:"popupRef",ref:i,async:!0,size:"1000px","confirm-button-text":"","cancel-button-text":"",onClose:R},{default:o(()=>[c("div",Te,[s(O,null,{header:o(()=>{var l;return[c("div",Ke,[e[3]||(e[3]=c("div",{class:"text-xl font-bold"},"面试者简历",-1)),(l=t(r).cv)!=null&&l.word_url?(d(),v("div",Oe,[s(K,{type:"primary",plain:"",loading:t(a),onClick:e[0]||(e[0]=Y=>{var k;return t(L)((k=t(r).cv)==null?void 0:k.word_url)})},{default:o(()=>[...e[2]||(e[2]=[w(" 导出简历附件 ",-1)])]),_:1},8,["loading"])])):T("",!0)])]}),default:o(()=>[s(W,{column:4,border:""},{default:o(()=>[s(f,{label:"姓名"},{default:o(()=>{var l;return[w(x((l=t(r).cv)==null?void 0:l.name),1)]}),_:1}),s(f,{label:"性别"},{default:o(()=>{var l;return[w(x(((l=t(r).cv)==null?void 0:l.sex)==1?"男":" 女"),1)]}),_:1}),s(f,{label:"年龄"},{default:o(()=>{var l;return[w(x((l=t(r).cv)==null?void 0:l.age),1)]}),_:1}),s(f,{label:"联系方式"},{default:o(()=>{var l;return[w(x((l=t(r).cv)==null?void 0:l.mobile),1)]}),_:1}),s(f,{label:"工作年份"},{default:o(()=>{var l;return[w(x((l=t(r).cv)==null?void 0:l.work_years),1)]}),_:1}),s(f,{label:"毕业院校"},{default:o(()=>{var l;return[w(x((l=t(r).cv)==null?void 0:l.school),1)]}),_:1}),s(f,{label:"学历"},{default:o(()=>{var l;return[w(x((l=t(r).cv)==null?void 0:l.degree),1)]}),_:1})]),_:1}),s(W,{border:"",column:1},{default:o(()=>[s(f,{label:"工作经历"},{default:o(()=>{var l;return[s(j,{content:h((l=t(r).cv)==null?void 0:l.work_ex),typing:!1},null,8,["content"])]}),_:1}),s(f,{label:"项目经历"},{default:o(()=>{var l;return[s(j,{content:h((l=t(r).cv)==null?void 0:l.project_ex),typing:!1},null,8,["content"])]}),_:1})]),_:1})]),_:1}),s(O,{class:"mt-3"},{header:o(()=>[...e[4]||(e[4]=[c("div",{class:"text-xl font-bold"},"AI面试分析报告",-1)])]),default:o(()=>[s(W,{column:4,border:""},{default:o(()=>[s(f,{label:"面试岗位"},{default:o(()=>{var l;return[w(x((l=t(r).ai)==null?void 0:l.job_name),1)]}),_:1}),s(f,{label:"面试得分"},{default:o(()=>[w(x(t(r).ai.score||0),1)]),_:1}),s(f,{label:"重面次数"},{default:o(()=>[w(x(t(r).dialogs.length),1)]),_:1}),s(f,{label:"面试时长"},{default:o(()=>[w(x(t(r).ai.duration),1)]),_:1})]),_:1}),s(W,{border:"",column:1},{default:o(()=>[s(f,{label:"面试分析"},{default:o(()=>[s(j,{content:t(r).ai.analyze||"暂无",typing:!1},null,8,["content"])]),_:1})]),_:1}),s(W,{border:"",column:1},{default:o(()=>[s(f,{label:"侧重考察点"},{default:o(()=>[s(j,{content:t(r).ai.inspection_point||"暂无",typing:!1},null,8,["content"])]),_:1})]),_:1}),s(W,{border:"",column:1},{default:o(()=>[s(f,{label:"面试结果"},{default:o(()=>[s(j,{content:t(r).ai.comment||"暂无",typing:!1},null,8,["content"])]),_:1})]),_:1})]),_:1}),(d(!0),v(C,null,B(t(r).dialogs,(l,Y)=>(d(),F(O,{class:"mt-3",key:Y},{header:o(()=>[c("div",Ue,"对话记录("+x(l.out_reason)+")",1)]),default:o(()=>[c("div",null,[c("div",Qe,[(d(!0),v(C,null,B(l.list,(k,rt)=>(d(),v("div",Ge,[c("div",He,[e[5]||(e[5]=c("div",{class:"flex-shrink-0"},[c("div",{class:"bg-gray-100 py-2.5 px-4 rounded-lg"},"面试官")],-1)),c("div",Je,[s(j,{content:k.question,typing:!1},null,8,["content"])]),k.question_url?(d(),v("div",Ye,[c("div",Ze,[c("div",{class:"p-[7.5px] flex items-center justify-center bg-white rounded-full",onClick:ie=>N(k.question_url,k.id)},[s(J,{name:t(g)==k.id&&t(b)?"local-icon-music_pause":"local-icon-music_play",size:10},null,8,["name"])],8,Xe)])])):T("",!0)]),k.answer?(d(),v("div",et,[e[6]||(e[6]=c("div",{class:"flex-shrink-0"},[c("div",{class:"bg-primary-light-7 py-2.5 px-4 rounded-lg"},"面试者")],-1)),c("div",tt,[s(j,{content:k.answer,typing:!1},null,8,["content"])]),k.answer_url?(d(),v("div",lt,[c("div",st,[c("div",{class:"p-[7.5px] flex items-center justify-center bg-white rounded-full",onClick:ie=>N(k.answer_url,k.id)},[s(J,{name:t(g)==k.id&&t(b)?"local-icon-music_pause":"local-icon-music_play",size:10},null,8,["name"])],8,nt)])])):T("",!0)])):T("",!0)]))),256))])])]),_:2},1024))),128))]),c("div",ot,[c("div",at,[s(K,{onClick:R},{default:o(()=>[...e[7]||(e[7]=[w("取消",-1)])]),_:1})])])]),_:1},8,["modelValue"])}}});const ht=Ne(it,[["__scopeId","data-v-9780dc6d"]]);export{ht as default};
