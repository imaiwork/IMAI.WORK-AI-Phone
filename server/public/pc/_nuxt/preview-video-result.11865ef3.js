import{d as N,r as d,aG as q,dO as z,A,k as t,l as s,q as c,s as G,m as i,aI as g,Z as n,J as h,K as T,L as x,cX as X,I as b,ai as k,G as J,y as K,cY as O,_ as U}from"./entry.563c232b.js";import{_ as W}from"./index.vue.96af9406.js";import{E as Y}from"./el-empty.92ad44f2.js";import{_ as Z}from"./index.vue.ff9e1552.js";import{u as M}from"./usePaging.4417e13f.js";import{b as Q,n as ee}from"./matrix.418b34fe.js";import te from"./dh-video-card.6ee4d5b1.js";import oe from"./edit.944ca20c.js";import{E as se}from"./index.4640bbe0.js";import"./index.vue.30be4301.js";import"./handle-menu.vue.c8a0479b.js";import"./index.c6e60302.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./throttle.4081a158.js";import"./debounce.cf3b8bee.js";import"./toNumber.590accd9.js";const ie={class:"rounded-xl overflow-hidden flex flex-col -my-2"},ne={class:"flex items-center justify-between h-[50px] px-4"},ae={class:"flex items-center gap-x-2"},le={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[#ffffff1a]"},re=["infinite-scroll-disabled"],ce={class:"h-full p-4"},de={key:0},pe={class:"grid grid-cols-3 gap-2 p-2"},fe={class:"cursor-pointer bg-black w-full relative h-[248px] flex flex-col overflow-hidden rounded-xl group"},_e={key:0,class:"text-white text-center text-xs w-full py-4"},me={key:1,class:"h-full flex items-center justify-center"},ue=N({__name:"preview-video-result",emits:["close"],setup(ve,{expose:E,emit:V}){const P=V,w=d(),p=q({type:z.XHS,page_no:1,page_size:20,video_setting_id:""}),{pager:a,getLists:y,resetPage:R}=M({fetchFun:Q,params:p,isScroll:!0}),C=async()=>{p.page_no+=1,await y()},D=async o=>{var e;(e=w.value)==null||e.open(),p.video_setting_id=o,y()},f=()=>{P("close")},_=d(!1),m=d(),I=async o=>{_.value=!0,await k(),m.value.open(),m.value.setFormData(o)},L=async({id:o})=>{try{await ee({id:o});const e=a.lists.findIndex(l=>l.id===o);a.lists.splice(e,1)}catch(e){J.msgWarning(e)}},u=d(!1),v=A(),$=async o=>{var e,l;u.value=!0,await k(),(e=v.value)==null||e.open(),(l=v.value)==null||l.setUrl(o)};return E({open:D,close:f}),(o,e)=>{const l=K,B=W,S=Y,j=Z,F=O,H=se;return t(),s(h,null,[c(X,{ref_key:"popupRef",ref:w,width:"628px",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"cancel-button-text":"","confirm-button-text":"","show-close":!1,onClose:f},{default:G(()=>[i("div",ie,[i("div",ne,[i("div",ae,[i("div",le,[c(l,{name:"local-icon-windows",size:14})]),e[3]||(e[3]=i("div",{class:"text-[20px] text-white font-bold"},"视频列表",-1))]),i("div",{class:"w-6 h-6",onClick:f},[c(B)])]),g((t(),s("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(a).isLoad,"infinite-scroll-distance":10},[g((t(),s("div",ce,[n(a).lists.length>0?(t(),s("div",de,[i("div",pe,[(t(!0),s(h,null,T(n(a).lists,r=>(t(),s("div",{key:r.id},[i("div",fe,[c(te,{item:r,onEdit:I,onDelete:L,onPreview:$},null,8,["item"])])]))),128))]),n(a).isLoad?x("",!0):(t(),s("div",_e,"暂无更多了~"))])):(t(),s("div",me,[c(S,{description:"暂无数据"})]))])),[[F,n(a).loading]])],8,re)),[[H,C]])])]),_:1},512),n(_)?(t(),b(oe,{key:0,ref_key:"editPopupRef",ref:m,onClose:e[0]||(e[0]=r=>_.value=!1),onSuccess:e[1]||(e[1]=r=>n(R)())},null,512)):x("",!0),n(u)?(t(),b(j,{key:1,ref_key:"previewVideoRef",ref:v,onClose:e[2]||(e[2]=r=>u.value=!1)},null,512)):x("",!0)],64)}}});const Se=U(ue,[["__scopeId","data-v-c20dfb2f"]]);export{Se as default};
