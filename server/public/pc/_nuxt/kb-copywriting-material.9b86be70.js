import{_ as q}from"./index.vue.3f013733.js";import{d as F,r as _,c as j,k as l,I as g,s as p,m as o,q as n,Z as a,cZ as J,v as m,t as w,l as d,K as B,Y as X,J as S,ay as Y,y as G,av as H,cX as P,_ as Q}from"./entry.8705b591.js";import{E as W}from"./index.d5b2ab73.js";import{E as ee}from"./el-empty.a2e85def.js";/* empty css                     */import{a as oe}from"./matrix.418b34fe.js";import{CopywritingTypeEnum as te}from"./index.db2ee73f.js";const se={class:"-my-4"},le={class:"flex justify-between gap-x-2 mt-[18px]"},ne={class:"text-[#ffffff80] text-[11px]"},ae={class:"text-white"},re={class:"flex gap-x-[10px] mt-[18px]"},ce={class:"flex-1 rounded-xl border border-app-border-1 bg-app-bg-2"},ie={class:"h-[308px]"},pe={class:"p-3 flex flex-col gap-y-1"},de=["onClick"],fe={class:"flex-1"},_e={class:"w-4 h-4 rounded-full cursor-pointer"},ue={key:1,class:"h-full flex items-center justify-center"},me={class:"flex-1 rounded-xl border border-app-border-1 bg-app-bg-2"},xe={class:"flex items-center justify-between h-11 border-[0] border-b-[1px] border-app-border-1 px-[10px]"},ye={class:"h-[308px]"},ve={class:"p-3 flex flex-col gap-y-2"},he={class:"flex-1 rounded-md"},be=["onClick"],ge={key:1,class:"h-full flex items-center justify-center"},we={class:"mt-[18px] flex justify-center"},ke=F({__name:"kb-copywriting-material",emits:["close","confirm"],setup(Ce,{expose:I,emit:N}){const k=N,r=_([]),c=_({}),f=_({oral_copy:[]}),u=j(()=>i.value?{oral_copy:f.value.oral_copy}:{oral_copy:(r.value.find(e=>e.id==c.value.id)||{}).oral_copy||[]}),T=j(()=>f.value.oral_copy.length),$=async()=>{const{lists:t}=await oe({page_size:9999,copywriting_type:te.CONTENT});t.length>0&&(t.forEach(e=>{e.oral_copy=e.oral_copy.map(y=>({...y,checked:!1}))}),r.value=t,c.value=t[0])},i=_(!1),A=()=>{i.value=!i.value},K=t=>{c.value=t,i.value=!1},C=()=>{const t=r.value.flatMap(e=>e.oral_copy).filter(e=>e.checked);f.value={oral_copy:t}},M=t=>{t.checked=!t.checked,C()},R=()=>{const t=u.value.oral_copy.some(e=>!e.checked);u.value.oral_copy.forEach(e=>{e.checked=t}),C()},x=_(),D=()=>{x.value.open(),r.value=[],f.value={oral_copy:[]},c.value={},i.value=!1,$()},E=()=>{k("close"),x.value.close()},O=()=>{k("confirm",{lists:f.value.oral_copy.map(t=>({content:t.content}))}),E()};return I({open:D}),(t,e)=>{const y=q,v=Y,V=G,z=W,L=ee,U=H,Z=P;return l(),g(Z,{ref_key:"popupRef",ref:x,width:"718px","confirm-button-text":"","cancel-button-text":"",style:{"background-color":"var(--app-bg-color-3)",border:"1px solid var(--app-border-color-1)"},"show-close":!1},{default:p(()=>[o("div",se,[o("div",{class:"absolute w-6 h-6 top-4 right-4",onClick:E},[n(y,{theme:a(J).DARK},null,8,["theme"])]),e[6]||(e[6]=o("div",{class:"text-white text-[20px] font-bold"},"口播文案库",-1)),o("div",le,[o("div",ne,[e[1]||(e[1]=m(" 已选择",-1)),o("span",ae,"（"+w(a(T))+"）",1)]),n(v,{link:"",class:"!text-[#ffffff80] !text-[11px]",onClick:A},{default:p(()=>[m(w(a(i)?"隐藏已选择":"查看已选择"),1)]),_:1})]),o("div",re,[o("div",ce,[e[2]||(e[2]=o("div",{class:"flex items-center justify-between h-11 border-[0] border-b-[1px] border-app-border-1 px-[10px]"},[o("div",{class:"text-white"},"文案列表")],-1)),o("div",ie,[a(r).length>0?(l(),g(z,{key:0,class:"h-full"},{default:p(()=>[o("div",pe,[(l(!0),d(S,null,B(a(r),(s,h)=>(l(),d("div",{class:X(["flex items-center gap-x-3 h-11 px-3 rounded-md text-white border border-app-border-2 text-xs cursor-pointer",[a(c).id==s.id?"bg-app-bg-2":"bg-app-bg-1"]]),key:h,onClick:b=>K(s)},[o("div",fe,w(s.name),1),o("div",_e,[n(V,{name:"local-icon-success_fill",size:16,color:a(c).id==s.id?"var(--color-primary)":"#ffffff1a"},null,8,["color"])])],10,de))),128))])]),_:1})):(l(),d("div",ue,[n(L,{description:"暂无数据","image-size":100})]))])]),o("div",me,[o("div",xe,[e[4]||(e[4]=o("div",{class:"text-white"},"标题",-1)),n(v,{class:"!border-app-border-2",color:"#1f1f1f",size:"small",onClick:e[0]||(e[0]=s=>R())},{default:p(()=>[...e[3]||(e[3]=[m("全选",-1)])]),_:1})]),o("div",ye,[a(u).oral_copy.length>0?(l(),g(z,{key:0,class:"h-full"},{default:p(()=>[o("div",ve,[(l(!0),d(S,null,B(a(u).oral_copy,(s,h)=>(l(),d("div",{class:"flex items-center gap-x-3",key:h},[o("div",he,[n(U,{modelValue:s.content,"onUpdate:modelValue":b=>s.content=b,type:"textarea",maxlength:"800","show-word-limit":"","input-style":"font-size: 11px",rows:6},null,8,["modelValue","onUpdate:modelValue"])]),o("div",{class:"w-4 h-4 rounded-full cursor-pointer",onClick:b=>M(s)},[n(V,{name:"local-icon-success_fill",size:16,color:s.checked?"var(--color-primary)":"#ffffff1a"},null,8,["color"])],8,be)]))),128))])]),_:1})):(l(),d("div",ge,[n(L,{description:"暂无数据","image-size":100})]))])])]),o("div",we,[n(v,{type:"primary",class:"!rounded-full w-[246px] !h-[50px]",onClick:O},{default:p(()=>[...e[5]||(e[5]=[m("确定",-1)])]),_:1})])])]),_:1},512)}}});const Ie=Q(ke,[["__scopeId","data-v-edbdbe86"]]);export{Ie as default};
