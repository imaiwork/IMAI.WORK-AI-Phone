import{d as G,au as H,c as M,r as x,A as P,aG as q,k as c,l as p,m as s,q as o,s as l,Z as n,$ as F,v as _,aI as J,I as h,t as K,J as y,L as m,bM as U,ai as Y,u as Z,G as E,ay as O,av as Q,ba as W,y as X,cY as ee}from"./entry.563c232b.js";import{E as te}from"./index.9ed38239.js";import{E as oe,a as ne}from"./index.8c66fba0.js";import{E as se}from"./el-empty.92ad44f2.js";import{_ as le}from"./index.vue.d663f363.js";/* empty css                     *//* empty css                        *//* empty css               *//* empty css                 */import{u as ae}from"./usePaging.4417e13f.js";import{b as ie,d as re}from"./digital_human.299b9036.js";import{DigitalHumanModelVersionEnum as ce}from"./index.d52c6f2c.js";const de={class:"h-full flex flex-col bg-app-bg-2 rounded-[20px]"},ue={class:"flex-shrink-0 px-[14px]"},pe={class:"flex items-center justify-end h-[88px]"},me={class:"flex items-center gap-[14px]"},fe={class:"grow min-h-0 flex flex-col overflow-hidden"},_e={class:"grow min-h-0"},ge={class:"flex items-center gap-2 justify-center"},ve={class:"flex justify-center p-4"},xe={key:0,class:"w-full flex justify-center gap-10 bg-app-bg-2 p-4 rounded-lg mt-2"},ye=["src"],Be=G({__name:"index",setup(he){const k=H(),w=M(()=>{const{channel:a}=k.getDigitalHumanConfig;return a&&a.length>0?a.filter(e=>{if(e.id=parseInt(e.id),e.status==1&&![ce.CHANJING].includes(e.id))return e}):[]}),b=x(!1),C=P(),g=q({name:"",model_version:"",type:0}),{pager:d,getLists:r}=ae({fetchFun:ie,params:g}),V=a=>{const e=w.value.find(i=>i.id==a);return(e==null?void 0:e.name)||""},f=x({}),$=x(),A=async(a,e)=>{var i;b.value=!0,$.value=e,f.value=a,await Y(),(i=C.value)==null||i.setAudio(f.value.url)},T=async a=>{Z().$confirm({title:"提示",message:"是否删除该音频",theme:"dark",onConfirm:async()=>{try{await re({id:a}),r(),E.msgSuccess("删除成功")}catch(e){E.msgError(e||"删除失败")}}})};return r(),(a,e)=>{const i=O,I=Q,N=W,S=te,u=oe,v=X,B=se,D=ne,R=le,j=ee;return c(),p("div",de,[s("div",ue,[o(S,null,{default:l(()=>[s("div",pe,[s("div",me,[o(I,{modelValue:n(g).name,"onUpdate:modelValue":e[1]||(e[1]=t=>n(g).name=t),"prefix-icon":"el-icon-Search",class:"!w-[240px] search-name-input",placeholder:"请输入音频名称",clearable:"",onClear:e[2]||(e[2]=t=>n(r)()),onKeydown:e[3]||(e[3]=F(t=>n(r)(),["enter"]))},{append:l(()=>[o(i,{text:"",onClick:e[0]||(e[0]=t=>n(r)())},{default:l(()=>[...e[6]||(e[6]=[_(" 搜索 ",-1)])]),_:1})]),_:1},8,["modelValue"]),o(N,{content:"刷新"},{default:l(()=>[o(i,{circle:"",color:"#1f1f1f",icon:"el-icon-Refresh",class:"!w-10 !h-10",onClick:e[4]||(e[4]=t=>n(r)())})]),_:1})])])]),_:1})]),s("div",fe,[s("div",_e,[J((c(),h(D,{data:n(d).lists,height:"100%","header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:l(()=>[o(B,{description:"暂无数据"})]),default:l(()=>[o(u,{prop:"name",label:"音频名称","min-width":"200"}),o(u,{label:"创建时间",prop:"create_time","min-width":"200"}),o(u,{label:"使用模型","min-width":"120"},{default:l(({row:t})=>[_(K(V(t.model_version)),1)]),_:1}),o(u,{label:"状态","min-width":"120"},{default:l(({row:t})=>[s("div",ge,[[0,3,4,5].includes(t.status)?(c(),p(y,{key:0},[o(v,{name:"local-icon-clone",color:"var(--el-color-warning)",size:16}),e[7]||(e[7]=s("span",{class:"text-warning"},"克隆中",-1))],64)):m("",!0),t.status===1?(c(),p(y,{key:1},[o(v,{name:"local-icon-success_fill",color:"var(--el-color-success)",size:16}),e[8]||(e[8]=s("span",{class:"text-success"},"成功",-1))],64)):m("",!0),t.status===2?(c(),p(y,{key:2},[o(v,{name:"local-icon-error_fill",size:16}),e[9]||(e[9]=s("span",{class:"text-danger"},"失败",-1))],64)):m("",!0)])]),_:1}),o(u,{label:"操作",width:"120",fixed:"right"},{default:l(({row:t,$index:L})=>[t.status==1?(c(),h(i,{key:0,link:"",type:"primary",onClick:z=>A(t,L)},{default:l(()=>[...e[10]||(e[10]=[_(" 播放 ",-1)])]),_:1},8,["onClick"])):m("",!0),o(i,{link:"",type:"danger",onClick:z=>T(t.id)},{default:l(()=>[...e[11]||(e[11]=[_(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[j,n(d).loading]])]),s("div",ve,[o(R,{modelValue:n(d),"onUpdate:modelValue":e[5]||(e[5]=t=>U(d)?d.value=t:null),layout:"prev, pager, next",onChange:n(r)},null,8,["modelValue","onChange"])])]),n(f).url?(c(),p("div",xe,[s("audio",{src:n(f).url,controls:"",class:"w-full",autoplay:""},null,8,ye)])):m("",!0)])}}});export{Be as _};
