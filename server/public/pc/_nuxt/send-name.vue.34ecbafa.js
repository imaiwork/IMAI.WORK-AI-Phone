import{d as C,A as m,aG as E,cy as b,bK as x,k as I,I as R,s as t,m as V,q as n,Z as a,az as B,cX as D,G as q,av as A,aw as G}from"./entry.45b56a4a.js";import{ak as L,al as N}from"./person_wechat.703f63bb.js";const z=C({__name:"send-name",props:{type:{}},emits:["success","close"],setup(u,{expose:i,emit:d}){const f=u,r=d,l=m(),c=m(),o=E({id:"",type:"",push_name:"",push_type:f.type,stage_id:"",flow_id:""}),_={push_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},h=async()=>{var e;await((e=c.value)==null?void 0:e.validate());try{const s=o.id?await L(o):await N(o);r("success",s),p()}catch(s){q.msgError(s)}},k=()=>{var e;(e=l.value)==null||e.open()},p=()=>{r("close")},{lockFn:y,isLock:g}=b(h);return i({open:k,setFormData:e=>x(e,o)}),(e,s)=>{const w=A,F=G;return I(),R(D,{ref_key:"popupRef",ref:l,title:"设置名称",async:"","confirm-loading":a(g),onClose:p,onConfirm:a(y)},{default:t(()=>[V("div",null,[n(a(B),{ref_key:"formRef",ref:c,model:a(o),"label-position":"top",rules:_},{default:t(()=>[n(F,{label:"任务名称",prop:"push_name"},{default:t(()=>[n(w,{modelValue:a(o).push_name,"onUpdate:modelValue":s[0]||(s[0]=v=>a(o).push_name=v),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["confirm-loading","onConfirm"])}}});export{z as _};
