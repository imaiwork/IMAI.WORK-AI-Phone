import{E as A,a as D}from"./index.7002e1fb.js";import{d as K,bP as F,aG as G,dO as U,r as y,Z as t,k as i,l as n,m as s,q as l,s as d,$ as Y,v as M,aI as C,J as W,K as Z,t as w,cZ as H,L as b,I as L,ai as J,u as X,G as Q,bO as ee,ay as te,av as oe,y as le,ba as se,cY as ie,_ as ne}from"./entry.8705b591.js";import{E as ae}from"./index.d5b2ab73.js";import{_ as re}from"./handle-menu.vue.1d3608c7.js";/* empty css                  *//* empty css               *//* empty css                     */import{u as ce}from"./usePaging.0c251ebb.js";import{a as pe,j as de}from"./matrix.418b34fe.js";import{CopywritingTypeEnum as u,SidebarTypeEnum as ue}from"./index.db2ee73f.js";import{_ as me}from"./empty.vue.19c81382.js";import fe from"./create-panel.891b9bf9.js";import _e from"./edit.b16c6412.js";import{E as ye}from"./index.cac1152c.js";import"./index.d9a24f65.js";import"./strings.05ad2423.js";import"./_baseIteratee.889eaccd.js";import"./toNumber.9701a4c1.js";import"./clamp.2d199c02.js";import"./index.f9213b2f.js";import"./index.656bf02e.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./index.vue.3f013733.js";import"./copywriting-card.vue.4a702175.js";import"./throttle.2aefc6f7.js";import"./debounce.4efe57e2.js";const ve=""+new URL("copywriting_bg.f58da630.png",import.meta.url).href,ge={key:0,class:"h-full flex flex-col bg-app-bg-2 rounded-[20px]"},xe={class:"flex-shrink-0 px-[14px] border-[0] border-b-[1px] border-app-border-1"},we={class:"flex items-center justify-end h-[88px]"},be={class:"flex items-center gap-[14px]"},Ee=["infinite-scroll-disabled"],ke={class:"h-full p-4"},he={key:0},Te={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4"},Ce=["onClick"],Le={class:"w-full px-3 absolute z-[22] top-2"},$e={class:"line-clamp-1 text-white"},Ie={class:"absolute w-full h-full left-0 top-0 px-3 z-[22] flex flex-col items-center justify-center"},Ne={class:"title-text"},Se={class:"text-[#ffffff80] mt-[14px]"},Pe={class:"absolute right-2 top-2 z-[1000] w-9 h-9 invisible group-hover:visible"},Ve={key:1,class:"text-white text-center text-xs w-full py-4"},Re={key:1,class:"h-full flex items-center justify-center"},Be=K({__name:"index",setup(Oe){const E=F(),$={[u.TITLE]:"内容文案",[u.CONTENT]:"口播文案"},m=G({name:"",page_no:1,page_size:10,type:U.XHS,copywriting_type:""}),{pager:a,getLists:k,resetPage:p}=ce({fetchFun:pe,params:m,isScroll:!0}),I=()=>{m.page_no++,k()},v=y(!1),g=y(),N=[{label:"重命名",icon:"local-icon-edit3",click:async r=>{v.value=!0,await J(),g.value.open(),g.value.setFormData(r)}},{label:"删除素材",icon:"local-icon-delete",click:({id:r})=>{X().$confirm({message:"确定删除该视频吗？",theme:"dark",onConfirm:async()=>{try{await de({id:r});const e=a.lists.findIndex(c=>c.id==r);a.lists.splice(e,1)}catch(e){Q.msgWarning(e)}}})}}],x=y(E.query.is_create=="1"),h=y(Number(E.query.copywriting_type)),f=(r,e)=>{x.value=!0,h.value=r;const c={is_create:1,copywriting_type:r};e&&(c.id=e),ee(c)},S=()=>{x.value=!1,window.history.replaceState(null,null,`?type=${ue.COPYWRITING_LIBRARY}`),p()};return k(),(r,e)=>{const c=A,P=D,_=te,V=oe,T=le,R=se,B=ae,O=re,j=ie,q=ye;return t(x)?(i(),L(fe,{key:1,type:t(h),onBack:S},null,8,["type"])):(i(),n("div",ge,[s("div",xe,[l(B,null,{default:d(()=>[s("div",we,[s("div",be,[l(P,{modelValue:t(m).copywriting_type,"onUpdate:modelValue":e[0]||(e[0]=o=>t(m).copywriting_type=o),class:"!w-[100px]","popper-class":"dark-select-popper",clearable:"","show-arrow":!1,"empty-values":[null,void 0],"value-on-clear":null,onChange:e[1]||(e[1]=o=>t(p)())},{default:d(()=>[l(c,{label:"全部",value:""}),l(c,{label:"口播文案",value:t(u).CONTENT},null,8,["value"]),l(c,{label:"内容文案",value:t(u).TITLE},null,8,["value"])]),_:1},8,["modelValue"]),l(V,{modelValue:t(m).name,"onUpdate:modelValue":e[3]||(e[3]=o=>t(m).name=o),"prefix-icon":"el-icon-Search",class:"!w-[240px] search-name-input",placeholder:"请输入素材名称",clearable:"",onClear:e[4]||(e[4]=o=>t(p)()),onKeydown:e[5]||(e[5]=Y(o=>t(p)(),["enter"]))},{append:d(()=>[l(_,{text:"",onClick:e[2]||(e[2]=o=>t(p)())},{default:d(()=>[...e[11]||(e[11]=[M(" 搜索 ",-1)])]),_:1})]),_:1},8,["modelValue"]),l(_,{type:"primary",class:"!rounded-full !h-10 !px-4",onClick:e[6]||(e[6]=o=>f(t(u).CONTENT))},{default:d(()=>[l(T,{name:"local-icon-add_circle",color:"#ffffff"}),e[12]||(e[12]=s("span",{class:"ml-2"},"新增口播文案",-1))]),_:1}),s("div",null,[l(_,{type:"primary",class:"!rounded-full !h-10 !px-4",onClick:e[7]||(e[7]=o=>f(t(u).TITLE))},{default:d(()=>[l(T,{name:"local-icon-add_circle",color:"#ffffff"}),e[13]||(e[13]=s("span",{class:"ml-2"},"新增内容文案",-1))]),_:1})]),l(R,{content:"刷新"},{default:d(()=>[l(_,{circle:"",color:"#1f1f1f",icon:"el-icon-Refresh",class:"!w-10 !h-10",onClick:e[8]||(e[8]=o=>t(p)())})]),_:1})])])]),_:1})]),C((i(),n("div",{class:"grow min-h-0 overflow-y-auto flex flex-col dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!t(a).isLoad,"infinite-scroll-distance":10},[C((i(),n("div",ke,[t(a).lists.length?(i(),n("div",he,[t(a).lists.length?(i(),n("div",Te,[(i(!0),n(W,null,Z(t(a).lists,(o,z)=>(i(),n("div",{class:"material-item group",key:z,onClick:je=>f(o.copywriting_type,o.id)},[s("div",Le,[s("div",$e,w(o.name),1)]),s("div",Ie,[s("div",Ne,w($[o.copywriting_type]||"文案"),1),s("div",Se,w(o.create_time),1)]),s("div",Pe,[l(O,{theme:t(H).DARK,data:o,"menu-list":N},null,8,["theme","data"])]),e[14]||(e[14]=s("img",{src:ve,class:"w-full h-full object-cover"},null,-1))],8,Ce))),128))])):b("",!0),t(a).isLoad?b("",!0):(i(),n("div",Ve,"暂无更多了~"))])):(i(),n("div",Re,[l(me,{"btn-text":"创建文案",msg:"快去创建你的文案吧","custom-click":()=>f(t(u).TITLE)},null,8,["custom-click"])]))])),[[j,t(a).loading]])],8,Ee)),[[q,I]]),t(v)?(i(),L(_e,{key:0,ref_key:"editPopupRef",ref:g,onClose:e[9]||(e[9]=o=>v.value=!1),onSuccess:e[10]||(e[10]=o=>t(p)())},null,512)):b("",!0)]))}}});const dt=ne(Be,[["__scopeId","data-v-ef5e0cfd"]]);export{dt as default};
