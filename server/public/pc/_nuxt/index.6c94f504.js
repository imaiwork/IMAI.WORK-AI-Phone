import{E as k}from"./el-switch.79e3c4c6.js";import{d as I,aG as S,cy as F,o as G,k as C,l as B,m as n,q as e,s as l,Z as r,v as m,G as _,aw as N,d0 as U,d1 as D,az as R,ax as h,ay as L,_ as j}from"./entry.9c858de7.js";import{E as z}from"./el-input-number.2e27d67a.js";import{E as A}from"./index.d2366752.js";/* empty css                     */import{aH as q,J as H}from"./person_wechat.703f63bb.js";import J from"./add-content.cb2cbc0d.js";import"./index.0a3baecf.js";import"./el-tabs.ecce24d0.js";import"./raf.737e07d1.js";import"./strings.39ad33fc.js";import"./clamp.c33da429.js";import"./toNumber.590fb445.js";import"./index.3244d4d2.js";import"./el-alert.a1b88bc1.js";import"./index.5a0721a3.js";import"./index.vue.c3c40281.js";import"./index.31653464.js";import"./index.c8d73379.js";import"./index.3f0b5ea1.js";import"./cloneDeep.051307f4.js";/* empty css                  *//* empty css                    *//* empty css                  */import"./el-image.315c077e.js";import"./el-image-viewer.d6a7ffcb.js";import"./throttle.69751cc4.js";import"./debounce.3f6e2cd0.js";import"./index.vue.c3bc6d51.js";/* empty css                   */import"./arrow_down.70a5466c.js";import"./dom.7f5b5a10.js";import"./index.cf59f1a8.js";import"./emoji.vue.34ef3fd1.js";import"./useHandle.c71e3e80.js";import"./mini-program-card.vue.7d4bcb82.js";import"./material-picker.vue.85a68b28.js";import"./index.vue.9c7d0f39.js";import"./sidebar.6c65020f.js";import"./useMaterial.2336b2dc.js";import"./usePaging.c86a33a9.js";import"./container.71481ae4.js";import"./index.c162b53f.js";import"./index.bbca104f.js";import"./_baseIteratee.86867911.js";import"./index.c04086ee.js";/* empty css                  *//* empty css               */import"./el-empty.9547ccf9.js";import"./index.vue.2c8f7917.js";import"./upload.1bea6f09.js";import"./preview.vue.a6b81b59.js";import"./link-card.vue.dbf2e75a.js";import"./file-card.vue.8e501be0.js";const M={class:"h-full flex flex-col"},O={class:"flex grow min-h-0 bg-white rounded-lg overflow-hidden"},P={class:"w-[250px] h-full flex flex-col border-r border-[#E5E5E5]"},T={class:"grow min-h-0"},Z={class:"p-4"},K={class:"px-6 h-full flex flex-col grow"},Q={class:"grow min-h-0 py-4"},W={class:"mt-4 flex justify-center"},X=I({__name:"index",setup(Y){const o=S({is_enable:0,interval_time:1,friend_greet_is_reply:1,greet_after_ai_enable:0,greet_content:[]}),f=async()=>{if(o.greet_content.length===0){_.msgError("请添加打招呼素材");return}try{await q(o),_.msgSuccess("保存成功")}catch(i){_.msgError(i)}},{lockFn:c,isLock:v}=F(f),g=async()=>{try{const i=await H();x(i)}catch(i){console.error("获取SOP打招呼信息失败:",i)}},x=i=>{var t;for(const a in o)i[a]!=null&&(o[a]=i[a]);o.greet_content=((t=i.greet_content)==null?void 0:t.map(a=>({...a,type:parseInt(a.type,10)})))||[]};return G(()=>{g()}),(i,t)=>{const a=k,p=N,E=z,d=U,u=D,b=R,y=A,V=h,w=L;return C(),B("div",M,[n("div",O,[n("div",P,[t[10]||(t[10]=n("div",{class:"h-[74px] flex items-center justify-center text-white text-2xl bg-primary"},"策略设置",-1)),n("div",T,[e(y,null,{default:l(()=>[n("div",Z,[e(b,{model:r(o),"label-position":"top"},{default:l(()=>[e(p,{label:"是否开启打招呼"},{default:l(()=>[e(a,{modelValue:r(o).is_enable,"onUpdate:modelValue":t[0]||(t[0]=s=>r(o).is_enable=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),e(p,{label:"添加后打招呼间隔"},{default:l(()=>[e(E,{modelValue:r(o).interval_time,"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).interval_time=s),precision:0,min:0,size:"small"},null,8,["modelValue"]),t[5]||(t[5]=n("span",{class:"ml-2"},"分钟后",-1))]),_:1}),e(p,{label:"对方打招呼是否回复："},{default:l(()=>[e(u,{modelValue:r(o).friend_greet_is_reply,"onUpdate:modelValue":t[2]||(t[2]=s=>r(o).friend_greet_is_reply=s)},{default:l(()=>[e(d,{value:1},{default:l(()=>[...t[6]||(t[6]=[m("不再打招呼",-1)])]),_:1}),e(d,{value:0},{default:l(()=>[...t[7]||(t[7]=[m("继续打招呼",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"打招呼后接管类型："},{default:l(()=>[e(u,{modelValue:r(o).greet_after_ai_enable,"onUpdate:modelValue":t[3]||(t[3]=s=>r(o).greet_after_ai_enable=s)},{default:l(()=>[e(d,{value:1},{default:l(()=>[...t[8]||(t[8]=[m("AI接管",-1)])]),_:1}),e(d,{value:0},{default:l(()=>[...t[9]||(t[9]=[m("人工接管",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})])]),n("div",K,[t[11]||(t[11]=n("div",{class:"h-[75px] flex-shrink-0 flex items-center"},"编辑打招呼素材内容",-1)),e(V,{class:"!my-0"}),n("div",Q,[e(J,{modelValue:r(o).greet_content,"onUpdate:modelValue":t[4]||(t[4]=s=>r(o).greet_content=s)},null,8,["modelValue"])])])]),n("div",W,[e(w,{type:"primary",class:"w-[100px] !h-[40px]",loading:r(v),onClick:r(c)},{default:l(()=>[...t[12]||(t[12]=[m(" 保存 ",-1)])]),_:1},8,["loading","onClick"])])])}}});const $t=j(X,[["__scopeId","data-v-dd13ebde"]]);export{$t as default};
