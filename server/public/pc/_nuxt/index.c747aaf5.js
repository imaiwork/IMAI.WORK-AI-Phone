import{d as I,el as c,e9 as n,G as R,D as b,k as p,l as u,m as o,q as l,J as k,K as w,Y as O,Z as v,t as P,y as S}from"./entry.8705b591.js";import{u as T}from"./useSocialPlatform.11688b4f.js";import{u as F}from"./useDeviceWs.c8a48856.js";import{_ as H}from"./account-panel.vue.e9b67844.js";import L from"./friends-panel.daab6cfb.js";import A from"./chatting-panel.f7ab0834.js";import K from"./useAccount.66785a0a.js";import"./sph_icon.de3a3562.js";import"./useWebSocket.6040c56b.js";import"./index.d5b2ab73.js";/* empty css                     */import"./el-avatar.25a7599a.js";import"./el-empty.a2e85def.js";import"./vue-virtual-scroller.esm.bc1f9c4d.js";/* empty css                             */import"./useFriends.586c6f9d.js";import"./usePaging.0c251ebb.js";import"./service.557e9b35.js";/* empty css                  *//* empty css                    *//* empty css                  *//* empty css                   */import"./chatting.vue.0a6e1c75.js";import"./chat-msg-item.vue.643347b7.js";import"./el-image.1d071b41.js";import"./el-image-viewer.98cbed9e.js";import"./throttle.2aefc6f7.js";import"./debounce.4efe57e2.js";import"./toNumber.9701a4c1.js";import"./chat-content.1d571ba7.js";import"./useAudio.da3953ed.js";import"./useHandle.727f0a04.js";import"./person_wechat.703f63bb.js";import"./index.cf59f1a8.js";import"./useMessage.01f2b481.js";import"./index.7221601a.js";const B={class:"h-full flex flex-col min-w-[1000px]"},V={class:"h-[56px] rounded-lg bg-white flex items-center px-4 flex-shrink-0"},$={class:"flex items-center gap-4"},z={class:"flex-1 flex items-center gap-8 ml-12"},G=["onClick"],M=["src","alt"],q={class:"grow min-h-0 rounded-lg bg-white mt-4 flex"},J={class:"w-[94px] border-r border-[#D9D9D9] h-full"},U={class:"w-[244px] h-full border-r border-[#D9D9D9]"},W={class:"flex-1"},Te=I({__name:"index",setup(Y){const{socialPlatformList:h,currentSocialPlatform:m}=T(),C=t=>{m.value=t},{accountLists:a,accountPager:E,getAccountList:g,currentAccount:x}=K({type:m.value}),{send:D,onEvent:_,isConnected:N}=F();return _("success",t=>{const{deviceId:s,type:r}=t,e={[c.INIT_COMPLETE]:async()=>{i(s)},[c.CHECK_INIT]:async()=>{i(s)}},i=y=>{a.value.forEach(d=>{d.device_code===y&&(d.status=1,d.loading=!1)})},f=e[r];f&&f()}),_("error",t=>{const{error:s,code:r,deviceCode:e}=t;[n.CONNECT_ERROR,n.PUSH_MESSAGE_ERROR,n.DEVICE_DISCONNECTED,c.CHECK_INIT].includes(r)&&a.value.forEach(i=>{(r==n.CONNECT_ERROR||i.device_code==e)&&(i.status=0,i.loading=!1)}),r!=n.CONNECT_ERROR&&R.msgError(s)}),(async()=>{await g(),a.value=E.lists.map(t=>({...t,status:0,loading:!0})),a.value.length>0&&N.value&&D({type:c.CHECK_INIT,deviceId:a.value[0].device_code})})(),b(()=>x.value,t=>{}),(t,s)=>{const r=S;return p(),u("div",B,[o("div",V,[o("div",$,[l(r,{name:"local-icon-list_check",size:18}),s[0]||(s[0]=o("span",{class:"font-bold"},"社媒平台",-1))]),o("div",z,[(p(!0),u(k,null,w(v(h),e=>(p(),u("div",{class:O(["flex items-center gap-2 rounded-lg cursor-pointer hover:bg-[#F2F2F2] px-3 py-1.5",{"bg-[#F2F2F2]":v(m)===e.type}]),key:e.type,onClick:i=>C(e.type)},[o("img",{src:e.icon,alt:e.name,class:"w-6 h-6"},null,8,M),o("span",null,P(e.name),1)],10,G))),128))])]),o("div",q,[o("div",J,[l(H)]),o("div",U,[l(L)]),o("div",W,[l(A)])])])}}});export{Te as default};
