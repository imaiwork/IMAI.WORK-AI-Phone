import{d as Tt,r as p,aG as ve,G as w,cz as xe,ai as J,cb as j,o as gt,bA as ht,k as b,l as z,m as Te,q as Q,Z as k,aI as ge,L as Ue,I as mt,J as Ct,ed as It,cY as pt,_ as kt}from"./entry.45b56a4a.js";import{_ as yt}from"./sidebar-panel.vue.af6d184c.js";import _t from"./friends-panel.fdf4a00a.js";import wt from"./chatting-panel.95fb29e1.js";import{_ as Nt}from"./user-panel.vue.a3eb68b4.js";import{_ as Ft}from"./index.vue.699ec101.js";import{M as Mt,z as Pt}from"./person_wechat.703f63bb.js";import{FriendPanelEnum as Y,MsgErrorCodeEnum as Re,MsgTypeEnum as s,HandleEventEnum as y,TalkActionTypeEnum as A,ContentTypeEnum as g,ContentTypeEnumMap as Ee,EnumTalkType as St}from"./index.cf59f1a8.js";import xt from"./useWeChatWs.60d07f69.js";import Ut from"./useHandle.2ba0ea7e.js";import Rt from"./useSopTask.4f7cd03e.js";import Et from"./useTalkReplyTask.1c089158.js";import"./index.515d6243.js";/* empty css                     */import"./conversation.vue.556e4862.js";import"./el-avatar.d861360d.js";import"./el-empty.2f864f77.js";import"./vue-virtual-scroller.esm.ab51947f.js";/* empty css                             */import"./friends.2824ad53.js";import"./el-switch.a318a2b8.js";import"./index.26ec0fac.js";import"./index.182f579e.js";import"./index.65adb5cb.js";import"./cloneDeep.57b68f72.js";/* empty css                  *//* empty css                    *//* empty css                  */import"./index.0b13dd01.js";import"./index.def52f2a.js";import"./index.386b5c03.js";import"./strings.2a3b34b9.js";import"./_baseIteratee.2c25c469.js";import"./toNumber.7157a344.js";import"./clamp.2ad9aed4.js";import"./index.1bb131e0.js";/* empty css                   *//* empty css                  *//* empty css               */import"./chatting.47f6d114.js";import"./chat-msg-item.vue.b0a46b23.js";import"./el-image.c740ce69.js";import"./el-image-viewer.68e4a550.js";import"./throttle.ab15e8bc.js";import"./debounce.794d1e19.js";import"./chat-content.515ecb06.js";import"./index.vue.b217a0a1.js";import"./useAudio.8e3abeac.js";import"./mini-program-card.vue.61814513.js";import"./lodash.6932c5a3.js";import"./emoji.vue.1388ea75.js";import"./el-date-picker-panel.1733dbb5.js";import"./customParseFormat.7701a253.js";import"./panel-time-pick.11e3c378.js";import"./index.66077ec6.js";import"./friends-bind-tag.vue.06aa195f.js";import"./useTodo.33f4de05.js";import"./usePaging.9b885ff9.js";import"./user-detail-panel.43d1cb90.js";import"./el-tabs.2c86b5e0.js";import"./raf.d3c38821.js";import"./index.118c5c16.js";import"./index.82050671.js";/* empty css                  */import"./index.a1206616.js";import"./user-flow.vue.3cbbe2ca.js";import"./7_day.257301c1.js";import"./flow_title_img.b33c9278.js";import"./user-todo.c5c2b4e8.js";import"./user-sop.394f8641.js";import"./date.95a59cef.js";import"./link-card.vue.39fbc4c0.js";import"./file-card.vue.fb91230f.js";import"./user-todo-edit.vue.03eb77bf.js";import"./useWebSocket.0fc12c13.js";const Dt={class:"w-full h-full flex p-[50px] wx-chat-page"},bt={class:"rounded-xl overflow-hidden grow flex max-w-[1500px] mx-auto h-full"},At={class:"w-[94px] flex-shrink-0"},Lt={class:"w-[244px] flex-shrink-0"},Vt={class:"flex-1 border-l border-r border-[#e5e5e5]"},Wt={key:0,class:"w-[258px] flex-shrink-0"},Ot=Tt({__name:"index",setup(Ht){const he=p(),Z=p(),K=p(),X=p(),ee=p(!1),te=p(Y.Dialogue),{on:L,send:De,addDeviceLoading:me,actionType:Ce,isConnected:be}=xt(),{actionType:ne,wechatLists:I,conversationList:Ie,newMsg:oe,currentWechat:c,currentFriend:T,friendList:U,friendInfo:_,chattingRef:M,historyMsgList:v,getWeChatAiInfo:Ae,getFriendInfo:Le,addFriend:Ve,deleteFriend:We,onHandleEvent:Oe,getReplyStrategyInfo:He}=Ut(),{getSopGreetInfo:Be,deleteStopTask:qe,deleteAllStopTask:Ge}=Rt(),{talkReplyTaskData:P,onTalkEvent:$e,triggerTalkEvent:pe}=Et(),ae=p(""),se=p(!1),ie=p(!1),R=p(!1),V=p(!1),E=p(!1),W=p(!1),ke=p(!1),O=ve({Offset:0,Limit:21}),ye=ve({Page:0}),H=p(!1),re=p(!1),D=ve({EndTime:0,Count:10});L("open",()=>{fe()}),L("error",t=>{const{Code:e,MsgType:n,Content:o}=t;e==Re.InternalError&&n==s.TalkToFriendTaskResultNotice?v.value=v.value.filter(a=>!a.loading):e==Re.DeviceOffline&&I.value.forEach(a=>{a.device_code==o.DeviceId&&(a.wechat_status=0,a.loading=!1)}),Se(),w.closeLoading()}),L("message",async t=>{const{MsgType:e,Content:n}=t,o={[s.Auth]:()=>{if(!ae.value){const{DeviceId:a,AccessToken:i,WeChatId:r}=n;h(s.TriggerConversationPushTask,{deviceId:a,wechatId:r,accessToken:i}),I.value.forEach(l=>{l.device_code===a&&(l.accessToken=i)})}},[s.WxInfo]:fe,[s.ConversationPushNotice]:Je,[s.FriendPushNotice]:je,[s.HistoryMsgPushNotice]:ze,[s.FriendChangeNotice]:Qe,[s.FriendTalkNotice]:Ke,[s.PostMessageReadNotice]:Xe,[s.WeChatTalkToFriendNotice]:Ye,[s.TalkToFriendTaskResultNotice]:Ze,[s.ChatRoomAddNotice]:it,[s.ChatRoomMembersNotice]:rt,[s.WeChatOfflineNotice]:we,[s.WeChatOnlineNotice]:we,[s.FriendAddNotice]:at,[s.FriendDelNotice]:st,[s.RequestTalkDetailTaskResultNotice]:dt,[s.VoiceTransTextTask]:lt};o[e]&&await o[e](n)}),L("success",t=>{var n;const{type:e}=t;e=="add-device"&&((n=he.value)==null||n.closeAddWeChatPop(),ae.value="",fe())}),Oe("action",async t=>{var n;const{type:e}=t;switch(e){case y.ChooseEmoji:(n=Z.value)==null||n.setInputContent(t.emoji,!0);break;case y.UpdateUserInfo:h(s.ModifyFriendMemoTask,{Memo:t.remark}),h(s.ModifyFriendMemoTask,{Phone:t.phone});break;case y.DownloadFile:case y.PreviewVideo:const o=v.value.find(a=>a.msgId===t.msgId&&a.fileUrl);if(o){e===y.DownloadFile?xe(o.fileUrl):e===y.PreviewVideo&&Me(o.fileUrl);return}w.loading(e===y.DownloadFile?"文件下载中...":"视频预览中..."),h(s.RequestTalkDetailTask,{msgId:t.msgId,msgSvrId:t.msgSvrId});break;case y.VoiceToText:h(s.VoiceTransTextTask,{messageId:t.messageId,taskId:t.taskId});break}}),$e("post",t=>{const{type:e,...n}=t;switch(e){case A.PostHistory:h(s.TriggerHistoryMsgPushTask,{...n});break;case A.VoiceToText:h(s.VoiceTransTextTask,{...n});break;case A.PostPicture:h(s.TalkToFriendTask,{DeviceId:n.deviceId,AccessToken:n.accessToken,WeChatId:n.wechatId,FriendId:n.friendId,ContentType:g.Text,Content:n.content,MsgId:Date.now()});break}});function Je(t){se.value=!0;const{Convers:e=[],WeChatId:n,Count:o,NextOffset:a}=t;if(e.length>0){(e.length<o||a==0)&&(ke.value=!0);const i=e.reduce((r,l)=>l.IsSilent?r:r+l.UnreadCnt,0);I.value.forEach(r=>{r.wechat_id===n&&(r.MsgCnt=i,r.loading=!1,O.Offset>0?r.Convers.push(...e):r.Convers=e)}),W.value=!1}le(n)}function je(t){ie.value=!0,V.value=!1;const{Friends:e=[],Page:n}=t;e.length>0&&(ye.Page=n,ye.Page==0?U.value=e:U.value=U.value.concat(e),Mt({wechat_id:c.value.wechat_id,friends:U.value.map(o=>Fe(c.value.wechat_id,o))}))}async function ze(t){var a,i;R.value=!1;const{Messages:e=[],WeChatId:n,TaskId:o}=t;if(P[o]){P[o].historyMsgLists=e.filter((r,l)=>[g.Voice,g.Text,g.QuoteMsg].includes(r.ContentType)),pe("get",{type:A.GetHistory,taskId:o,wechatId:n});return}e.length>=0&&((a=T.value)!=null&&a.UserName)&&((i=c.value)!=null&&i.wechat_id)&&T.value.taskId==o&&(e.length<D.Count&&(re.value=!0),v.value=[...e.map(ce).reverse(),...v.value]),H.value=!1,J(()=>{var r,l;D.EndTime==0?(r=M.value)==null||r.scrollToBottom():(l=M.value)==null||l.scrollToItem(10)})}async function Qe(t){var n;const{FriendInfo:e}=t;c.value.wechat_id&&((n=T.value)==null?void 0:n.UserName)==e.FriendId&&(I.value.find(a=>a.wechat_id===c.value.wechat_id).Convers.forEach(a=>{a.UserName===e.FriendId&&(a.Memo=e.Memo)}),_.value={..._.value,friend_id:e.FriendId,friend_no:e.FriendNo,avatar:_.value.avatar||e.Avatar,phone:_.value.phone||e.Phone,remark:_.value.remark||e.Memo,nickname:_.value.nickname||e.FriendNick,source:_.value.source||e.Source})}function Ye(t){var l;const{FriendId:e,ContentType:n,TaskId:o,MsgId:a}=t,i=ce({...t,IsSend:!0}),r=I.value.find(d=>d.wechat_id===c.value.wechat_id);if(r==null||r.Convers.forEach(d=>{d.UserName==e&&(d.Digest=i.digest,d.UpdateTime=i.createTime)}),r==null||r.Convers.sort((d,u)=>d.IsTop!==u.IsTop?d.IsTop?-1:1:u.UpdateTime-d.UpdateTime),((l=T.value)==null?void 0:l.UserName)===e){const d=v.value.findIndex(u=>u.is_active);d>-1&&d<v.value.length?v.value[d]=i:v.value.push(i),J(()=>{var u;return(u=M.value)==null?void 0:u.scrollToBottom()})}}function Ze(t){const{MsgId:e}=t;v.value.forEach(n=>{n.msgId===e&&(n.id=e,n.loading=!1)})}function Ke(t){var G;const{FriendId:e,CreateTime:n,NickName:o,ContentType:a,WeChatId:i,MsgSvrId:r,Content:l}=t,d=B(e);vt(e);const u=ce(t),m={[g.System]:t.Content,[g.RoomSystem]:u.message,default:`[${Ee[a]}]`},S=a===g.Text?t.Content:m[a]||m.default,C=I.value.find(f=>f.wechat_id===i),N=a===g.RoomSystem?u.message:S;function x(){return{Avatar:"",UserName:e,ShowName:o,IsSilent:!1,UnreadCnt:0,IsTop:!1,UpdateTime:n,Digest:N}}const F=C==null?void 0:C.Convers.some(f=>f.UserName===e),q=()=>{C==null||C.Convers.unshift(x())};if(d){const f=a===g.Text;!F&&f&&q()}else(a===g.System&&l.includes("打招呼")||!F)&&q();C==null||C.Convers.forEach(f=>{f.UserName===e&&(f.IsSilent||(f.UnreadCnt+=1,f.IsSend=!0),f.UpdateTime=n,f.Digest=N)}),C==null||C.Convers.sort((f,$)=>f.IsTop!==$.IsTop?f.IsTop?-1:1:$.UpdateTime-f.UpdateTime),((G=T.value)==null?void 0:G.UserName)===e&&(v.value.push(u),oe.value+=1,J(()=>{var f;return(f=M.value)==null?void 0:f.scrollToBottom()})),qe(t),le(i)}function Xe(t){const{FriendId:e}=t;Ie.value.forEach(n=>{n.UserName===e&&(n.UnreadCnt=0,n.IsSend=!1)}),le(c.value)}function et(t){if(!be.value){w.msgError("网络连接失败，请检查网络");return}Ce.value=s.AddDevice,ae.value=t,me.value=!0,h(s.AddDevice,{deviceId:t})}async function tt(t){var e,n;((e=c.value)==null?void 0:e.device_code)!==t.device_code&&(await de(!0),(n=K.value)==null||n.init(),ue(),W.value=!0,c.value=t,_e(te.value))}const _e=async t=>{if(te.value=t,await de(),c.value)switch(t){case Y.Dialogue:se.value||h(s.TriggerConversationPushTask);break;case Y.Friend:ie.value||h(s.TriggerFriendPushTask);break;case Y.Group:break}};async function nt(t){var e,n,o;await de(),oe.value=0,_.value={},R.value=!0,Pe(),(e=K.value)==null||e.init(),T.value.isRoom=B((n=T.value)==null?void 0:n.UserName),T.value.isRoom?h(s.RequestChatRoomInfoTaskMessage):(E.value=!0,h(s.RequestContactsInfoTask),Le()),h(s.TriggerHistoryMsgPushTask),h(s.TriggerMessageReadTask),I.value.forEach(a=>{var i;a.device_code===((i=c.value)==null?void 0:i.device_code)&&Ie.value.forEach(r=>{var l;r.UserName==((l=T.value)==null?void 0:l.UserName)&&(a.MsgCnt-=r.UnreadCnt,r.UnreadCnt=0)})}),(o=M.value)==null||o.initScroll();try{E.value=!1}finally{E.value=!1}}function ot(t){var o,a,i,r,l,d;if(!c.value){w.msgError("请先选择微信");return}if(!T.value){w.msgError("请先选择好友");return}const e=(((o=v.value[v.value.length-1])==null?void 0:o.msgId)||0)+1,n={DeviceId:(a=c.value)==null?void 0:a.device_code,AccessToken:(i=c.value)==null?void 0:i.accessToken,WeChatId:c.value.wechat_id,FriendId:T.value.UserName,ContentType:t.contentType,MsgId:e,Content:""};t.contentType==g.Text?n.Content=t.content:n.Content=(r=t.file)==null?void 0:r.uri,v.value.push({msgId:e,id:e,type:1,file:t.file,message:t.content,loading:!0,is_active:!0,contentType:t.contentType,createTime:Date.now(),avatar:(l=c.value)==null?void 0:l.wechat_avatar}),h(s.TalkToFriendTask,n),(d=Z.value)==null||d.cleanInput()}async function at(t){var u;const{WeChatId:e,FriendInfo:{FriendId:n,FriendNick:o,Memo:a,Avatar:i},FriendInfo:r}=t,l=I.value.find(m=>m.wechat_id===e);(u=l==null?void 0:l.Convers)==null||u.forEach(m=>{m.UserName===n&&(m.Avatar=i,m.ShowName=a||o)});const d=Fe(e,r);await Ve(d)}function st(t){var i,r,l;const{WeChatId:e,FriendId:n}=t,o=I.value.find(d=>d.wechat_id===e),a=(i=o==null?void 0:o.Convers)==null?void 0:i.find(d=>d.UserName===n);a&&((l=o==null?void 0:o.Convers)==null||l.splice((r=o==null?void 0:o.Convers)==null?void 0:r.indexOf(a),1)),We({friend_id:n,wechat_id:e})}function it(t){var d,u;const{WeChatId:e,ChatRoom:{UserName:n,NickName:o,Memo:a,Avatar:i,ShowNameList:r}}=t,l=I.value.find(m=>m.wechat_id===e);(d=l==null?void 0:l.Convers)==null||d.forEach(m=>{m.UserName===n&&(m.ShowName=a||o)}),((u=T.value)==null?void 0:u.UserName)===n&&(c.value.showNameList=r)}function rt(t){const{Members:e}=t;c.value.members=e}function we(t){var a;const{DeviceId:e,WeChatId:n,Status:o}=t;I.value.forEach(i=>{i.device_code===e&&i.wechat_id===n&&(i.wechat_status=o=="offline"?2:1)}),(a=c.value)!=null&&a.device_code&&o=="offline"&&(ue(),w.msgError("设备离线，请重新登录"))}function lt(t){const{ErrMsg:e,TaskId:n,Success:o}=t;o&&(pe("get",{type:A.VoiceToTextResult,taskId:n.length===14?n.slice(0,-1):n,data:t}),v.value.forEach(a=>{a.taskId==n&&(a.sttMessage=e,a.sttLoading=!1)}))}async function dt(t){const{Content:e,MsgId:n,WeChatId:o}=t;v.value.some(i=>i.msgId===n&&i.fileUrl)||(v.value.forEach(i=>{i.msgId===n&&(i.fileUrl=e)}),ne.value===y.PreviewVideo&&Me(e),ne.value===y.DownloadFile&&xe(e),w.closeLoading(),ne.value=null)}const h=(t,e)=>{var r,l,d,u,m,S,C,N;let n={DeviceId:(e==null?void 0:e.deviceId)||((r=c.value)==null?void 0:r.device_code),AccessToken:(e==null?void 0:e.accessToken)||((l=c.value)==null?void 0:l.accessToken),WeChatId:(e==null?void 0:e.wechatId)||((d=c.value)==null?void 0:d.wechat_id),FriendId:(e==null?void 0:e.friendId)||((u=T.value)==null?void 0:u.UserName),TaskId:(e==null?void 0:e.taskId)||`${Date.now()}`};T.value.taskId=n.TaskId;let o=t;const{talkType:a}=e||{},i=(a||a>=0)&&a==St.Single;switch(t){case s.AddDevice:case s.Auth:case s.WxInfo:case s.TriggerMessageReadTask:break;case s.TriggerHistoryMsgPushTask:i?n={...n,StartTime:0,Count:e==null?void 0:e.count}:n={...n,...D};break;case s.RequestContactsInfoTask:n={...n,Contact:(m=T.value)==null?void 0:m.UserName,Local:!0};break;case s.TriggerConversationPushTask:n={...n,...O,StartTime:Date.now()-60*60*24*1e3*3,EndTime:0,WithName:!0};break;case s.TriggerFriendPushTask:if(!((S=c.value)!=null&&S.wechat_id))return;V.value=!0;break;case s.RequestChatRoomInfoTaskMessage:if(!((C=c.value)!=null&&C.wechat_id))return;n={...n,Flag:1,ChatRoomId:(N=T.value)==null?void 0:N.UserName};break;case s.RequestTalkDetailTask:n={...n,Md5:e==null?void 0:e.Md5,GetOriginal:!1,MsgId:e==null?void 0:e.msgId,MsgSvrId:e==null?void 0:e.msgSvrId};break;case s.TalkToFriendTask:case s.ModifyFriendMemoTask:n={...n,...e};break;case s.VoiceTransTextTask:n={...n,MsgSvrId:e==null?void 0:e.messageId,Content:e==null?void 0:e.content};break;default:return}if(i){const x={taskId:n.TaskId,wechatId:n.WeChatId,deviceId:n.DeviceId,friendId:n.FriendId};if(n.TaskId.length==14){const F=n.TaskId.slice(0,n.TaskId.length-1);P[F]={...P[F],...x,...e}}else P[n.TaskId]={...P[n.TaskId],...x,...e}}De({MsgType:o,Content:n})},Ne=(t,e)=>{if(j(t))return JSON.parse(t);if(e===g.Voice){const[n,o]=t.split("?");return{uri:n,...It(o)}}return e===g.Picture?{uri:j(t)?JSON.parse(t):""}:t};function Fe(t,e){const{FriendId:n,FriendNo:o,FriendNick:a,Memo:i,Avatar:r,Gender:l,Country:d,Province:u,City:m,Phone:S,Desc:C,Source:N,SourceExt:x,CreateTime:F,IsUnusual:q,Type:G}=e,f=parseInt(N),$=f<1e6?f+1e6:f;return{wechat_id:t,friend_id:n,friend_no:o,nickname:a,remark:i,gender:l,country:d,province:u,city:m,avatar:r,type:G,label_ids:[],phone:S,desc:C,source:$,source_ext:x,create_time:F,is_unusual:q,open_ai:1,takeover_mode:1}}const le=t=>{I.value.forEach(e=>{var n;e.wechat_id===t&&(e.MsgCnt=(n=e.Convers)==null?void 0:n.reduce((o,a)=>a.IsSilent?o:o+a.UnreadCnt,0))})},de=(t=!1)=>new Promise((e,n)=>{c.value.is_online==!1&&(n(!1),t&&w.msgError("设备离线，请重新登录")),e(!0)}),ce=t=>{const e=t.ContentType===g.Text,n=B(t.FriendId),o={file:null,message:null,createTime:t.CreateTime,contentType:t.ContentType,msgSvrId:t.MsgSvrId,msgId:t.MsgId,id:t.MsgId,digest:t.ContentType!==g.Text?`[${Ee[t.ContentType]}]`:t.Content,friendId:t.FriendId,wechatId:"",is_room:n};function a(i,r){var l,d;return[g.System,g.RoomSystem].includes(i.ContentType)?{type:3,message:i.ContentType===g.RoomSystem&&j(i.Content)?JSON.parse(i.Content).title:i.Content}:i.IsSend?{type:1,avatar:(l=c.value)==null?void 0:l.wechat_avatar}:{type:2,avatar:r?"":(d=T.value)==null?void 0:d.Avatar}}if(t.ContentType!==g.System)if(n&&t.ContentType!==g.RoomSystem){const i=e?`
`:":",[r,l]=ct(t.Content,i);o.message=t.IsSend&&e?r:l,o.wechatId=r.replace(/:/g,""),!e&&l&&(o.file=Ne(l,t.ContentType))}else o.message=t.Content,(!e||j(t.Content))&&(o.file=Ne(t.Content,t.ContentType));return{...a(t,n),...o}},ct=(t,e)=>{const n=t.indexOf(e);return n===-1?[t,""]:[t.slice(0,n),t.slice(n+1)]},ut=()=>{W.value||ke.value||(W.value=!0,O.Offset+=O.Limit,h(s.TriggerConversationPushTask))},ft=()=>{var t;H.value||re.value||(H.value=!0,D.EndTime=(t=v==null?void 0:v.value[0])==null?void 0:t.createTime,h(s.TriggerHistoryMsgPushTask))},Me=async t=>{var e,n;ee.value=!0,await J(),(e=X.value)==null||e.setUrl(t),(n=X.value)==null||n.open()},ue=()=>{var t;se.value=!1,c.value={},T.value={},_.value={},U.value=[],ie.value=!1,oe.value=0,R.value=!1,(t=M.value)==null||t.initScroll(),Pe(),Se()},Pe=()=>{v.value=[],H.value=!1,re.value=!1,D.EndTime=0},Se=()=>{R.value=!1,E.value=!1,V.value=!1},B=t=>t?t.indexOf("@chatroom")>-1:!1,vt=t=>t?t.indexOf("@@qy_g")>-1:!1,fe=async()=>{const{lists:t}=await Pt({page_size:999});if(I.value=t,t&&t.length>0)for(const[e,n]of I.value.entries())n.loading=!0,h(s.Auth,{deviceId:n.device_code}),Ce.value=s.TriggerConversationPushTask,Ae(n.wechat_id)};return Be(),He(),gt(()=>{c.value={}}),ht(()=>{Ge(),ue(),c.value={},I.value=[]}),(t,e)=>{var o,a;const n=pt;return b(),z(Ct,null,[Te("div",Dt,[Te("div",bt,[Te("div",At,[Q(yt,{ref_key:"sidebarPanelRef",ref:he,"current-wechat":k(c),loading:k(me),"wechat-list":k(I),onAddWechat:et,"onUpdate:currentWechat":tt},null,8,["current-wechat","loading","wechat-list"])]),ge((b(),z("div",Lt,[Q(_t,{"current-panel":k(te),onChangePanel:_e,onChangeFriend:nt,onBottomConversation:ut},null,8,["current-panel"])])),[[n,k(V)]]),ge((b(),z("div",Vt,[Q(wt,{ref_key:"chattingPanelRef",ref:Z,onTop:ft,onContentPost:ot},null,512)])),[[n,k(R)]]),(o=k(T))!=null&&o.UserName&&!B((a=k(T))==null?void 0:a.UserName)?ge((b(),z("div",Wt,[Q(Nt,{ref_key:"userPanelRef",ref:K},null,512)])),[[n,k(E)]]):Ue("",!0)])]),k(ee)?(b(),mt(Ft,{key:0,ref_key:"videoPlayerRef",ref:X,onClose:e[0]||(e[0]=i=>ee.value=!1)},null,512)):Ue("",!0)],64)}}});const uo=kt(Ot,[["__scopeId","data-v-e5f5b338"]]);export{uo as default};
