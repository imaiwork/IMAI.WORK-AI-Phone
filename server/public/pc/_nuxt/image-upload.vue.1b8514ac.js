import{d as p,at as n,x,k as s,l as i,m as t,q as l,s as h,J as g,t as _,a0 as b,Z as v,cZ as w,L as y,y as z}from"./entry.563c232b.js";import{_ as j}from"./index.vue.96af9406.js";import{_ as D}from"./index.875ea2c9.js";const S={class:"rounded-md bg-app-bg-3 border border-app-border-2 p-[6px] flex gap-x-2 w-full"},k={class:"flex-1 flex flex-col items-center justify-center"},K={class:"flex flex-col items-center justify-center gap-2 h-[112px] w-full"},V={class:"text-white text-[11px]"},C={key:1,class:"border border-primary rounded-md w-full h-full overflow-hidden relative"},M=["src"],B={key:0,class:"w-[112px] h-[112px] rounded-md border border-app-border-2 flex items-center justify-center overflow-hidden text-white"},N=["src"],q=p({__name:"image-upload",props:n({maxSize:{default:5},minSize:{default:0},ratioSize:{default:()=>[0,0]},limit:{default:1},content:{default:"上传图片"},imgKey:{default:"image"},templateVideoUrl:{default:""}},{formData:{},formDataModifiers:{}}),emits:n(["update:formData"],["update:formData"]),setup(e,{emit:U}){const f=e,o=x(e,"formData"),d=r=>{o.value[f.imgKey]=r.data.uri};return(r,a)=>{const c=z,m=j,u=D;return s(),i("div",S,[t("div",k,[l(u,{class:"w-full h-[112px]","show-progress":"","show-file-list":!1,"ratio-size":e.ratioSize,"max-size":e.maxSize,"min-size":e.minSize,accept:".jpg,.jpeg,.png",limit:e.limit,onSuccess:d},{default:h(()=>[t("div",K,[o.value[e.imgKey]?(s(),i("div",C,[t("img",{src:o.value[e.imgKey],class:"w-full h-full object-contain"},null,8,M),t("div",{class:"absolute top-1 right-1 cursor-pointer w-6 h-6",onClick:a[0]||(a[0]=b($=>o.value[e.imgKey]="",["stop"]))},[l(m,{theme:v(w).DARK},null,8,["theme"])]),a[1]||(a[1]=t("div",{class:"absolute bottom-3 w-full flex justify-center"},[t("div",{class:"cursor-pointer px-[10px] text-white rounded-full border border-[#ffffff1a] bg-[#ffffff4d] shadow-[0px_6px_12px_0px_rgba(0,0,0,0.24)] h-[28px] flex items-center justify-center"}," 更换图片 ")],-1))])):(s(),i(g,{key:0},[l(c,{name:"local-icon-file_add",size:28,color:"#ffffff"}),t("span",V,_(e.content),1)],64))])]),_:1},8,["ratio-size","max-size","min-size","limit"])]),o.value[e.imgKey]?y("",!0):(s(),i("div",B,[t("video",{src:e.templateVideoUrl,class:"w-full h-full object-cover",autoplay:"",loop:""},null,8,N)]))])}}});export{q as _};
