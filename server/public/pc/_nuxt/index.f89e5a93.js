import{d as Z,a as Q,A as N,r as C,o as X,bA as ee,k as i,l as a,m as t,J as _,K as D,Y as te,t as m,q as n,Z as o,I,s as l,L as f,v as E,bC as se,ai as S,G as oe,y as ie,ay as ne,_ as ae}from"./entry.556496e9.js";import{E as le,a as re}from"./index.e8affe9d.js";import{E as de}from"./index.a390bc0e.js";import{E as ce}from"./el-card.7b8b3049.js";import{E as pe}from"./el-empty.5e752bd7.js";import{_ as me}from"./index.d8113658.js";/* empty css                        *//* empty css               *//* empty css                   *//* empty css                 *//* empty css                     */import{TurnStatus as r}from"./index.0f8f6319.js";import{_ as ue}from"./add-audio.vue.9638467b.js";import{u as _e}from"./useHandleApi.ec037efe.js";import{_ as fe}from"./index.vue.590d0eb3.js";import"./index.4bb9b943.js";import"./_baseIteratee.4a27397d.js";import"./debounce.0430f44a.js";import"./toNumber.844d22bd.js";import"./raf.a745d528.js";import"./index.899f58ef.js";import"./index.ef7246b4.js";import"./strings.09a7c832.js";import"./clamp.b3f2460d.js";import"./index.c754b099.js";/* empty css                  */import"./usePaging.cb2ddca4.js";import"./el-slider.3edc03f9.js";import"./el-input-number.fadfd561.js";import"./index.e9eda615.js";import"./useDictOptions.8bb858a6.js";import"./knowledge_base.519704cc.js";import"./common.1728c92e.js";const xe=""+new URL("home_txt_title.154e6c48.png",import.meta.url).href,ve=""+new URL("audio_transform.29d7ab46.gif",import.meta.url).href,ge={class:"meeting-minutes-page dynamic-scroller"},he={class:"w-[1000px] mx-auto"},ye={class:"px-8 mt-10 w-full h-[260px]"},ke={class:"flex items-start gap-x-[30px]"},be=["onClick"],we={class:"container pt-4"},Ce={class:"font-bold text-[22px] title"},Ee={class:"mt-4 leading-6 desc"},Re={class:"mt-4 font-bold text-[#27264D] group-hover:text-white invisible group-hover:visible"},Te={class:"px-8 mt-10"},Ae={class:"mt-5"},Ie={class:"flex items-center gap-4"},Be={key:0,class:"bg-[#edecff] rounded flex-shrink-0"},Le={class:"text-base overflow-hidden text-ellipsis whitespace-nowrap"},Ne={class:"overflow-hidden flex flex-wrap gap-2 max-h-[20px] text-xs text-[#8f91a8]"},De={class:"text-xs text-[#8f91a8] px-2 flex justify-center items-center bg-[#f7f8fc] h-[20px] rounded"},Se={class:"text-[#8f91a8] text-xs"},Me={class:"text-[#8f91a8] text-xs"},$e={class:"text-[#8f91a8] text-xs"},Ge={class:"flex flex-col gap-2"},Fe={key:0,class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2"},Ue=["onClick"],je={key:1,class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg"},He={key:1,class:"py-4"},Ke={key:1,class:"mt-[100px] flex flex-col items-center"},Ve={class:"fixed bottom-0 left-0 w-full flex justify-center items-center gap-1 my-2"},We=Z({__name:"index",emits:["openRealTime"],setup(ze,{emit:Oe}){const M=Q(),$=[{title:"开启实时语音",desc1:"实时语音转文字",desc2:"同步口译，智能总结要点",class:"meeting-card"},{title:"上传音视频文件",desc1:"即刻转写文字",desc2:"智能区分发言人，掌握内容",class:"audio-card"},{title:"视频链接转写",desc1:"输入视频链接",desc2:"无需下载，智能提炼要点",class:"free-card"}],B=N(),R=C(!1),G=async u=>{var e;u==="audio-card"?(R.value=!0,await S(),(e=B.value)==null||e.open()):u==="meeting-card"?M.push("/app/meeting_minutes/realtime"):oe.msgWarning("暂未开放")},{pager:h,getLists:F,handleAgain:Pe,handleDelete:U,handleItem:j,handleTrain:H,formatName:K,getDuration:V}=_e({onSuccess:u=>{b()}}),y=C(!1),k=C(),b=async()=>{await F(),h.lists.filter(e=>e.status==r.ING||e.status==r.WAITING).length>0?(y.value=!0,k.value=setTimeout(()=>{b()},2e3)):(y.value=!1,clearTimeout(k.value))},W=()=>{clearTimeout(k.value),b()},T=C(!1),A=N(),z=u=>{H(u,async e=>{var c,d;T.value=!0,await S(),(c=A.value)==null||c.open(),(d=A.value)==null||d.setFormData(e)})};return X(async()=>{b()}),ee(()=>{y.value=!1,clearTimeout(k.value)}),(u,e)=>{const c=ie,d=le,L=ne,O=de,P=re,q=ce,J=pe,Y=me;return i(),a("div",ge,[t("div",he,[e[11]||(e[11]=t("div",{class:"mt-2"},[t("img",{src:xe,class:"h-[150px] object-cover"})],-1)),t("div",ye,[t("div",ke,[(i(),a(_,null,D($,s=>t("div",{class:te([s.class,"group"]),onClick:p=>G(s.class)},[e[3]||(e[3]=t("div",null,[t("div",{class:"icon"}),t("div",{class:"active-icon"})],-1)),t("div",we,[t("div",Ce,m(s.title),1),t("div",Ee,[t("div",null,m(s.desc1),1),t("div",null,m(s.desc2),1)]),t("div",Re,[n(c,{name:"el-icon-Right",size:24})])])],10,be)),64))])]),t("div",Te,[e[9]||(e[9]=t("div",{class:"text-lg font-bold"},"最近",-1)),t("div",Ae,[!o(h).loading||o(y)?(i(),a(_,{key:0},[o(h).lists.length?(i(),I(q,{key:0,shadow:"never",class:"!rounded-xl"},{default:l(()=>[n(P,{data:o(h).lists,"row-style":{height:"80px",cursor:"pointer"},onRowClick:o(j)},{default:l(()=>[n(d,{prop:"name",label:"文件","min-width":"200","show-overflow-tooltip":""},{default:l(({row:s})=>[t("div",Ie,[s.status==o(r).ING||s.status==o(r).WAITING?(i(),a("div",Be,[...e[4]||(e[4]=[t("img",{src:ve,class:"w-9 h-9"},null,-1)])])):f("",!0),t("div",Le,m(o(K)(s.name)),1)])]),_:1}),n(d,{prop:"title",label:"详情","min-width":"120px"},{default:l(({row:s})=>{var p,x,v,g;return[t("div",Ne,[s.status==o(r).SUCCESS?(i(),a(_,{key:0},[(g=(v=(x=(p=s.response.Result)==null?void 0:p.MeetingAssistance)==null?void 0:x.MeetingAssistance)==null?void 0:v.Keywords)!=null&&g.length?(i(!0),a(_,{key:0},D(s.response.Result.MeetingAssistance.MeetingAssistance.Keywords,w=>(i(),a("div",De,m(w),1))),256)):(i(),a(_,{key:1},[E("内容为空")],64))],64)):s.status==o(r).ING||s.status==o(r).WAITING?(i(),a(_,{key:1},[E(" 处理中 ")],64)):s.status==o(r).ERROR?(i(),a(_,{key:2},[E(" 转写失败 ")],64)):f("",!0)])]}),_:1}),n(d,{prop:"title",label:"类型"},{default:l(({row:s})=>[t("div",Se,m(s.task_type==1?"音频速读":"实时记录"),1)]),_:1}),n(d,{prop:"created_at",label:"时长",width:"100px"},{default:l(({row:s})=>{var p,x,v,g,w;return[t("div",Me,m(o(V)((w=(g=(v=(x=(p=s.response)==null?void 0:p.Result)==null?void 0:x.Transcription)==null?void 0:v.Transcription)==null?void 0:g.AudioInfo)==null?void 0:w.Duration)),1)]}),_:1}),n(d,{prop:"created_at",label:"创建时间",width:"140px"},{default:l(({row:s})=>[t("div",$e,m(o(se)(s.create_time).format("MM/DD HH:mm")),1)]),_:1}),n(d,{prop:"created_at",label:"操作",width:"60px"},{default:l(({row:s})=>[n(O,{"show-arrow":!1,"popper-class":"!w-[120px] !min-w-[120px] !p-[6px] !rounded-xl"},{reference:l(()=>[n(L,{link:""},{default:l(()=>[n(c,{name:"el-icon-MoreFilled",color:"#8f91a8",size:12})]),_:1})]),default:l(()=>[t("div",Ge,[[o(r).ERROR].includes(s.status)?(i(),a("div",Fe,[n(c,{name:"el-icon-Refresh"}),e[5]||(e[5]=t("span",null,"重试",-1))])):f("",!0),t("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:p=>o(U)(s.id)},[n(c,{name:"el-icon-Delete"}),e[6]||(e[6]=t("span",null,"删除",-1))],8,Ue),s.status==o(r).SUCCESS?(i(),a("div",je,[n(L,{link:"",icon:"el-icon-DocumentAdd",onClick:p=>z(s)},{default:l(()=>[...e[7]||(e[7]=[E(" 训练知识库 ",-1)])]),_:1},8,["onClick"])])):f("",!0)])]),_:2},1024)]),_:1})]),_:1},8,["data","onRowClick"])]),_:1})):(i(),a("div",He,[n(J,{description:"暂无数据"})]))],64)):(i(),a("div",Ke,[n(Y),e[8]||(e[8]=t("div",{class:"text-sm text-gray-500 mt-10"},"加载中...",-1))]))])]),t("div",Ve,[n(c,{name:"el-icon-InfoFilled",color:"#B3B3B3"}),e[10]||(e[10]=t("span",{class:"text-[#B3B3B3] text-xs"},"免责声明：内容由AI大模型生成，请仔细甄别。",-1))])]),o(R)?(i(),I(ue,{key:0,ref_key:"addAudioRef",ref:B,onClose:e[0]||(e[0]=s=>R.value=!1),onSuccess:e[1]||(e[1]=s=>W())},null,512)):f("",!0),o(T)?(i(),I(fe,{key:1,ref_key:"knbBindRef",ref:A,onClose:e[2]||(e[2]=s=>T.value=!1)},null,512)):f("",!0)])}}});const Tt=ae(We,[["__scopeId","data-v-1c9a48ed"]]);export{Tt as default};
