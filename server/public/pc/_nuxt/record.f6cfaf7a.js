import{E as R}from"./el-avatar.25a7599a.js";import{E as B,a as T}from"./index.158d282d.js";import{d as V,cA as $,r as u,k as f,l as I,m as s,q as e,s as l,t as N,v as g,Z as i,bM as A,I as D,L as F,J as L,ai as j,u as S,cB as q,G as h,ay as G,_ as J}from"./entry.8705b591.js";import{_ as M}from"./index.vue.c79afe88.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as P}from"./usePaging.0c251ebb.js";import{_ as U}from"./reply.vue.1214c2e2.js";import"./index.d5b2ab73.js";import"./_baseIteratee.889eaccd.js";import"./debounce.4efe57e2.js";import"./toNumber.9701a4c1.js";import"./raf.11208e2e.js";import"./index.7002e1fb.js";import"./index.d9a24f65.js";import"./strings.05ad2423.js";import"./clamp.2d199c02.js";import"./index.f9213b2f.js";import"./index.vue.030f2d17.js";import"./index.3864ff87.js";import"./katex.21fbbe07.js";const Z={class:"h-full flex flex-col"},z={class:"grow min-h-0"},H={class:"flex items-center justify-center gap-x-2"},K={class:"flex justify-center my-4"},y=9006,O=V({__name:"record",props:{agentId:{}},setup(v){const d=v,{pager:n,getLists:p}=P({fetchFun:$,params:{robot_id:d.agentId,type:y}}),m=u(),c=u(!1),b=async r=>{c.value=!0,await j(),m.value.open(),m.value.setFormData(r)},x=async r=>{await S().$confirm({message:"确定删除此记录吗？",onConfirm:async()=>{try{await q({task_id:r,robot_id:d.agentId,chat_type:y}),h.msgSuccess("删除成功"),p()}catch(t){h.msgError(t||"删除失败")}}})};return p(),(r,t)=>{const k=R,a=B,_=G,C=T,w=M;return f(),I(L,null,[s("div",Z,[s("div",z,[e(C,{data:i(n).lists,height:"100%",stripe:"","header-cell-style":{height:"64px"},"row-style":{height:"60px"}},{default:l(()=>[e(a,{label:"用户信息","min-width":"160"},{default:l(({row:o})=>[s("div",H,[e(k,{src:o.avatar},null,8,["src"]),s("div",null,[s("div",null,N(o.nickname),1)])])]),_:1}),e(a,{label:"提问问题",prop:"message","show-overflow-tooltip":"","min-width":"200"}),e(a,{label:"回答内容",prop:"reply","show-overflow-tooltip":"","min-width":"200"}),e(a,{label:"应用端",prop:"source","min-width":"100"}),e(a,{label:"提问时间",prop:"create_time",width:"180"}),e(a,{label:"操作",width:"100",fixed:"right"},{default:l(({row:o})=>[e(_,{type:"primary",link:"",onClick:E=>b(o)},{default:l(()=>[...t[2]||(t[2]=[g("查看",-1)])]),_:1},8,["onClick"]),e(_,{type:"danger",link:"",onClick:E=>x(o.task_id)},{default:l(()=>[...t[3]||(t[3]=[g("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),s("div",K,[e(w,{modelValue:i(n),"onUpdate:modelValue":t[0]||(t[0]=o=>A(n)?n.value=o:null),layout:"prev, pager, next",onChange:i(p)},null,8,["modelValue","onChange"])])]),i(c)?(f(),D(U,{key:0,ref_key:"replyRef",ref:m,onClose:t[1]||(t[1]=o=>c.value=!1)},null,512)):F("",!0)],64)}}});const ve=J(O,[["__scopeId","data-v-b59fbc5a"]]);export{ve as default};
