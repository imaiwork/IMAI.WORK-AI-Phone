import{_ as B}from"./index.2280f26b.js";import{d as C,at as I,au as A,c as F,r as U,x as q,o as j,k as i,l as c,m as a,q as t,s,a3 as z,Z as f,J as D,K as N,I as R,v as L,av as O,aw as P,ax as $,ay as J,az as K}from"./entry.556496e9.js";import{E as T,a as W}from"./index.899f58ef.js";import{E as Z}from"./index.4bb9b943.js";/* empty css                  *//* empty css               *//* empty css                     */import{a as G}from"./common.1728c92e.js";import{A as H}from"./agent_bg.520030d5.js";import Q from"./agent-logo.1602151e.js";const X={class:"h-full flex flex-col"},Y={class:"grow min-h-0"},ee={class:"px-[30px]"},le={class:"mt-4"},oe={class:"mt-[10px]"},te={class:"flex mt-6 w-full gap-8"},ae={class:"flex-1"},se={class:"flex justify-between"},ve=C({__name:"index",props:I({modelValue:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v,{expose:g}){const x=A(),r=F(()=>x.getAiModelConfig.channel||[]),p=U(),l=q(v,"modelValue"),b={image:[{required:!0,message:"请上传机器人logo"}],name:[{required:!0,message:"请输入机器人名称"}],intro:[{required:!0,message:"请输入机器人角色简介"}]},V=d=>{const{uri:e}=d.data;l.value.bg_image=e},_=d=>{const e=r.value.find(n=>n.model_id==d);if(e)l.value.model_sub_id=e.model_sub_id;else if(!d&&r.value.length>0){const n=r.value[0];l.value.model_id=n.model_id,l.value.model_sub_id=n.model_sub_id}},E=()=>{l.value.roles_prompt=G};return j(()=>{_(l.value.model_id)}),g({validate:()=>new Promise((d,e)=>{var n;return(n=p.value)==null?void 0:n.validate().then(d).catch(e)})}),(d,e)=>{const n=B,u=O,m=P,h=T,w=W,y=$,k=J,M=K,S=Z;return i(),c("div",X,[a("div",Y,[t(S,null,{default:s(()=>[a("div",ee,[t(M,{model:l.value,rules:b,ref_key:"formRef",ref:p,"label-position":"top"},{default:s(()=>[a("div",{class:"mt-3 w-full h-[180px] bg-no-repeat bg-cover rounded-tl-[20px] rounded-tr-[20px] flex flex-col justify-center items-center",style:z({backgroundImage:`url(${l.value.bg_image||f(H)})`})},[a("div",le,[t(Q,{modelValue:l.value.image,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.image=o)},null,8,["modelValue"])]),a("div",oe,[t(n,{limit:1,"show-progress":"","show-file-list":!1,onSuccess:V},{default:s(()=>[...e[6]||(e[6]=[a("div",{class:"w-[72px] h-[29px] flex items-center justify-center rounded-[32px] bg-[#00000066] text-white"}," 更换背景 ",-1)])]),_:1})])],4),a("div",te,[a("div",null,[t(m,{label:"智能体名称",prop:"name"},{default:s(()=>[t(u,{modelValue:l.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.name=o),class:"!h-11",placeholder:"请输入智能体名称"},null,8,["modelValue"])]),_:1}),t(m,{label:"智能体模型",prop:"model_id"},{default:s(()=>[t(w,{modelValue:l.value.model_id,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.model_id=o),class:"!h-11",placeholder:"请选择智能体模型",filterable:"",onChange:_},{default:s(()=>[(i(!0),c(D,null,N(f(r),o=>(i(),R(h,{key:o.id,label:o.name,value:o.model_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),a("div",ae,[t(m,{label:"相关介绍",prop:"intro"},{default:s(()=>[t(u,{modelValue:l.value.intro,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.intro=o),type:"textarea","show-word-limit":"",resize:"none",placeholder:"请输入相关介绍 ...",maxlength:500,rows:6},null,8,["modelValue"])]),_:1})])]),t(y,{class:"!border-[#0000000d] !mt-2"}),t(m,null,{label:s(()=>[a("div",se,[e[8]||(e[8]=a("div",null,[a("span",{class:"font-bold"},"提示词"),a("span",{class:"ml-2 text-[#00000080]"},"角色、背景、职责、工作流程、沟通方式、目的")],-1)),t(k,{link:"",type:"primary",onClick:e[4]||(e[4]=o=>E())},{default:s(()=>[...e[7]||(e[7]=[L("一键填入示例",-1)])]),_:1})])]),default:s(()=>[t(u,{modelValue:l.value.roles_prompt,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.roles_prompt=o),type:"textarea","show-word-limit":"",placeholder:"请输入相关提示词 ...",maxlength:1e5,rows:6},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})])])}}});export{ve as _};
