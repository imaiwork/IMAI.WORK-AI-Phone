import{d as R,au as B,c as H,r as P,A as J,aG as j,o as G,k as d,l as f,m as n,q as t,s as a,Z as s,$ as L,v as x,aI as M,I as w,t as z,J as y,L as _,bM as U,ai as q,u as F,G as b,ay as K,av as Y,y as Z,ba as O,cY as Q}from"./entry.8705b591.js";import{E as W}from"./index.d5b2ab73.js";import{E as X,a as ee}from"./index.158d282d.js";import{_ as te}from"./index.vue.c79afe88.js";/* empty css                     *//* empty css                        *//* empty css               *//* empty css                 */import{u as oe}from"./usePaging.0c251ebb.js";import{g as ne,j as se}from"./digital_human.299b9036.js";import{DigitalHumanModelVersionEnum as c,ToneTypeEnum as le}from"./index.d52c6f2c.js";import{_ as ae}from"./empty.vue.55de51c3.js";import ie from"./add-pop.1c7ad41c.js";const re={class:"h-full flex flex-col bg-app-bg-2 rounded-[20px]"},de={class:"flex-shrink-0 px-[14px]"},ce={class:"flex items-center justify-end h-[88px]"},me={class:"flex items-center gap-[14px]"},pe={class:"grow min-h-0 overflow-hidden flex flex-col"},ue={class:"grow min-h-0"},fe={class:"flex items-center gap-2 justify-center"},_e={class:"leading-6"},ge={class:"flex justify-center p-4"},De=R({__name:"index",setup(ve){const C=B(),E=H(()=>{const{channel:l}=C.getDigitalHumanConfig;return l&&l.length>0?l.filter(e=>e.status==1&&[c.CHANJING,c.STANDARD,c.SHANJIAN].includes(e.id)):[]}),g=P(!1),h=J(),v=j({name:"",model_version:`${c.CHANJING},${c.STANDARD},${c.SHANJIAN}`,builtin:le.USER}),{pager:m,getLists:i}=oe({fetchFun:ne,params:v}),A=l=>{const e=E.value.find(r=>r.id==l);return(e==null?void 0:e.name)||""},k=async()=>{var l;g.value=!0,await q(),(l=h.value)==null||l.open()},N=async l=>{F().$confirm({title:"提示",message:"是否删除该音色",theme:"dark",onConfirm:async()=>{try{await se({id:l}),i(),b.msgSuccess("删除成功")}catch(e){b.msgError(e||"删除失败")}}})};return G(()=>{i()}),(l,e)=>{const r=K,$=Y,u=Z,S=O,T=W,p=X,V=ee,D=te,I=Q;return d(),f("div",re,[n("div",de,[t(T,null,{default:a(()=>[n("div",ce,[n("div",me,[t($,{modelValue:s(v).name,"onUpdate:modelValue":e[1]||(e[1]=o=>s(v).name=o),"prefix-icon":"el-icon-Search",class:"!w-[240px] search-name-input",placeholder:"请输入音色名称",clearable:"",onClear:e[2]||(e[2]=o=>s(i)()),onKeydown:e[3]||(e[3]=L(o=>s(i)(),["enter"]))},{append:a(()=>[t(r,{text:"",onClick:e[0]||(e[0]=o=>s(i)())},{default:a(()=>[...e[8]||(e[8]=[x(" 搜索 ",-1)])]),_:1})]),_:1},8,["modelValue"]),t(r,{type:"primary",class:"!rounded-full !h-10 !w-[116px]",onClick:k},{default:a(()=>[t(u,{name:"local-icon-add_circle",color:"#ffffff"}),e[9]||(e[9]=n("span",{class:"ml-2"},"新增音色",-1))]),_:1}),n("div",null,[t(S,{content:"刷新"},{default:a(()=>[t(r,{circle:"",color:"#1f1f1f",icon:"el-icon-Refresh",class:"!w-10 !h-10",onClick:e[4]||(e[4]=o=>s(i)())})]),_:1})])])])]),_:1})]),n("div",pe,[n("div",ue,[M((d(),w(V,{height:"100%",data:s(m).lists,"header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:a(()=>[n("div",_e,[t(ae,{"btn-text":"新增音色",msg:"快去创建你的专属音色吧","custom-click":k})])]),default:a(()=>[t(p,{prop:"name",label:"音色名称","min-width":"200"}),t(p,{label:"创建时间",prop:"create_time","min-width":"200"}),t(p,{label:"使用模型","min-width":"120"},{default:a(({row:o})=>[x(z(A(o.model_version)),1)]),_:1}),t(p,{label:"状态","min-width":"120"},{default:a(({row:o})=>[n("div",fe,[[0,3,4,5].includes(o.status)?(d(),f(y,{key:0},[t(u,{name:"local-icon-clone",color:"#ffffff",size:16}),e[10]||(e[10]=n("span",{class:"text-warning"},"克隆中...",-1))],64)):_("",!0),o.status===1?(d(),f(y,{key:1},[t(u,{name:"local-icon-success_fill",color:"var(--el-color-success)",size:16}),e[11]||(e[11]=n("span",{class:"text-success"},"成功",-1))],64)):_("",!0),o.status===2?(d(),f(y,{key:2},[t(u,{name:"local-icon-error_fill",size:16}),e[12]||(e[12]=n("span",{class:"text-danger"},"失败",-1))],64)):_("",!0)])]),_:1}),t(p,{label:"操作",width:"100",fixed:"right"},{default:a(({row:o})=>[t(r,{link:"",type:"danger",onClick:xe=>N(o.id)},{default:a(()=>[...e[13]||(e[13]=[x(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,s(m).loading]])]),n("div",ge,[t(D,{modelValue:s(m),"onUpdate:modelValue":e[5]||(e[5]=o=>U(m)?m.value=o:null),layout:"prev, pager, next",onChange:s(i)},null,8,["modelValue","onChange"])])]),s(g)?(d(),w(ie,{key:0,ref_key:"addPopRef",ref:h,onClose:e[6]||(e[6]=o=>g.value=!1),onSuccess:e[7]||(e[7]=o=>s(i)())},null,512)):_("",!0)])}}});export{De as _};
