import{d as b,z as w,r as m,aG as I,k as l,l as r,m as o,q as c,L as d,Z as e,I as V,t as j,s as u,y as B,av as P,ay as z,_ as S}from"./entry.9c858de7.js";/* empty css                  *//* empty css                    *//* empty css                  *//* empty css                   */import{_ as D}from"./chatting.vue.ab24a213.js";/* empty css                     */import"./useHandle.c71e3e80.js";import{ContentTypeEnum as s}from"./index.7221601a.js";import"./el-empty.9547ccf9.js";import"./vue-virtual-scroller.esm.a5f6acb9.js";/* empty css                             */import"./chat-msg-item.vue.eb0e85d0.js";import"./el-image.315c077e.js";import"./el-image-viewer.d6a7ffcb.js";import"./throttle.69751cc4.js";import"./debounce.3f6e2cd0.js";import"./toNumber.590fb445.js";import"./el-avatar.c9ca9098.js";import"./chat-content.2555e529.js";import"./useAudio.bd8029bc.js";import"./person_wechat.703f63bb.js";import"./index.cf59f1a8.js";import"./useMessage.63be5486.js";const L={class:"w-full h-full bg-white flex flex-col"},N={class:"grow min-h-0 bg-white relative"},$={class:"h-[250px] flex-shrink-0 border-t border-[#E5E5E5] flex flex-col py-2 px-4 relative"},K={class:"grow min-h-0"},U={key:1,class:"flex justify-center h-full"},q=["src"],G={key:2,class:"flex justify-center h-full"},R=["src"],Z={key:3,class:"flex justify-center h-full"},A={class:"flex justify-end mt-1"},F={key:1,class:"absolute top-[60px] right-2 z-[1000]"},H=b({__name:"chatting-panel",emits:["contentPost","top"],setup(J,{emit:f}){const _=f,y=w(),{isLogin:h,toggleShowLogin:x}=y;m(!0),m("image/png,image/jpeg,video/mp4,audio/mp3,audio/mp4,.zip");const t=I({contentType:s.Text,content:"",file:{}}),v=i=>{t.contentType=s.Text},g=i=>{if(!(i.shiftKey&&i.keyCode===13)){if(!h){x();return}if(i.keyCode===13)return i.preventDefault()}},E=()=>{},k=()=>{t.content="",t.contentType=s.Text,t.file={}};return(i,n)=>{const T=B,C=P,a=z;return l(),r("div",L,[n[3]||(n[3]=o("div",{class:"h-[58px] flex-shrink-0 flex items-center px-4 justify-between border-b border-[#E5E5E5]"},[o("div",null,"陈伟基")],-1)),o("div",N,[c(D,{ref:"chattingRef",onTop:n[0]||(n[0]=p=>_("top"))},null,512)]),o("div",$,[d("",!0),o("div",K,[e(t).contentType==e(s).Text?(l(),V(C,{key:0,modelValue:e(t).content,"onUpdate:modelValue":n[1]||(n[1]=p=>e(t).content=p),type:"textarea",resize:"none",rows:6,onInput:v,onKeydown:g},null,8,["modelValue"])):e(t).contentType==e(s).Picture?(l(),r("div",U,[o("img",{src:e(t).file.uri,class:"h-full"},null,8,q)])):e(t).contentType==e(s).Video?(l(),r("div",G,[o("video",{src:e(t).file.uri,controls:"",class:"h-full"},null,8,R)])):(l(),r("div",Z,[o("div",null,j(e(t).file.name),1)]))]),o("div",A,[c(a,{color:"#E9E9E9",onClick:E},{default:u(()=>[...n[2]||(n[2]=[o("span",{class:"text-[#07C160] font-bold"},"发送（Enter）",-1)])]),_:1})]),e(t).contentType!=e(s).Text?(l(),r("div",F,[c(a,{type:"danger",onClick:k},{default:u(()=>[c(T,{name:"el-icon-Delete"})]),_:1})])):d("",!0)])])}}});const xt=S(H,[["__scopeId","data-v-2849cac9"]]);export{xt as default};
