import{_ as S}from"./index.vue.83bf2a64.js";import{E as B,a as T}from"./index.899f58ef.js";import{d as A,z as U,c as D,r as L,aG as N,cy as O,I as z,s as c,cX as F,G as p,k as _,m as a,q as r,Z as s,cZ as K,l as R,K as G,J as P,v as Z,t as $,dv as q,av as H,ay as J}from"./entry.556496e9.js";/* empty css                  *//* empty css               *//* empty css                     */import{g as W}from"./sph.d6d2831a.js";import{CreateTypeEnum as X}from"./index.22c5df69.js";const j={class:"-my-4"},M={class:"mt-4"},Q={class:"mt-4"},Y={class:"mt-4"},ce=A({__name:"ai-add-keyword",props:{type:{type:Number,default:X.VIDEO}},emits:["close","success"],setup(y,{expose:k,emit:g}){const d=y,i=g,l=U(),u=D(()=>{var e;return((e=l.getTokenByScene(q.SPH_AI_CLUE))==null?void 0:e.score)*o.targetCount}),m=L(),o=N({targetCount:30,keyword:"",channelVersion:d.type}),x=()=>{m.value.open(),o.channelVersion=d.type},f=()=>{i("close")},{lockFn:w,isLock:h}=O(async()=>{if(l.userTokens<=u.value){p.msgPowerInsufficient();return}if(!o.keyword){p.msgWarning("请输入您想获取的线索方向");return}try{let t=await W(o);t&&t.length>0&&(t=t.filter(e=>e.indexOf("=")==-1).map(e=>e.trim())),l.getUser(),i("success",t),f()}catch(t){p.msgError(t||"操作失败")}});return k({open:x}),(t,e)=>{const v=S,E=B,b=T,V=H,C=J,I=F;return _(),z(I,{ref_key:"popupRef",ref:m,async:"",width:"500px","confirm-button-text":"","cancel-button-text":"",style:{padding:"18px","border-radius":"20px","background-color":"var(--app-bg-color-3)","box-shadow":"0 0 0 1px #2a2a2a"},"append-to-body":!1,"show-close":!1},{default:c(()=>[a("div",j,[a("div",{class:"absolute w-6 h-6 top-[18px] right-[18px] z-[22]",onClick:f},[r(v,{theme:s(K).DARK},null,8,["theme"])]),e[3]||(e[3]=a("div",{class:"text-[15px] text-white font-bold"},"AI添加检索关键词",-1)),a("div",M,[r(b,{modelValue:s(o).targetCount,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).targetCount=n),placeholder:"请选择生成数量",class:"!h-11","popper-class":"dark-select-popper ","show-arrow":!1},{default:c(()=>[(_(),R(P,null,G([10,20,30,40,50,60,70,80,90,100],n=>r(E,{key:n,label:`${n}个`,value:n},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),a("div",Q,[e[2]||(e[2]=a("div",{class:"text-white mb-3"},"生成相关内容",-1)),r(V,{modelValue:s(o).keyword,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).keyword=n),type:"textarea",placeholder:"请输入需要检索的相关方向，AI将自动为您生成相关检索词",resize:"none",rows:10},null,8,["modelValue"])]),a("div",Y,[r(C,{type:"primary",class:"!rounded-full w-full !h-[50px]",loading:s(h),onClick:s(w)},{default:c(()=>[Z("立即生成(消耗"+$(s(u))+"算力)",1)]),_:1},8,["loading","onClick"])])])]),_:1},512)}}});export{ce as _};
