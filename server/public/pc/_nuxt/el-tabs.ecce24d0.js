import{dc as Ve,Q as Z,S as Y,U as se,d as D,ab as re,N as ie,W as X,r as _,c as w,aS as K,D as W,ai as q,aA as ne,b as pe,Z as B,k as ge,l as ye,Y as _e,a3 as Fe,L as Ne,aa as Te,dd as Le,de as Ie,A as Me,df as fe,o as We,bl as De,d5 as He,q as b,a1 as j,cr as Ke,cs as Ue,a6 as je,aY as le,aZ as z,aj as Ye,dg as qe,H as oe,b_ as Ze,a_ as Ce,aq as Xe,aV as Ge,aE as Ee,c9 as Je,dh as me,aG as Qe,di as ea,aI as aa,aJ as ta,an as sa,bg as na}from"./entry.9c858de7.js";import{c as la,r as oa}from"./raf.737e07d1.js";import{c as V}from"./strings.39ad33fc.js";import{c as ra}from"./clamp.c33da429.js";import{u as ia}from"./index.3244d4d2.js";const ca="horizontal",ua="vertical",da={[ca]:"deltaX",[ua]:"deltaY"},va=({atEndEdge:e,atStartEdge:r,layout:h},p)=>{let t,i=0;const N=m=>m<0&&r.value||m>0&&e.value;return{hasReachedEdge:N,onWheel:m=>{la(t);const v=m[da[h.value]];N(i)&&N(i+v)||(i+=v,Ve()||m.preventDefault(),t=oa(()=>{p(i),i=0}))}}},G=Symbol("tabsRootContextKey"),ba=Z({tabs:{type:Y(Array),default:()=>se([])},tabRefs:{type:Y(Object),default:()=>se({})}}),Se="ElTabBar",fa=D({name:Se}),ma=D({...fa,props:ba,setup(e,{expose:r}){const h=e,p=re(G);p||ie(Se,"<el-tabs><el-tab-bar /></el-tabs>");const t=X("tabs"),i=_(),N=_(),f=w(()=>{var s;return K(p.props.defaultValue)||!!((s=N.value)!=null&&s.transform)}),m=()=>{let s=0,E=0;const o=["top","bottom"].includes(p.props.tabPosition)?"width":"height",O=o==="width"?"x":"y",x=O==="x"?"left":"top";return h.tabs.every(S=>{if(K(S.paneName))return!1;const a=h.tabRefs[S.paneName];if(!a)return!1;if(!S.active)return!0;s=a[`offset${V(x)}`],E=a[`client${V(o)}`];const g=window.getComputedStyle(a);return o==="width"&&(E-=Number.parseFloat(g.paddingLeft)+Number.parseFloat(g.paddingRight),s+=Number.parseFloat(g.paddingLeft)),!1}),{[o]:`${E}px`,transform:`translate${V(O)}(${s}px)`}},v=()=>N.value=m(),T=[],y=()=>{T.forEach(s=>s.stop()),T.length=0,Object.values(h.tabRefs).forEach(s=>{T.push(ne(s,v))})};W(()=>h.tabs,async()=>{await q(),v(),y()},{immediate:!0});const u=ne(i,()=>v());return pe(()=>{T.forEach(s=>s.stop()),T.length=0,u.stop()}),r({ref:i,update:v}),(s,E)=>B(f)?(ge(),ye("div",{key:0,ref_key:"barRef",ref:i,class:_e([B(t).e("active-bar"),B(t).is(B(p).props.tabPosition)]),style:Fe(N.value)},null,6)):Ne("v-if",!0)}});var ha=Te(ma,[["__file","tab-bar.vue"]]);const pa=Z({panes:{type:Y(Array),default:()=>se([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),ga={tabClick:(e,r,h)=>h instanceof Event,tabRemove:(e,r)=>r instanceof Event},he="ElTabNav",ya=D({name:he,props:pa,emits:ga,setup(e,{expose:r,emit:h}){const p=re(G);p||ie(he,"<el-tabs><tab-nav /></el-tabs>");const t=X("tabs"),i=Le(),N=Ie(),f=_(),m=_(),v=_(),T=_({}),y=_(),u=_(!1),s=_(0),E=_(!1),o=_(!0),O=Me(),x=w(()=>["top","bottom"].includes(p.props.tabPosition)),S=w(()=>x.value?"width":"height"),a=w(()=>({transform:`translate${S.value==="width"?"X":"Y"}(-${s.value}px)`})),{width:g,height:P}=fe(f),{width:F,height:M}=fe(m,{width:0,height:0},{box:"border-box"}),H=w(()=>x.value?g.value:P.value),L=w(()=>x.value?F.value:M.value),{onWheel:I}=va({atStartEdge:w(()=>s.value<=0),atEndEdge:w(()=>L.value-s.value<=H.value),layout:w(()=>x.value?"horizontal":"vertical")},n=>{s.value=ra(s.value+n,0,L.value-H.value)}),J=()=>{if(!f.value)return;const n=f.value[`offset${V(S.value)}`],d=s.value;if(!d)return;const l=d>n?d-n:0;s.value=l},Re=()=>{if(!f.value||!m.value)return;const n=m.value[`offset${V(S.value)}`],d=f.value[`offset${V(S.value)}`],l=s.value;if(n-l<=d)return;const c=n-l>d*2?l+d:n-d;s.value=c},ce=async()=>{const n=m.value;if(!u.value||!v.value||!f.value||!n)return;await q();const d=T.value[e.currentName];if(!d)return;const l=f.value,c=d.getBoundingClientRect(),C=l.getBoundingClientRect(),R=x.value?n.offsetWidth-C.width:n.offsetHeight-C.height,k=s.value;let $=k;x.value?(c.left<C.left&&($=k-(C.left-c.left)),c.right>C.right&&($=k+c.right-C.right)):(c.top<C.top&&($=k-(C.top-c.top)),c.bottom>C.bottom&&($=k+(c.bottom-C.bottom))),$=Math.max($,0),s.value=Math.min($,R)},ue=()=>{var n;if(!m.value||!f.value)return;e.stretch&&((n=y.value)==null||n.update());const d=m.value[`offset${V(S.value)}`],l=f.value[`offset${V(S.value)}`],c=s.value;l<d?(u.value=u.value||{},u.value.prev=c,u.value.next=c+l<d,d-c<l&&(s.value=d-l)):(u.value=!1,c>0&&(s.value=0))},xe=n=>{const d=le(n);let l=0;switch(d){case z.left:case z.up:l=-1;break;case z.right:case z.down:l=1;break;default:return}const c=Array.from(n.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let R=c.indexOf(n.target)+l;R<0?R=c.length-1:R>=c.length&&(R=0),c[R].focus({preventScroll:!0}),c[R].click(),de()},de=()=>{o.value&&(E.value=!0)},Q=()=>E.value=!1,$e=(n,d)=>{T.value[d]=n},Be=async()=>{await q();const n=T.value[e.currentName];n==null||n.focus({preventScroll:!0})};return W(i,n=>{n==="hidden"?o.value=!1:n==="visible"&&setTimeout(()=>o.value=!0,50)}),W(N,n=>{n?setTimeout(()=>o.value=!0,50):o.value=!1}),ne(v,ue),We(()=>setTimeout(()=>ce(),0)),De(()=>ue()),r({scrollToActiveTab:ce,removeFocus:Q,focusActiveTab:Be,tabListRef:m,tabBarRef:y,scheduleRender:()=>He(O)}),()=>{const n=u.value?[b("span",{class:[t.e("nav-prev"),t.is("disabled",!u.value.prev)],onClick:J},[b(j,null,{default:()=>[b(Ke,null,null)]})]),b("span",{class:[t.e("nav-next"),t.is("disabled",!u.value.next)],onClick:Re},[b(j,null,{default:()=>[b(Ue,null,null)]})])]:null,d=e.panes.map((l,c)=>{var C,R,k,$,ve;const Oe=l.uid,ee=l.props.disabled,U=(R=(C=l.props.name)!=null?C:l.index)!=null?R:`${c}`,ae=!ee&&(l.isClosable||l.props.closable!==!1&&e.editable);l.index=`${c}`;const ke=ae?b(j,{class:"is-icon-close",onClick:A=>h("tabRemove",l,A)},{default:()=>[b(je,null,null)]}):null,Ae=(($=(k=l.slots).label)==null?void 0:$.call(k))||l.props.label,ze=!ee&&l.active?(ve=e.tabindex)!=null?ve:p.props.tabindex:-1;return b("div",{ref:A=>$e(A,U),class:[t.e("item"),t.is(p.props.tabPosition),t.is("active",l.active),t.is("disabled",ee),t.is("closable",ae),t.is("focus",E.value)],id:`tab-${U}`,key:`tab-${Oe}`,"aria-controls":`pane-${U}`,role:"tab","aria-selected":l.active,tabindex:ze,onFocus:()=>de(),onBlur:()=>Q(),onClick:A=>{Q(),h("tabClick",l,U,A)},onKeydown:A=>{const be=le(A);ae&&(be===z.delete||be===z.backspace)&&h("tabRemove",l,A)}},[Ae,ke])});return O.value,b("div",{ref:v,class:[t.e("nav-wrap"),t.is("scrollable",!!u.value),t.is(p.props.tabPosition)]},[n,b("div",{class:t.e("nav-scroll"),ref:f},[e.panes.length>0?b("div",{class:[t.e("nav"),t.is(p.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(p.props.tabPosition))],ref:m,style:a.value,role:"tablist",onKeydown:xe,onWheel:I},[e.type?null:b(ha,{ref:y,tabs:[...e.panes],tabRefs:T.value},null),d]):null])])}}}),_a=Z({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Y(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),te=e=>Xe(e)||Ge(e),Na={[Ce]:e=>te(e),tabClick:(e,r)=>r instanceof Event,tabChange:e=>te(e),edit:(e,r)=>["remove","add"].includes(r),tabRemove:e=>te(e),tabAdd:()=>!0},Ta=D({name:"ElTabs",props:_a,emits:Na,setup(e,{emit:r,slots:h,expose:p}){var t;const i=X("tabs"),N=w(()=>["left","right"].includes(e.tabPosition)),{children:f,addChild:m,removeChild:v,ChildrenSorter:T}=ia(Ee(),"ElTabPane"),y=_(),u=_((t=K(e.modelValue)?e.defaultValue:e.modelValue)!=null?t:"0"),s=async(a,g=!1)=>{var P,F,M,H;if(!(u.value===a||K(a)))try{let L;if(e.beforeLeave){const I=e.beforeLeave(a,u.value);L=I instanceof Promise?await I:I}else L=!0;if(L!==!1){const I=(P=f.value.find(J=>J.paneName===u.value))==null?void 0:P.isFocusInsidePane();u.value=a,g&&(r(Ce,a),r("tabChange",a)),(M=(F=y.value)==null?void 0:F.removeFocus)==null||M.call(F),I&&((H=y.value)==null||H.focusActiveTab())}}catch{}},E=(a,g,P)=>{a.props.disabled||(r("tabClick",a,P),s(g,!0))},o=(a,g)=>{a.props.disabled||K(a.props.name)||(g.stopPropagation(),r("edit",a.props.name,"remove"),r("tabRemove",a.props.name))},O=()=>{r("edit",void 0,"add"),r("tabAdd")},x=a=>{const g=le(a);[z.enter,z.numpadEnter].includes(g)&&O()},S=a=>{const g=a.el.firstChild,P=["bottom","right"].includes(e.tabPosition)?a.children[0].el:a.children[1].el;g!==P&&g.before(P)};return W(()=>e.modelValue,a=>s(a)),W(u,async()=>{var a;await q(),(a=y.value)==null||a.scrollToActiveTab()}),Ye(G,{props:e,currentName:u,registerPane:m,unregisterPane:v,nav$:y}),p({currentName:u,get tabNavRef(){return qe(y.value,["scheduleRender"])}}),()=>{const a=h["add-icon"],g=e.editable||e.addable?b("div",{class:[i.e("new-tab"),N.value&&i.e("new-tab-vertical")],tabindex:e.tabindex,onClick:O,onKeydown:x},[a?oe(h,"add-icon"):b(j,{class:i.is("icon-plus")},{default:()=>[b(Ze,null,null)]})]):null,P=()=>b(ya,{ref:y,currentName:u.value,editable:e.editable,type:e.type,panes:f.value,stretch:e.stretch,onTabClick:E,onTabRemove:o},null),F=b("div",{class:[i.e("header"),N.value&&i.e("header-vertical"),i.is(e.tabPosition)]},[b(T,null,{default:P,$stable:!0}),g]),M=b("div",{class:i.e("content")},[oe(h,"default")]);return b("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}],onVnodeMounted:S,onVnodeUpdated:S},[M,F])}}});var Ca=Ta;const Ea=Z({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),we="ElTabPane",Sa=D({name:we}),wa=D({...Sa,props:Ea,setup(e){const r=e,h=Ee(),p=Je(),t=re(G);t||ie(we,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=X("tab-pane"),N=_(),f=_(),m=w(()=>{var o;return(o=r.closable)!=null?o:t.props.closable}),v=me(()=>{var o;return t.currentName.value===((o=r.name)!=null?o:f.value)}),T=_(v.value),y=w(()=>{var o;return(o=r.name)!=null?o:f.value}),u=me(()=>!r.lazy||T.value||v.value),s=()=>{var o;return(o=N.value)==null?void 0:o.contains(document.activeElement)};W(v,o=>{o&&(T.value=!0)});const E=Qe({uid:h.uid,getVnode:()=>h.vnode,slots:p,props:r,paneName:y,active:v,index:f,isClosable:m,isFocusInsidePane:s});return t.registerPane(E),pe(()=>{t.unregisterPane(E)}),ea(()=>{var o;p.label&&((o=t.nav$.value)==null||o.scheduleRender())}),(o,O)=>B(u)?aa((ge(),ye("div",{key:0,id:`pane-${B(y)}`,ref_key:"paneRef",ref:N,class:_e(B(i).b()),role:"tabpanel","aria-hidden":!B(v),"aria-labelledby":`tab-${B(y)}`},[oe(o.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[ta,B(v)]]):Ne("v-if",!0)}});var Pe=Te(wa,[["__file","tab-pane.vue"]]);const Oa=sa(Ca,{TabPane:Pe}),ka=na(Pe);export{ka as E,Oa as a};
